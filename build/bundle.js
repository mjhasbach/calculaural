!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(5)["default"],i=n(6),o=r(i),s=n(125),a=n(210),u=r(a),l=n(183),c=r(l),h=s.root(u["default"],c["default"]);o["default"].render(o["default"].createElement(h,null),document.getElementById("wrap"))},function(t,e){function n(){l=!1,s.length?u=s.concat(u):c=-1,u.length&&r()}function r(){if(!l){var t=setTimeout(n);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s[c].run();c=-1,e=u.length}s=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=[],l=!1,c=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||l||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){/**
	 * @file        Main export of the PIXI core library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
var r=t.exports=Object.assign(n(13),n(18),{utils:n(19),ticker:n(290),DisplayObject:n(129),Container:n(58),Sprite:n(136),ParticleContainer:n(273),SpriteRenderer:n(287),ParticleRenderer:n(275),Text:n(288),Graphics:n(265),GraphicsData:n(130),GraphicsRenderer:n(266),Texture:n(46),BaseTexture:n(62),RenderTexture:n(90),VideoBaseTexture:n(138),TextureUvs:n(137),CanvasRenderer:n(277),CanvasGraphics:n(87),CanvasBuffer:n(86),WebGLRenderer:n(59),ShaderManager:n(135),Shader:n(60),ObjectRenderer:n(45),RenderTarget:n(61),AbstractFilter:n(88),FXAAFilter:n(132),SpriteMaskFilter:n(133),autoDetectRenderer:function(t,e,n,i){return t=t||800,e=e||600,!i&&r.utils.isWebGLSupported()?new r.WebGLRenderer(t,e,n):new r.CanvasRenderer(t,e,n)}})},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,o,s,a,u){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,s,a,u],h=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return c[h++]}))}throw l.framesToPop=1,l}};t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return isNaN(t=+t)?0:(t>0?m:f)(t)}function i(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function o(t,e,n){return t[e]=n,t}function s(t){return g?function(e,n,r){return b.setDesc(e,n,i(t,r))}:o}function a(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function u(t){return"function"==typeof t}function l(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}var c="undefined"!=typeof self?self:Function("return this")(),h={},p=Object.defineProperty,d={}.hasOwnProperty,f=Math.ceil,m=Math.floor,v=Math.max,y=Math.min,g=!!function(){try{return 2==p({},"a",{get:function(){return 2}}).a}catch(t){}}(),_=s(1),b=t.exports=n(233)({g:c,core:h,html:c.document&&document.documentElement,isObject:a,isFunction:u,that:function(){return this},toInteger:r,toLength:function(t){return t>0?y(r(t),9007199254740991):0},toIndex:function(t,e){return t=r(t),0>t?v(t+e,0):y(t,e)},has:function(t,e){return d.call(t,e)},create:Object.create,getProto:Object.getPrototypeOf,DESC:g,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:p,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:l,ES5Object:Object,toObject:function(t){return b.ES5Object(l(t))},hide:_,def:s(0),set:c.Symbol?o:_,each:[].forEach});"undefined"!=typeof __e&&(__e=h),"undefined"!=typeof __g&&(__g=c)},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){t.exports=n(353)},function(t,e){"use strict";e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,n){"use strict";var r=n(118)["default"];e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.__esModule=!0},function(t,e,n){"use strict";var r=n(215)["default"];e["default"]=function(t,e,n){for(var i=!0;i;){var o=t,s=e,a=n;u=c=l=void 0,i=!1,null===o&&(o=Function.prototype);var u=r(o,s);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=s,n=a,i=!0}},e.__esModule=!0},function(t,e,n){"use strict";var r=n(213)["default"],i=n(216)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i?i(t,e):t.__proto__=e)},e.__esModule=!0},function(t,e){},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var s=Object(o);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}t.exports=n},function(t,e,n){var r={VERSION:n(254).version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,n){Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[n]:null},set:function(t){"production"!==e.env.NODE_ENV?u(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",n):null,this._store[n]=t}})}function i(t){try{var e={props:!0};for(var n in e)r(t,n);c=!0}catch(i){}}var o=n(100),s=n(26),a=n(12),u=n(15),l={key:!0,ref:!0},c=!1,h=function(t,n,r,i,o,s){if(this.type=t,this.key=n,this.ref=r,this._owner=i,this._context=o,"production"!==e.env.NODE_ENV){this._store={props:s,originalProps:a({},s)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(u){}if(this._store.validated=!1,c)return void Object.freeze(this)}this.props=s};h.prototype={_isReactElement:!0},"production"!==e.env.NODE_ENV&&i(h.prototype),h.createElement=function(t,e,n){var r,i={},a=null,u=null;if(null!=e){u=void 0===e.ref?null:e.ref,a=void 0===e.key?null:""+e.key;for(r in e)e.hasOwnProperty(r)&&!l.hasOwnProperty(r)&&(i[r]=e[r])}var c=arguments.length-2;if(1===c)i.children=n;else if(c>1){for(var p=Array(c),d=0;c>d;d++)p[d]=arguments[d+2];i.children=p}if(t&&t.defaultProps){var f=t.defaultProps;for(r in f)"undefined"==typeof i[r]&&(i[r]=f[r])}return new h(t,a,u,s.current,o.current,i)},h.createFactory=function(t){var e=h.createElement.bind(null,t);return e.type=t,e},h.cloneAndReplaceProps=function(t,n){var r=new h(t.type,t.key,t.ref,t._owner,t._context,n);return"production"!==e.env.NODE_ENV&&(r._store.validated=t._store.validated),r},h.cloneElement=function(t,e,n){var r,i=a({},t.props),o=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=s.current),void 0!==e.key&&(o=""+e.key);for(r in e)e.hasOwnProperty(r)&&!l.hasOwnProperty(r)&&(i[r]=e[r])}var p=arguments.length-2;if(1===p)i.children=n;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];i.children=d}return new h(t.type,o,u,c,t._context,i)},h.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},t.exports=h}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(29),i=r;"production"!==e.env.NODE_ENV&&(i=function(t,e){for(var n=[],r=2,i=arguments.length;i>r;r++)n.push(arguments[r]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var o=0,s="Warning: "+e.replace(/%s/g,function(){return n[o++]});console.warn(s);try{throw new Error(s)}catch(a){}}}),t.exports=i}).call(e,n(1))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={changeSetting:function(t){this.props.cursor.set(t.target.value)}},t.exports=e["default"]},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){t.exports={Point:n(84),Matrix:n(268),Circle:n(269),Ellipse:n(270),Polygon:n(271),Rectangle:n(85),RoundedRectangle:n(272)}},function(t,e,n){var r=n(13),i=t.exports={_uid:0,_saidHello:!1,pluginTarget:n(291),async:n(128),uid:function(){return++i._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=t+"AP804Oa6"+e;var r=new Image;r.src=t+"/wCKxvRF"+e;var i=document.createElement("canvas");i.width=6,i.height=1;var o=i.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(n,0,0),o.drawImage(r,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=r.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!i._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+r.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+r.VERSION+" - "+t+" - http://www.pixijs.com/");i._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!n||!n.getContextAttributes().stencil)}catch(r){return!1}},TextureCache:{},BaseTextureCache:{}}},function(t,e,n){"use strict";var r=n(53),i=r({bubbled:null,captured:null}),o=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:i};t.exports=s},function(t,e,n){(function(e){"use strict";function r(t,n,r){for(var i in n)n.hasOwnProperty(i)&&("production"!==e.env.NODE_ENV?S("function"==typeof n[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",_[r],i):null)}function i(t,n){var r=C.hasOwnProperty(n)?C[n]:null;R.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?x(r===O.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):x(r===O.OVERRIDE_BASE)),t.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED))}function o(t,n){if(n){"production"!==e.env.NODE_ENV?x("function"!=typeof n,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):x("function"!=typeof n),"production"!==e.env.NODE_ENV?x(!f.isValidElement(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):x(!f.isValidElement(n));var r=t.prototype;n.hasOwnProperty(M)&&P.mixins(t,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==M){var s=n[o];if(i(r,o),P.hasOwnProperty(o))P[o](t,s);else{var a=C.hasOwnProperty(o),c=r.hasOwnProperty(o),h=s&&s.__reactDontBind,p="function"==typeof s,d=p&&!a&&!c&&!h;if(d)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[o]=s,r[o]=s;else if(c){var m=C[o];"production"!==e.env.NODE_ENV?x(a&&(m===O.DEFINE_MANY_MERGED||m===O.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,o):x(a&&(m===O.DEFINE_MANY_MERGED||m===O.DEFINE_MANY)),m===O.DEFINE_MANY_MERGED?r[o]=u(r[o],s):m===O.DEFINE_MANY&&(r[o]=l(r[o],s))}else r[o]=s,"production"!==e.env.NODE_ENV&&"function"==typeof s&&n.displayName&&(r[o].displayName=n.displayName+"_"+o)}}}}function s(t,n){if(n)for(var r in n){var i=n[r];if(n.hasOwnProperty(r)){var o=r in P;"production"!==e.env.NODE_ENV?x(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):x(!o);var s=r in t;"production"!==e.env.NODE_ENV?x(!s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):x(!s),t[r]=i}}}function a(t,n){"production"!==e.env.NODE_ENV?x(t&&n&&"object"==typeof t&&"object"==typeof n,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):x(t&&n&&"object"==typeof t&&"object"==typeof n);for(var r in n)n.hasOwnProperty(r)&&("production"!==e.env.NODE_ENV?x(void 0===t[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):x(void 0===t[r]),t[r]=n[r]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,n){var r=n.bind(t);if("production"!==e.env.NODE_ENV){r.__reactBoundContext=t,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var i=t.constructor.displayName,o=r.bind;r.bind=function(s){for(var a=[],u=1,l=arguments.length;l>u;u++)a.push(arguments[u]);if(s!==t&&null!==s)"production"!==e.env.NODE_ENV?S(!1,"bind(): React component methods may only be bound to the component instance. See %s",i):null;else if(!a.length)return"production"!==e.env.NODE_ENV?S(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",i):null,r;var c=o.apply(r,arguments);return c.__reactBoundContext=t,c.__reactBoundMethod=n,c.__reactBoundArguments=a,c}}return r}function h(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=c(t,m.guard(n,t.constructor.displayName+"."+e))}}var p=n(154),d=n(26),f=n(14),m=n(371),v=n(42),y=n(103),g=n(104),_=n(68),b=n(105),E=n(12),x=n(3),w=n(53),T=n(30),S=n(15),M=T({mixins:null}),O=w({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),A=[],C={mixins:O.DEFINE_MANY,statics:O.DEFINE_MANY,propTypes:O.DEFINE_MANY,contextTypes:O.DEFINE_MANY,childContextTypes:O.DEFINE_MANY,getDefaultProps:O.DEFINE_MANY_MERGED,getInitialState:O.DEFINE_MANY_MERGED,getChildContext:O.DEFINE_MANY_MERGED,render:O.DEFINE_ONCE,componentWillMount:O.DEFINE_MANY,componentDidMount:O.DEFINE_MANY,componentWillReceiveProps:O.DEFINE_MANY,shouldComponentUpdate:O.DEFINE_ONCE,componentWillUpdate:O.DEFINE_MANY,componentDidUpdate:O.DEFINE_MANY,componentWillUnmount:O.DEFINE_MANY,updateComponent:O.OVERRIDE_BASE},P={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,g.childContext),t.childContextTypes=E({},t.childContextTypes,n)},contextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,g.context),t.contextTypes=E({},t.contextTypes,n)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,g.prop),t.propTypes=E({},t.propTypes,n)},statics:function(t,e){s(t,e)}},D={enumerable:!1,get:function(){var t=this.displayName||this.name||"Component";return"production"!==e.env.NODE_ENV?S(!1,"%s.type is deprecated. Use %s directly to access the class.",t,t):null,Object.defineProperty(this,"type",{value:this}),this}},R={replaceState:function(t,e){b.enqueueReplaceState(this,t),e&&b.enqueueCallback(this,e)},isMounted:function(){if("production"!==e.env.NODE_ENV){var t=d.current;null!==t&&("production"!==e.env.NODE_ENV?S(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"):null,t._warnedAboutRefsInRender=!0)}var n=v.get(this);return n&&n!==y.currentlyMountingInstance},setProps:function(t,e){b.enqueueSetProps(this,t),e&&b.enqueueCallback(this,e)},replaceProps:function(t,e){b.enqueueReplaceProps(this,t),e&&b.enqueueCallback(this,e)}},N=function(){};E(N.prototype,p.prototype,R);var F={createClass:function(t){var n=function(t,r){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?S(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&h(this),this.props=t,this.context=r,this.state=null;var i=this.getInitialState?this.getInitialState():null;"production"!==e.env.NODE_ENV&&"undefined"==typeof i&&this.getInitialState._isMockFunction&&(i=null),"production"!==e.env.NODE_ENV?x("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):x("object"==typeof i&&!Array.isArray(i)),this.state=i};n.prototype=new N,n.prototype.constructor=n,A.forEach(o.bind(null,n)),o(n,t),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==e.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),"production"!==e.env.NODE_ENV?x(n.prototype.render,"createClass(...): Class specification must implement a `render` method."):x(n.prototype.render),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?S(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):null);for(var r in C)n.prototype[r]||(n.prototype[r]=null);if(n.type=n,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",D)}catch(i){}return n},injection:{injectMixin:function(t){A.push(t)}}};t.exports=F}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;n>r;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){var e=D(t);return e&&H.getID(e)}function o(t){var n=s(t);if(n)if(j.hasOwnProperty(n)){var r=j[n];r!==t&&("production"!==e.env.NODE_ENV?N(!c(r,n),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",B,n):N(!c(r,n)),j[n]=t)}else j[n]=t;return n}function s(t){return t&&t.getAttribute&&t.getAttribute(B)||""}function a(t,e){var n=s(t);n!==e&&delete j[n],t.setAttribute(B,e),j[e]=t}function u(t){return j.hasOwnProperty(t)&&c(j[t],t)||(j[t]=H.findReactNodeByID(t)),j[t]}function l(t){var e=w.get(t)._rootNodeID;return E.isNullComponentID(e)?null:(j.hasOwnProperty(e)&&c(j[e],e)||(j[e]=H.findReactNodeByID(e)),j[e])}function c(t,n){if(t){"production"!==e.env.NODE_ENV?N(s(t)===n,"ReactMount: Unexpected modification of `%s`",B):N(s(t)===n);var r=H.findReactContainerForID(n);if(r&&P(r,t))return!0}return!1}function h(t){delete j[t]}function p(t){var e=j[t];return e&&c(e,t)?void(Y=e):!1}function d(t){Y=null,x.traverseAncestors(t,p);var e=Y;return Y=null,e}function f(t,e,n,r,i){var o=M.mountComponent(t,e,r,C);t._isTopLevel=!0,H._mountImageIntoNode(o,n,i)}function m(t,e,n,r){var i=A.ReactReconcileTransaction.getPooled();i.perform(f,null,t,e,n,i,r),A.ReactReconcileTransaction.release(i)}var v=n(32),y=n(40),g=n(26),_=n(14),b=n(51),E=n(102),x=n(41),w=n(42),T=n(158),S=n(28),M=n(43),O=n(105),A=n(23),C=n(71),P=n(164),D=n(403),R=n(111),N=n(3),F=n(113),k=n(114),I=n(15),L=x.SEPARATOR,B=v.ID_ATTRIBUTE_NAME,j={},U=1,q=9,V={},G={};if("production"!==e.env.NODE_ENV)var W={};var z=[],Y=null,H={_instancesByReactRootID:V,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,n,r,o){return"production"!==e.env.NODE_ENV&&b.checkAndWarnForMutatedProps(n),H.scrollMonitor(r,function(){O.enqueueElementInternal(t,n),o&&O.enqueueCallbackInternal(t,o)}),"production"!==e.env.NODE_ENV&&(W[i(r)]=D(r)),t},_registerComponent:function(t,n){"production"!==e.env.NODE_ENV?N(n&&(n.nodeType===U||n.nodeType===q),"_registerComponent(...): Target container is not a DOM element."):N(n&&(n.nodeType===U||n.nodeType===q)),y.ensureScrollValueMonitoring();var r=H.registerContainer(n);return V[r]=t,r},_renderNewRootComponent:function(t,n,r){"production"!==e.env.NODE_ENV?I(null==g.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var i=R(t,null),o=H._registerComponent(i,n);return A.batchedUpdates(m,i,o,n,r),"production"!==e.env.NODE_ENV&&(W[o]=D(n)),i},render:function(t,n,r){"production"!==e.env.NODE_ENV?N(_.isValidElement(t),"React.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""):N(_.isValidElement(t));var o=V[i(n)];if(o){var s=o._currentElement;if(k(s,t))return H._updateRootComponent(o,t,n,r).getPublicInstance();H.unmountComponentAtNode(n)}var a=D(n),u=a&&H.isRenderedByReact(a);if("production"!==e.env.NODE_ENV&&(!u||a.nextSibling))for(var l=a;l;){if(H.isRenderedByReact(l)){"production"!==e.env.NODE_ENV?I(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}l=l.nextSibling}var c=u&&!o,h=H._renderNewRootComponent(t,n,c).getPublicInstance();return r&&r.call(h),h},constructAndRenderComponent:function(t,e,n){var r=_.createElement(t,e);return H.render(r,n)},constructAndRenderComponentByID:function(t,n,r){var i=document.getElementById(r);return"production"!==e.env.NODE_ENV?N(i,'Tried to get element with id of "%s" but it is not present on the page.',r):N(i),H.constructAndRenderComponent(t,n,i)},registerContainer:function(t){var e=i(t);return e&&(e=x.getReactRootIDFromNodeID(e)),e||(e=x.createReactRootID()),G[e]=t,e},unmountComponentAtNode:function(t){"production"!==e.env.NODE_ENV?I(null==g.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==e.env.NODE_ENV?N(t&&(t.nodeType===U||t.nodeType===q),"unmountComponentAtNode(...): Target container is not a DOM element."):N(t&&(t.nodeType===U||t.nodeType===q));var n=i(t),r=V[n];return r?(H.unmountComponentFromNode(r,t),delete V[n],delete G[n],"production"!==e.env.NODE_ENV&&delete W[n],!0):!1},unmountComponentFromNode:function(t,e){for(M.unmountComponent(t),e.nodeType===q&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var n=x.getReactRootIDFromNodeID(t),r=G[n];if("production"!==e.env.NODE_ENV){var i=W[n];if(i&&i.parentNode!==r){"production"!==e.env.NODE_ENV?N(s(i)===n,"ReactMount: Root element ID differed from reactRootID."):N(s(i)===n);var o=r.firstChild;o&&n===s(o)?W[n]=o:"production"!==e.env.NODE_ENV?I(!1,"ReactMount: Root element has been removed from its original container. New container:",i.parentNode):null}}return r},findReactNodeByID:function(t){var e=H.findReactContainerForID(t);return H.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=H.getID(t);return e?e.charAt(0)===L:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(H.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,n){var r=z,i=0,o=d(n)||t;for(r[0]=o.firstChild,r.length=1;i<r.length;){for(var s,a=r[i++];a;){var u=H.getID(a);u?n===u?s=a:x.isAncestorIDOf(u,n)&&(r.length=i=0,r.push(a.firstChild)):r.push(a.firstChild),a=a.nextSibling}if(s)return r.length=0,s}r.length=0,"production"!==e.env.NODE_ENV?N(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,H.getID(t)):N(!1)},_mountImageIntoNode:function(t,n,i){if("production"!==e.env.NODE_ENV?N(n&&(n.nodeType===U||n.nodeType===q),"mountComponentIntoNode(...): Target container is not valid."):N(n&&(n.nodeType===U||n.nodeType===q)),i){var o=D(n);if(T.canReuseMarkup(t,o))return;var s=o.getAttribute(T.CHECKSUM_ATTR_NAME);o.removeAttribute(T.CHECKSUM_ATTR_NAME);var a=o.outerHTML;o.setAttribute(T.CHECKSUM_ATTR_NAME,s);var u=r(t,a),l=" (client) "+t.substring(u-20,u+20)+"\n (server) "+a.substring(u-20,u+20);"production"!==e.env.NODE_ENV?N(n.nodeType!==q,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",l):N(n.nodeType!==q),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?I(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",l):null)}"production"!==e.env.NODE_ENV?N(n.nodeType!==q,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):N(n.nodeType!==q),F(n,t)},getReactRootID:i,getID:o,setID:a,getNode:u,getNodeFromInstance:l,purgeID:h};S.measureMethods(H,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=H}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){"production"!==e.env.NODE_ENV?y(A.ReactReconcileTransaction&&x,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):y(A.ReactReconcileTransaction&&x)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled()}function o(t,e,n,i,o){r(),x.batchedUpdates(t,e,n,i,o)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var n=t.dirtyComponentsLength;"production"!==e.env.NODE_ENV?y(n===_.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,_.length):y(n===_.length),_.sort(s);for(var r=0;n>r;r++){var i=_[r],o=i._pendingCallbacks;if(i._pendingCallbacks=null,f.performUpdateIfNecessary(i,t.reconcileTransaction),o)for(var a=0;a<o.length;a++)t.callbackQueue.enqueue(o[a],i.getPublicInstance())}}function u(t){return r(),"production"!==e.env.NODE_ENV?g(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,x.isBatchingUpdates?void _.push(t):void x.batchedUpdates(u,t)}function l(t,n){"production"!==e.env.NODE_ENV?y(x.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):y(x.isBatchingUpdates),b.enqueue(t,n),E=!0}var c=n(94),h=n(24),p=n(26),d=n(28),f=n(43),m=n(70),v=n(12),y=n(3),g=n(15),_=[],b=c.getPooled(),E=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=_.length},close:function(){this.dirtyComponentsLength!==_.length?(_.splice(0,this.dirtyComponentsLength),M()):_.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[w,T];v(i.prototype,m.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(i);var M=function(){for(;_.length||E;){if(_.length){var t=i.getPooled();t.perform(a,null,t),i.release(t)}if(E){E=!1;var e=b;b=c.getPooled(),e.notifyAll(),c.release(e)}}};M=d.measure("ReactUpdates","flushBatchedUpdates",M);var O={injectReconcileTransaction:function(t){"production"!==e.env.NODE_ENV?y(t,"ReactUpdates: must provide a reconcile transaction class"):y(t),A.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){"production"!==e.env.NODE_ENV?y(t,"ReactUpdates: must provide a batching strategy"):y(t),"production"!==e.env.NODE_ENV?y("function"==typeof t.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):y("function"==typeof t.batchedUpdates),"production"!==e.env.NODE_ENV?y("boolean"==typeof t.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):y("boolean"==typeof t.isBatchingUpdates),x=t}},A={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:M,injection:O,asap:l};t.exports=A}).call(e,n(1))},function(t,e,n){
(function(e){"use strict";var r=n(3),i=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},s=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},a=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,t,e,n,r,i),s}return new o(t,e,n,r,i)},u=function(t){var n=this;"production"!==e.env.NODE_ENV?r(t instanceof n,"Trying to release an instance into a pool of a different type."):r(t instanceof n),t.destructor&&t.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(t)},l=10,c=i,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||c,n.poolSize||(n.poolSize=l),n.release=u,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:s,fiveArgumentPooler:a};t.exports=p}).call(e,n(1))},function(t,e,n){"use strict";var r=n(165),i={getDOMNode:function(){return r(this)}};t.exports=i},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e,n){"use strict";function r(t,e){i.hide(t,l,e),c in[]&&i.hide(t,c,e)}var i=n(4),o=n(55),s=o.classof,a=n(34),u=a.obj,l=n(36)("iterator"),c="@@iterator",h=n(121)("iterators"),p={};r(p,i.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:h,step:function(t,e){return{value:e,done:!!t}},is:function(t){var e=Object(t),n=i.g.Symbol;return(n&&n.iterator||c)in e||l in e||i.has(h,s(e))},get:function(t){var e,n=i.g.Symbol;return void 0!=t&&(e=t[n&&n.iterator||c]||t[l]||h[s(t)]),a(i.isFunction(e),t," is not iterable!"),u(e.call(t))},set:r,create:function(t,e,n,r){t.prototype=i.create(r||p,{next:i.desc(1,n)}),o.set(t,e+" Iterator")}}},function(t,e,n){(function(e){"use strict";function n(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(t,n,i){if("production"!==e.env.NODE_ENV)for(var o in i)i.hasOwnProperty(o)&&(t[o]=r.measure(n,i[o],t[o]))},measure:function(t,n,i){if("production"!==e.env.NODE_ENV){var o=null,s=function(){return r.enableMeasure?(o||(o=r.storedMeasure(t,n,i)),o.apply(this,arguments)):i.apply(this,arguments)};return s.displayName=t+"_"+n,s}return i},injection:{injectMeasure:function(t){r.storedMeasure=t}}};t.exports=r}).call(e,n(1))},function(t,e){function n(t){return function(){return t}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o="function"!=typeof Object.create?"~":!1;i.prototype._events=void 0,i.prototype.listeners=function(t,e){var n=o?o+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);s>i;i++)a[i]=r[i].fn;return a},i.prototype.emit=function(t,e,n,r,i,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,i),!0;case 6:return c.fn.call(c.context,e,n,r,i,s),!0}for(l=1,u=new Array(h-1);h>l;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;d>l;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;default:if(!u)for(p=1,u=new Array(h-1);h>p;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events||!this._events[i])return this;var s=this._events[i],a=[];if(e)if(s.fn)(s.fn!==e||r&&!s.once||n&&s.context!==n)&&a.push(s);else for(var u=0,l=s.length;l>u;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&a.push(s[u]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=o,t.exports=i},function(t,e,n){(function(e){"use strict";function r(t,e){return(t&e)===e}var i=n(3),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=t.Properties||{},s=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var c in n){"production"!==e.env.NODE_ENV?i(!a.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c):i(!a.isStandardName.hasOwnProperty(c)),a.isStandardName[c]=!0;var h=c.toLowerCase();if(a.getPossibleStandardName[h]=c,s.hasOwnProperty(c)){var p=s[c];a.getPossibleStandardName[p]=c,a.getAttributeName[c]=p}else a.getAttributeName[c]=h;a.getPropertyName[c]=u.hasOwnProperty(c)?u[c]:c,l.hasOwnProperty(c)?a.getMutationMethod[c]=l[c]:a.getMutationMethod[c]=null;var d=n[c];a.mustUseAttribute[c]=r(d,o.MUST_USE_ATTRIBUTE),a.mustUseProperty[c]=r(d,o.MUST_USE_PROPERTY),a.hasSideEffects[c]=r(d,o.HAS_SIDE_EFFECTS),a.hasBooleanValue[c]=r(d,o.HAS_BOOLEAN_VALUE),a.hasNumericValue[c]=r(d,o.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[c]=r(d,o.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[c]=r(d,o.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==e.env.NODE_ENV?i(!a.mustUseAttribute[c]||!a.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c):i(!a.mustUseAttribute[c]||!a.mustUseProperty[c]),"production"!==e.env.NODE_ENV?i(a.mustUseProperty[c]||!a.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c):i(a.mustUseProperty[c]||!a.hasSideEffects[c]),"production"!==e.env.NODE_ENV?i(!!a.hasBooleanValue[c]+!!a.hasNumericValue[c]+!!a.hasOverloadedBooleanValue[c]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c):i(!!a.hasBooleanValue[c]+!!a.hasNumericValue[c]+!!a.hasOverloadedBooleanValue[c]<=1)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,r=s[t];return r||(s[t]=r={}),e in r||(n=document.createElement(t),r[e]=n[e]),r[e]},injection:o};t.exports=a}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o?this[i]=o(n):this[i]=n[i]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;a?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var i=n(24),o=n(12),s=n(29),a=n(110),u={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=Object.create(n.prototype);o(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,i.addPoolingTo(t,i.threeArgumentPooler)},i.addPoolingTo(r,i.threeArgumentPooler),t.exports=r},function(t,e,n){function r(t,e,n){if(!t)throw TypeError(n?e+n:e)}var i=n(4);r.def=i.assertDefined,r.fn=function(t){if(!i.isFunction(t))throw TypeError(t+" is not a function!");return t},r.obj=function(t){if(!i.isObject(t))throw TypeError(t+" is not an object!");return t},r.inst=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t},t.exports=r},function(t,e,n){function r(t,e){return function(){return t.apply(e,arguments)}}function i(t,e,n){var o,l,c,h,p=t&i.G,d=t&i.P,f=p?s:t&i.S?s[e]:(s[e]||{}).prototype,m=p?a:a[e]||(a[e]={});p&&(n=e);for(o in n)l=!(t&i.F)&&f&&o in f,l&&o in m||(c=l?f[o]:n[o],p&&!u(f[o])?h=n[o]:t&i.B&&l?h=r(c,s):t&i.W&&f[o]==c?!function(t){h=function(e){return this instanceof t?new t(e):t(e)},h.prototype=t.prototype}(c):h=d&&u(c)?r(Function.call,c):c,m[o]=h,d&&((m.prototype||(m.prototype={}))[o]=c))}var o=n(4),s=o.g,a=o.core,u=o.isFunction;i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,t.exports=i},function(t,e,n){var r=n(4).g,i=n(121)("wks");t.exports=function(t){return i[t]||(i[t]=r.Symbol&&r.Symbol[t]||n(44).safe("Symbol."+t))}},function(t,e,n){(function(e){function r(t){return Array.prototype.slice.call(t)}function i(t,e){return function(){t.apply(null,arguments),e.apply(null,arguments)}}function o(t,e,n){var i=r(arguments).slice(3);return t.slice(0,e).concat(i).concat(t.slice(e+n))}function s(t,e){var n,r={};for(n in t)r[n]=t[n];for(n in e)r[n]=e[n];return r}function a(t){var e=t.source,n="";return t.global&&(n+="g"),t.multiline&&(n+="m"),t.ignoreCase&&(n+="i"),t.sticky&&(n+="y"),t.unicode&&(n+="u"),new RegExp(e,n)}function u(t,n){if(!n||"object"!=typeof n||n instanceof Error||"ArrayBuffer"in e&&n instanceof ArrayBuffer)return n;if(w.Array(n)){if(t){var r,i,o=[];for(r=0,i=n.length;i>r;r++)o.push(S(n[r]));return o}return n.slice(0)}if(w.Date(n))return new Date(n.getTime());if(n instanceof RegExp)return a(n);if(w.Object(n)){var s,u={};n.constructor&&n.constructor!==Object&&(u=Object.create(n.constructor.prototype));for(s in n)n.hasOwnProperty(s)&&(u[s]=t?S(n[s]):n[s]);return u}return n}function l(t,e){if("object"==typeof e&&(Object.freeze(e),t))if(Array.isArray(e)){var n,r;for(n=0,r=e.length;r>n;n++)O(e[n])}else{var i,o;for(o in e)i=e[o],i&&e.hasOwnProperty(o)&&"object"==typeof i&&!Object.isFrozen(i)&&O(i)}}function c(t,e){return function(n){return e(t(n))}}function h(t,e){var n,r;for(n=0,r=t.length;r>n;n++)if(e(t[n]))return t[n]}function d(t,e){var n,r;for(n=0,r=t.length;r>n;n++)if(e(t[n]))return n;return-1}function f(t,e){var n,r=!0;if(!t)return!1;for(n in e)if(w.Object(e[n]))r=r&&f(t[n],e[n]);else if(w.Array(e[n]))r=r&&!!~e[n].indexOf(t[n]);else if(t[n]!==e[n])return!1;return r}function m(t,e){return h(t,function(t){return f(t,e)})}function v(t,e){return d(t,function(t){return f(t,e)})}function y(t,e,n){e=e||[];var r,i,o,s=t;for(i=0,o=e.length;o>i;i++){if(!s)return;if("function"==typeof e[i]){if(!w.Array(s))return;s=h(s,e[i])}else if("object"==typeof e[i])if(n&&"$cursor"in e[i]){if(!w.Path(e[i].$cursor))throw Error("baobab.getIn: $cursor path must be an array.");r=n.get(e[i].$cursor),s=s[r]}else{if(!w.Array(s))return;s=m(s,e[i])}else s=s[e[i]]}return s}function g(t,e,n){var r,i,o,s=[],a=t;for(i=0,o=e.length;o>i;i++){if(!a)return null;if("function"==typeof e[i]){if(!w.Array(a))return;r=d(a,e[i]),s.push(r),a=a[r]}else if("object"==typeof e[i])if(n&&"$cursor"in e[i]){if(!w.Path(e[i].$cursor))throw Error("baobab.getIn: $cursor path must be an array.");p=n.get(e[i].$cursor),s.push(p),a=a[p]}else{if(!w.Array(a))return;r=v(a,e[i]),s.push(r),a=a[r]}else s.push(e[i]),a=a[e[i]]||{}}return s}function _(t,e){var n,r,i,o,s,a,u,l,c;for(n=0,o=e.length;o>n;n++){if(u=e[n],!u.length)return!0;for(r=0,s=t.length;s>r;r++){if(l=t[r],!l.length)return!0;for(i=0,a=l.length;a>i&&(c=l[i],c==u[i]);i++)if(i+1===a||i+1===u.length)return!0}}return!1}function b(t,e){var n,r=t.length,i={},o=i;for(r||(i=e),n=0;r>n;n++)o[t[n]]=n+1===r?e:{},o=o[t[n]];return i}function E(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){var e=[];return{add:function(n){e.unshift(n),e.length>t&&(e.length=t)},back:function(t){var n=e[t-1];return n&&(e=e.slice(t)),n},get:function(){return e}}}var w=n(38),T=u.bind(null,!1),S=u.bind(null,!0),M=Object.freeze?l.bind(null,!1):Function.prototype,O=Object.freeze?l.bind(null,!0):Function.prototype;t.exports={archive:x,arrayOf:r,before:i,freeze:M,deepClone:S,deepFreeze:O,shallowClone:T,shallowMerge:s,compose:c,getIn:y,inherits:E,pathObject:b,solvePath:g,solveUpdate:_,splice:o}}).call(e,function(){return this}())},function(t,e,n){function r(t,e){return e.some(function(e){return i[e](t)})}var i={};i.Array=function(t){return Array.isArray(t)},i.Object=function(t){return!(!t||"object"!=typeof t||Array.isArray(t)||t instanceof Date||t instanceof RegExp)},i.String=function(t){return"string"==typeof t},i.Number=function(t){return"number"==typeof t},i.PositiveInteger=function(t){return"number"==typeof t&&t>0&&t%1===0},i.Function=function(t){return"function"==typeof t},i.Primitive=function(t){return t!==Object(t)},i.Date=function(t){return t instanceof Date},i.NonScalar=function(t){return i.Object(t)||i.Array(t)},i.Splicer=function(t){return i.Array(t)&&t.every(i.Array)},i.Path=function(t,e){return e=e||["String","Number","Function","Object"],i.Array(t)?t.every(function(t){return r(t,e)}):r(t,e)},i.ComplexPath=function(t){return t.some(function(t){return r(t,["Object","Function"])})},i.FacetCursors=function(t){return i.Object(t)?Object.keys(t).every(function(e){var r=t[e];return i.Path(r,["String","Number","Object"])||r instanceof n(56)}):!1},i.FacetFacets=function(t){return i.Object(t)?Object.keys(t).every(function(e){var r=t[e];return"string"==typeof r||r instanceof n(82)}):!1},t.exports=i},function(t,e){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,t.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=d++,h[t[m]]={}),h[t[m]]}var i=n(20),o=n(49),s=n(153),a=n(372),u=n(163),l=n(12),c=n(112),h={},p=!1,d=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=l({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=r(n),a=s.registrationNameDependencies[t],u=i.topLevelTypes,l=0,h=a.length;h>l;l++){var p=a[l];o.hasOwnProperty(p)&&o[p]||(p===u.topWheel?c("wheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):p===u.topScroll?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):p===u.topFocus||p===u.topBlur?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):f.hasOwnProperty(p)&&v.ReactEventListener.trapBubbledEvent(p,f[p],n),o[p]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});t.exports=v},function(t,e,n){(function(e){"use strict";function r(t){return d+t.toString(36)}function i(t,e){return t.charAt(e)===d||e===t.length}function o(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function s(t,e){return 0===e.indexOf(t)&&i(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(d)):""}function u(t,n){if("production"!==e.env.NODE_ENV?p(o(t)&&o(n),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,n):p(o(t)&&o(n)),"production"!==e.env.NODE_ENV?p(s(t,n),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,n):p(s(t,n)),t===n)return t;var r,a=t.length+f;for(r=a;r<n.length&&!i(n,r);r++);return n.substr(0,r)}function l(t,n){var r=Math.min(t.length,n.length);if(0===r)return"";for(var s=0,a=0;r>=a;a++)if(i(t,a)&&i(n,a))s=a;else if(t.charAt(a)!==n.charAt(a))break;var u=t.substr(0,s);return"production"!==e.env.NODE_ENV?p(o(u),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,n,u):p(o(u)),u}function c(t,n,r,i,o,l){t=t||"",n=n||"","production"!==e.env.NODE_ENV?p(t!==n,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):p(t!==n);var c=s(n,t);"production"!==e.env.NODE_ENV?p(c||s(t,n),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,n):p(c||s(t,n));for(var h=0,d=c?a:u,f=t;;f=d(f,n)){var v;if(o&&f===t||l&&f===n||(v=r(f,c,i)),v===!1||f===n)break;"production"!==e.env.NODE_ENV?p(h++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,n):p(h++<m)}}var h=n(162),p=n(3),d=".",f=d.length,m=100,v={createReactRootID:function(){return r(h.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,i){var o=l(t,e);o!==t&&c(t,o,n,r,!1,!0),o!==e&&c(o,e,n,i,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(c("",t,e,n,!0,!1),c(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){c("",t,e,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:s,SEPARATOR:d};t.exports=v}).call(e,n(1))},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){(function(e){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(378),o=n(51),s={mountComponent:function(t,n,i,s){var a=t.mountComponent(n,i,s);return"production"!==e.env.NODE_ENV&&o.checkAndWarnForMutatedProps(t._currentElement),i.getReactMountReady().enqueue(r,t),a},unmountComponent:function(t){i.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,n,s,a){var u=t._currentElement;if(n!==u||null==n._owner){"production"!==e.env.NODE_ENV&&o.checkAndWarnForMutatedProps(n);var l=i.shouldUpdateRefs(u,n);l&&i.detachRefs(t,u),t.receiveComponent(n,s,a),l&&s.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=s}).call(e,n(1))},function(t,e,n){function r(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+Math.random()).toString(36))}var i=0;r.safe=n(4).g.Symbol||r,t.exports=r},function(t,e,n){function r(t){i.call(this,t)}var i=n(39);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.flush=function(){},r.prototype.render=function(t){}},function(t,e,n){function r(t,e,n,i,o){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof r&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=i,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=n||e,this.rotate=!!o,t.hasLoaded?(this.noFrame&&(e=new u.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var i=n(62),o=n(138),s=n(137),a=n(31),u=n(18),l=n(19);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),r.prototype.update=function(){this.baseTexture.update()},r.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},r.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},r.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},r.prototype.clone=function(){return new r(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},r.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},r.fromImage=function(t,e,n){var o=l.TextureCache[t];return o||(o=new r(i.fromImage(t,e,n)),l.TextureCache[t]=o),o},r.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},r.fromCanvas=function(t,e){return new r(i.fromCanvas(t,e))},r.fromVideo=function(t,e){return"string"==typeof t?r.fromVideoUrl(t,e):new r(o.fromVideo(t,e))},r.fromVideoUrl=function(t,e){return new r(o.fromUrl(t,e))},r.addTextureToCache=function(t,e){l.TextureCache[e]=t},r.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},r.EMPTY=new r(new i)},function(t,e){t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,n){(function(e){"use strict";function r(t,e){return null==e||i.hasBooleanValue[t]&&!e||i.hasNumericValue[t]&&isNaN(e)||i.hasPositiveNumericValue[t]&&1>e||i.hasOverloadedBooleanValue[t]&&e===!1}var i=n(32),o=n(413),s=n(15);if("production"!==e.env.NODE_ENV)var a={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},l=function(t){if(!(a.hasOwnProperty(t)&&a[t]||u.hasOwnProperty(t)&&u[t])){u[t]=!0;var n=t.toLowerCase(),r=i.isCustomAttribute(n)?n:i.getPossibleStandardName.hasOwnProperty(n)?i.getPossibleStandardName[n]:null;"production"!==e.env.NODE_ENV?s(null==r,"Unknown DOM property %s. Did you mean %s?",t,r):null}};var c={createMarkupForID:function(t){return i.ID_ATTRIBUTE_NAME+"="+o(t)},createMarkupForProperty:function(t,n){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){if(r(t,n))return"";var s=i.getAttributeName[t];return i.hasBooleanValue[t]||i.hasOverloadedBooleanValue[t]&&n===!0?s:s+"="+o(n)}return i.isCustomAttribute(t)?null==n?"":t+"="+o(n):("production"!==e.env.NODE_ENV&&l(t),null)},setValueForProperty:function(t,n,o){if(i.isStandardName.hasOwnProperty(n)&&i.isStandardName[n]){var s=i.getMutationMethod[n];if(s)s(t,o);else if(r(n,o))this.deleteValueForProperty(t,n);else if(i.mustUseAttribute[n])t.setAttribute(i.getAttributeName[n],""+o);else{var a=i.getPropertyName[n];i.hasSideEffects[n]&&""+t[a]==""+o||(t[a]=o)}}else i.isCustomAttribute(n)?null==o?t.removeAttribute(n):t.setAttribute(n,""+o):"production"!==e.env.NODE_ENV&&l(n)},deleteValueForProperty:function(t,n){if(i.isStandardName.hasOwnProperty(n)&&i.isStandardName[n]){var r=i.getMutationMethod[n];if(r)r(t,void 0);else if(i.mustUseAttribute[n])t.removeAttribute(i.getAttributeName[n]);else{var o=i.getPropertyName[n],s=i.getDefaultValueForProperty(t.nodeName,o);i.hasSideEffects[n]&&""+t[o]===s||(t[o]=s)}}else i.isCustomAttribute(n)?t.removeAttribute(n):"production"!==e.env.NODE_ENV&&l(n)}};t.exports=c}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){var t=p&&p.traverseTwoPhase&&p.traverseEnterLeave;"production"!==e.env.NODE_ENV?u(t,"InstanceHandle not injected before use!"):u(t)}var i=n(153),o=n(95),s=n(106),a=n(107),u=n(3),l={},c=null,h=function(t){if(t){var e=o.executeDispatch,n=i.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},p=null,d={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(t){p=t,"production"!==e.env.NODE_ENV&&r()},getInstanceHandle:function(){return"production"!==e.env.NODE_ENV&&r(),p},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,n,r){"production"!==e.env.NODE_ENV?u(!r||"function"==typeof r,"Expected %s listener to be a function, instead got type %s",n,typeof r):u(!r||"function"==typeof r);var i=l[n]||(l[n]={});i[t]=r},getListener:function(t,e){var n=l[e];return n&&n[t]},deleteListener:function(t,e){var n=l[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in l)delete l[e][t]},extractEvents:function(t,e,n,r){for(var o,a=i.plugins,u=0,l=a.length;l>u;u++){var c=a[u];if(c){var h=c.extractEvents(t,e,n,r);h&&(o=s(o,h))}}return o},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(){var t=c;c=null,a(t,h),"production"!==e.env.NODE_ENV?u(!c,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!c)},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return v(t,r)}function i(t,n,i){if("production"!==e.env.NODE_ENV&&!t)throw new Error("Dispatching id must not be null");var o=n?m.bubbled:m.captured,s=r(t,i,o);s&&(i._dispatchListeners=d(i._dispatchListeners,s),i._dispatchIDs=d(i._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,i,t)}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=v(t,r);i&&(n._dispatchListeners=d(n._dispatchListeners,i),n._dispatchIDs=d(n._dispatchIDs,t))}}function a(t){t&&t.dispatchConfig.registrationName&&s(t.dispatchMarker,null,t)}function u(t){f(t,o)}function l(t,e,n,r){p.injection.getInstanceHandle().traverseEnterLeave(n,r,s,t,e)}function c(t){f(t,a)}var h=n(20),p=n(49),d=n(106),f=n(107),m=h.PropagationPhases,v=p.getListener,y={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=y}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){if(_.current){var t=_.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t){var e=t&&t.getPublicInstance();if(!e)return void 0;var n=e.constructor;return n?n.displayName||n.name||void 0:void 0}function o(){var t=_.current;return t&&i(t)||void 0}function s(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,
u('Each child in an array or iterator should have a unique "key" prop.',t,e))}function a(t,e,n){M.test(t)&&u("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function u(t,n,r){var s=o(),a="string"==typeof r?r:r.displayName||r.name,u=s||a,l=T[t]||(T[t]={});if(!l.hasOwnProperty(u)){l[u]=!0;var c=s?" Check the render method of "+s+".":a?" Check the React.render call using <"+a+">.":"",h="";if(n&&n._owner&&n._owner!==_.current){var p=i(n._owner);h=" It was passed a child from "+p+"."}"production"!==e.env.NODE_ENV?w(!1,t+"%s%s See https://fb.me/react-warning-keys for more information.",c,h):null}}function l(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];m.isValidElement(r)&&s(r,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var i=E(t);if(i){if(i!==t.entries)for(var o,u=i.call(t);!(o=u.next()).done;)m.isValidElement(o.value)&&s(o.value,e)}else if("object"==typeof t){var l=v.extractIfFragment(t);for(var c in l)l.hasOwnProperty(c)&&a(c,l[c],e)}}}function c(t,n,i,o){for(var s in n)if(n.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?x("function"==typeof n[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",g[o],s):x("function"==typeof n[s]),a=n[s](i,s,t,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in S)){S[a.message]=!0;var l=r(this);"production"!==e.env.NODE_ENV?w(!1,"Failed propType: %s%s",a.message,l):null}}}function h(t,n){var r=n.type,i="string"==typeof r?r:r.displayName,o=n._owner?n._owner.getPublicInstance().constructor.displayName:null,s=t+"|"+i+"|"+o;if(!O.hasOwnProperty(s)){O[s]=!0;var a="";i&&(a=" <"+i+" />");var u="";o&&(u=" The element was created by "+o+"."),"production"!==e.env.NODE_ENV?w(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",t,a,u):null}}function p(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function d(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var r in n)n.hasOwnProperty(r)&&(e.hasOwnProperty(r)&&p(e[r],n[r])||(h(r,t),e[r]=n[r]))}}function f(t){if(null!=t.type){var n=b.getComponentClassForElement(t),r=n.displayName||n.name;n.propTypes&&c(r,n.propTypes,t.props,y.prop),"function"==typeof n.getDefaultProps&&("production"!==e.env.NODE_ENV?w(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var m=n(14),v=n(66),y=n(104),g=n(68),_=n(26),b=n(67),E=n(168),x=n(3),w=n(15),T={},S={},M=/^\d+$/,O={},A={checkAndWarnForMutatedProps:d,createElement:function(t,n,r){"production"!==e.env.NODE_ENV?w(null!=t,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var i=m.createElement.apply(this,arguments);if(null==i)return i;for(var o=2;o<arguments.length;o++)l(arguments[o],t);return f(i),i},createFactory:function(t){var n=A.createElement.bind(null,t);if(n.type=t,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==e.env.NODE_ENV?w(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:t}),t}})}catch(r){}return n},cloneElement:function(t,e,n){for(var r=m.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)l(arguments[i],r.type);return f(r),r}};t.exports=A}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(33),o=n(110),s={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,s),t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(3),i=function(t){var n,i={};"production"!==e.env.NODE_ENV?r(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object."):r(t instanceof Object&&!Array.isArray(t));for(n in t)t.hasOwnProperty(n)&&(i[n]=n);return i};t.exports=i}).call(e,n(1))},function(t,e){t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,n){function r(t){return s.call(t).slice(8,-1)}var i=n(4),o=n(36)("toStringTag"),s={}.toString;r.classof=function(t){var e,n;return void 0==t?void 0===t?"Undefined":"Null":"string"==typeof(n=(e=Object(t))[o])?n:r(e)},r.set=function(t,e,n){t&&!i.has(t=n?t:t.prototype,o)&&i.hide(t,o,e)},t.exports=r},function(t,e,n){function r(t,e,n){function r(t){var e=a.getIn(t,i.solvedPath,i.tree);return i.recording&&!i.undoing&&i.archive.add(e),i.undoing=!1,i.emit("update",{data:i.get(!1),previousData:e})}var i=this;s.call(this),e=e||[],this._identity="[object Cursor]",this._additionnalPaths=[],this.tree=t,this.path=e,this.hash=n,this.archive=null,this.recording=!1,this.undoing=!1,this.complex=u.ComplexPath(e),this.solvedPath=e,this.complex&&(this.solvedPath=a.solvePath(this.tree.data,e,this.tree)),this.complex&&e.forEach(function(t){u.Object(t)&&"$cursor"in t&&this._additionnalPaths.push(t.$cursor)},this),this.relevant=void 0!==this.get(!1),this.updateHandler=function(t){var e=t.data.log,n=t.data.previousData,o=!1;if(i.complex&&(i.solvedPath=a.solvePath(i.tree.data,i.path,i.tree)),!i.path.length)return r(n);i.solvedPath&&(o=a.solveUpdate(e,[i.solvedPath].concat(i._additionnalPaths)));var s=void 0!==i.get(!1);i.relevant?s&&o?r(n):s||(i.emit("irrelevant"),i.relevant=!1):s&&o&&(i.emit("relevant"),r(n),i.relevant=!0)};var o=!1;this._lazyBind=function(){o||(o=!0,i.tree.on("update",i.updateHandler))},this.on=a.before(this._lazyBind,this.on.bind(this)),this.once=a.before(this._lazyBind,this.once.bind(this)),this.complex&&this._lazyBind()}function i(t,e,n,r){if(arguments.length>5)throw Error("baobab.Cursor."+t+": too many arguments.");if("unset"===t?(r=!0,2===arguments.length&&(n=[])):arguments.length<4&&(r=n,n=[]),!u.Path(n))throw Error("baobab.Cursor."+t+': invalid path "'+n+'".');if("splice"===t&&!u.Splicer(r)){if(!u.Array(r))throw Error("baobab.Cursor.splice: incorrect value.");r=[r]}if(e&&!e(r))throw Error("baobab.Cursor."+t+": incorrect value.");var i=[].concat(n),o=a.solvePath(this.get(!1),i,this.tree);if(!o)throw Error("baobab.Cursor."+t+": could not solve dynamic path.");var s={};s["$"+t]=r;var l=a.pathObject(o,s);return l}function o(t,e){r.prototype[t]=function(){var n=i.bind(this,t,e).apply(this,arguments);return this.update(n,!0)}}var s=n(81),a=n(37),u=(n(126),n(38));a.inherits(r,s),r.prototype.isRoot=function(){return!this.path.length},r.prototype.isLeaf=function(){return u.Primitive(this.get(!1))},r.prototype.isBranch=function(){return!this.isLeaf()&&!this.isRoot()},r.prototype.root=function(){return this.tree.root},r.prototype.select=function(t){if(arguments.length>1&&(t=a.arrayOf(arguments)),!u.Path(t))throw Error("baobab.Cursor.select: invalid path.");return this.tree.select(this.path.concat(t))},r.prototype.up=function(){return this.solvedPath&&this.solvedPath.length?this.tree.select(this.path.slice(0,-1)):null},r.prototype.left=function(){var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("baobab.Cursor.left: cannot go left on a non-list type.");return t?this.tree.select(this.solvedPath.slice(0,-1).concat(t-1)):null},r.prototype.leftmost=function(){var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))},r.prototype.right=function(){var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("baobab.Cursor.right: cannot go right on a non-list type.");return t+1===this.up().get(!1).length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(t+1))},r.prototype.rightmost=function(){var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("baobab.Cursor.right: cannot go right on a non-list type.");var e=this.up().get(!1);return this.tree.select(this.solvedPath.slice(0,-1).concat(e.length-1))},r.prototype.down=function(){+this.solvedPath[this.solvedPath.length-1];return this.get(!1)instanceof Array?this.tree.select(this.solvedPath.concat(0)):null},r.prototype.map=function(t,e){var n=this.get(!1),r=arguments.length;if(!u.Array(n))throw Error("baobab.Cursor.map: cannot map a non-list type.");return n.map(function(n,i){return t.call(r>1?e:this,this.select(i),i)},this)},r.prototype.get=function(t){if(this.solvedPath){var e=!1;t===!1&&(t=[],e=!0),arguments.length>1&&(t=a.arrayOf(arguments));var n=this.solvedPath.concat([].concat(t||0===t?t:[])),r=a.getIn(this.tree.data,n,this.tree);return e||this.tree.emit("get",{path:n,data:r}),r}},o("set"),o("apply",u.Function),o("chain",u.Function),o("push"),o("unshift"),o("merge",u.Object),o("splice"),r.prototype.unset=function(t){if(void 0===t&&this.isRoot())throw Error("baobab.Cursor.unset: cannot remove root node.");var e=i.bind(this,"unset",null).apply(this,arguments);return this.update(e,!0)},r.prototype.update=function(t,e){if(!u.Object(t))throw Error("baobab.Cursor.update: invalid specifications.");if(!this.solvedPath)throw Error("baobab.Cursor.update: could not solve the cursor's dynamic path.");return this.tree.stack(a.pathObject(this.solvedPath,t),e),this},r.prototype.startRecording=function(t){if(t=t||5,1>t)throw Error("baobab.Cursor.startRecording: invalid maximum number of records.");return this.archive?this:(this._lazyBind(),this.archive=a.archive(t),this.recording=!0,this)},r.prototype.stopRecording=function(){return this.recording=!1,this},r.prototype.undo=function(t){if(t=t||1,!this.recording)throw Error("baobab.Cursor.undo: cursor is not recording.");if(!u.PositiveInteger(t))throw Error("baobab.Cursor.undo: expecting a positive integer.");var e=this.archive.back(t);if(!e)throw Error("baobab.Cursor.undo: cannot find a relevant record ("+t+" back).");return this.undoing=!0,this.set(e)},r.prototype.hasHistory=function(){return!(!this.archive||!this.archive.get().length)},r.prototype.getHistory=function(){return this.archive?this.archive.get():[]},r.prototype.clearHistory=function(){return this.archive=null,this},r.prototype.release=function(){this.tree.off("update",this.updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill()},r.prototype.toJSON=function(){return this.get()},r.prototype.toString=function(){return this._identity},t.exports=r},function(t,e,n){t.exports=n(261),t.exports.Resource=n(83),t.exports.middleware={caching:{memory:n(263)},parsing:{blob:n(264)}}},function(t,e,n){function r(){o.call(this),this.children=[]}var i=n(18),o=n(129),s=n(90),a=new i.Matrix;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),r.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},r.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},r.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);if(0>n||0>r)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[n]=e,this.children[r]=t}},r.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},r.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);this.children.splice(n,1),this.children.splice(e,0,t)},r.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},r.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},r.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),e.emit("removed",this),e},r.prototype.removeChildren=function(t,e){var n=t||0,r="number"==typeof e?e:this.children.length,i=r-n;if(i>0&&r>=i){for(var o=this.children.splice(n,i),s=0;s<o.length;++s)o[s].parent=null;return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.generateTexture=function(t,e,n){var r=this.getLocalBounds(),i=new s(t,0|r.width,0|r.height,n,e);return a.tx=-r.x,a.ty=-r.y,i.render(this,a),i},r.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},r.prototype.containerUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return i.Rectangle.EMPTY;for(var t,e,n,r=1/0,o=1/0,s=-(1/0),a=-(1/0),u=!1,l=0,c=this.children.length;c>l;++l){var h=this.children[l];h.visible&&(u=!0,t=this.children[l].getBounds(),r=r<t.x?r:t.x,o=o<t.y?o:t.y,e=t.width+t.x,n=t.height+t.y,s=s>e?s:e,a=a>n?a:n)}if(!u)return i.Rectangle.EMPTY;var p=this._bounds;p.x=r,p.y=o,p.width=s-r,p.height=a-o,this._currentBounds=p}return this._currentBounds},r.prototype.containerGetBounds=r.prototype.getBounds,r.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.Matrix.IDENTITY;for(var e=0,n=this.children.length;n>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(i.Matrix.IDENTITY)},r.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,n;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,n=this.children.length;n>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,n=this.children.length;n>e;++e)this.children[e].renderWebGL(t)}},r.prototype._renderWebGL=function(t){},r.prototype._renderCanvas=function(t){},r.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,n=this.children.length;n>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},r.prototype.destroy=function(t){if(o.prototype.destroy.call(this),t)for(var e=0,n=this.children.length;n>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,"WebGL",t,e,n),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!n.forceFXAA&&n.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new u(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new h(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var i=n(131),o=n(135),s=n(281),a=n(282),u=n(134),l=n(280),c=n(61),h=n(45),p=n(132),d=n(19),f=n(13);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,d.pluginTarget.mixin(r),r.glContextId=0,r.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=r.glContextId++,t.id=this.glContextId,t.renderer=this},r.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new c(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},r.prototype.render=function(t){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var n=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?n.clearColor(0,0,0,0):n.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),n.clear(n.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget)}},r.prototype.renderDisplayObject=function(t,e,n){this.setRenderTarget(e),n&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},r.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},r.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},r.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},r.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},r.prototype.destroyTexture=function(t){t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},r.prototype.handleContextLost=function(t){t.preventDefault()},r.prototype.handleContextRestored=function(){this._initContext();for(var t in d.BaseTextureCache)d.BaseTextureCache[t]._glTextures.length=0},r.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),i.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},r.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},function(t,e,n){function r(t,e,n,r,o){if(!e||!n)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=i.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=r||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=n,this.init()}var i=n(19);r.prototype.constructor=r,t.exports=r,r.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},r.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},r.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},r.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),n=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(r,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(r)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)),t.deleteProgram(r),r=null),t.deleteShader(e),t.deleteShader(n),this.program=r},r.prototype.syncUniform=function(t){var e,n,r=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(r,o?1:0);break;case"i":case"1i":s.uniform1i(r,o);break;case"f":case"1f":s.uniform1f(r,o);break;case"2f":s.uniform2f(r,o[0],o[1]);break;case"3f":s.uniform3f(r,o[0],o[1],o[2]);break;case"4f":s.uniform4f(r,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(r,o.x,o.y);break;case"v3":s.uniform3f(r,o.x,o.y,o.z);break;case"v4":s.uniform4f(r,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(r,o);break;case"2iv":s.uniform2iv(r,o);break;case"3iv":s.uniform3iv(r,o);break;case"4iv":s.uniform4iv(r,o);break;case"1fv":s.uniform1fv(r,o);break;case"2fv":s.uniform2fv(r,o);break;case"3fv":s.uniform3fv(r,o);break;case"4fv":s.uniform4fv(r,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(r,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(r,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(r,t.transpose,o);break;case"c":"number"==typeof o&&(o=i.hex2rgb(o)),s.uniform3f(r,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(r,o);break;case"iv":s.uniform3iv(r,o);break;case"fv1":s.uniform1fv(r,o);break;case"fv":s.uniform3fv(r,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,n=o.length;n>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(r,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,n=o.length;n>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(r,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,n=o.length;n>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(r,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},r.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},r.prototype.initSampler2D=function(t){var e=this.gl,n=t.value.baseTexture;if(n.hasLoaded)if(t.textureData){var r=t.textureData;n._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,n._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,r.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r.magFilter?r.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r.wrapS?r.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r.wrapS?r.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,r.wrapT?r.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(n)},r.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},r.prototype._glCompile=function(t,e){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.log(this.gl.getShaderInfoLog(n)),null)}},function(t,e,n){var r=n(18),i=n(19),o=n(13),s=n(286),a=function(t,e,n,a,u,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new r.Rectangle(0,0,1,1),this.resolution=u||o.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var c=i.isPowerOfTwo(e,n);c?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,n)};a.prototype.constructor=a,t.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t*this.resolution,e*this.resolution,0,n.RGBA,n.UNSIGNED_BYTE,null),this.stencilBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t*this.resolution,e*this.resolution));
}var r=this.frame||this.size;this.calculateProjection(r)}},a.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},function(t,e,n){function r(t,e,n){s.call(this),this.uid=i.uid(),this.resolution=n||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],t&&this.loadSource(t)}var i=n(19),o=n(13),s=n(31);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=i.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},r.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var n=this;t.onload=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),n.emit("loaded",n))},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},r.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},r.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},r.fromImage=function(t,e,n){var o=i.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new r(s,n),o.imageUrl=t,s.src=t,i.BaseTextureCache[t]=o,o.resolution=i.getResolutionOfUrl(t)}return o},r.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.uid());var n=i.BaseTextureCache[t._pixiId];return n||(n=new r(t,e),i.BaseTextureCache[t._pixiId]=n),n}},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,o.readFileSync(e+"/blurX.vert","utf8"),o.readFileSync(e+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})}).call(e,"/")},function(t,e,n){function r(t){return this instanceof r?void(this.coord=t):new r(t)}var i=n(47),o=n(150),s=n(341);r.prototype={name:function(){return i.intervalsIndex[this.number()-1]},semitones:function(){return o.sum(o.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t,e,n=o.sub(this.coord,o.mul(i.sharp,Math.floor((this.coord[1]-2)/7)+1));return t=i.intervalFromFifth[n[1]+5],e=i.stepNumber[t]+7*(n[0]-i.intervals[t][0]),e>0?e:e-2},type:function(){return i.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t,e=o.sub(this.coord,o.mul(i.sharp,this.qualityValue()))[1];return e=this.value()>0?e+5:-(e-5)%7,e=0>e?i.intervalFromFifth.length+e:e,t=i.intervalFromFifth[e],"unison"===t&&this.number()>=8&&(t="octave"),t},direction:function(t){if(t){var e=this.value()>=1?"up":"down";return e!==t&&(this.coord=o.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function(t){var e=i.intervals[this.base()];return e=o.add(e,o.mul(i.sharp,this.qualityValue())),t||(e="down"===this.direction()?o.mul(e,-1):e),new r(e)},isCompound:function(){return this.number()>8},octaves:function(){var t,e;return"up"===this.direction()?(t=o.sub(this.coord,o.mul(i.sharp,this.qualityValue())),e=t[0]-i.intervals[this.base()][0]):(t=o.sub(this.coord,o.mul(i.sharp,-this.qualityValue())),e=-(t[0]+i.intervals[this.base()][0])),e},invert:function(){var t=this.base(),e=this.qualityValue(),n="minor"===this.type()?-(e-1):-e,s=i.intervals[i.intervalsIndex[9-i.stepNumber[t]-1]];return s=o.add(s,o.mul(i.sharp,n)),new r(s)},quality:function(t){var e=i.alterations[this.type()][this.qualityValue()+2];return t?i.qualityLong[e]:e},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),n=t.semitones();return e===n?this.number()>t.number():e>n},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new r(o.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},r.toCoord=function(t){var e=s(t);if(!e)throw new Error("Invalid simple format interval");return new r(e)},r.from=function(t,e){return t.interval(e)},r.between=function(t,e){return new r(o.sub(e.coord,t.coord))},r.invert=function(t){return r.toCoord(t).invert().toString()},t.exports=r},function(t,e,n){"use strict";var r=n(166),i={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=i},function(t,e,n){(function(e){"use strict";var r=n(14),i=n(15);if("production"!==e.env.NODE_ENV){var o="_reactFragment",s="_reactDidWarn",a=!1;try{var u=function(){return 1};Object.defineProperty({},o,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:u}),a=!0}catch(l){}var c=function(t,n){Object.defineProperty(t,n,{enumerable:!0,get:function(){return"production"!==e.env.NODE_ENV?i(this[s],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[s]=!0,this[o][n]},set:function(t){"production"!==e.env.NODE_ENV?i(this[s],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[s]=!0,this[o][n]=t}})},h={},p=function(t){var e="";for(var n in t)e+=n+":"+typeof t[n]+",";var r=!!h[e];return h[e]=!0,r}}var d={create:function(t){if("production"!==e.env.NODE_ENV){if("object"!=typeof t||!t||Array.isArray(t))return"production"!==e.env.NODE_ENV?i(!1,"React.addons.createFragment only accepts a single object.",t):null,t;if(r.isValidElement(t))return"production"!==e.env.NODE_ENV?i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,t;if(a){var n={};Object.defineProperty(n,o,{enumerable:!1,value:t}),Object.defineProperty(n,s,{writable:!0,enumerable:!1,value:!1});for(var u in t)c(n,u);return Object.preventExtensions(n),n}}return t},extract:function(t){return"production"!==e.env.NODE_ENV&&a?t[o]?t[o]:("production"!==e.env.NODE_ENV?i(p(t),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,t):t},extractIfFragment:function(t){if("production"!==e.env.NODE_ENV&&a){if(t[o])return t[o];for(var n in t)if(t.hasOwnProperty(n)&&r.isValidElement(t[n]))return d.extract(t)}return t}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){if("function"==typeof t.type)return t.type;var e=t.type,n=h[e];return null==n&&(h[e]=n=l(e)),n}function i(t){return"production"!==e.env.NODE_ENV?u(c,"There is no registered component for the tag %s",t.type):u(c),new c(t.type,t.props)}function o(t){return new p(t)}function s(t){return t instanceof p}var a=n(12),u=n(3),l=null,c=null,h={},p=null,d={injectGenericComponentClass:function(t){c=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){a(h,t)},injectAutoWrapper:function(t){l=t}},f={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:s,injection:d};t.exports=f}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(52),o=n(163),s=n(109),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,a),t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(3),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,n,i,o,s,a,u,l){"production"!==e.env.NODE_ENV?r(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!this.isInTransaction());var c,h;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),h=t.call(n,i,o,s,a,u,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return h},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){"production"!==e.env.NODE_ENV?r(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):r(this.isInTransaction());for(var n=this.transactionWrappers,i=t;i<n.length;i++){var s,a=n[i],u=this.wrapperInitData[i];try{s=!0,u!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,u),s=!1}finally{if(s)try{this.closeAll(i+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&Object.freeze(n),t.exports=n}).call(e,n(1))},function(t,e){"use strict";function n(t){return i[t]}function r(t){return(""+t).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=r},function(t,e,n){function r(t){return this instanceof r?void(this.coord=t):new r(t)}var i=n(54),o=n(175);r.prototype={name:function(){return i.intervalsIndex[this.number()-1]},semitones:function(){return o.sum(o.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t,e,n=o.sub(this.coord,o.mul(i.sharp,Math.floor((this.coord[1]-2)/7)+1));return t=i.intervalFromFifth[n[1]+5],e=i.stepNumber[t]+7*(n[0]-i.intervals[t][0]),e>0?e:e-2},type:function(){return i.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t,e=o.sub(this.coord,o.mul(i.sharp,this.qualityValue()))[1];return e=this.value()>0?e+5:-(e-5)%7,e=0>e?i.intervalFromFifth.length+e:e,t=i.intervalFromFifth[e],"unison"===t&&this.number()>=8&&(t="octave"),t},direction:function(t){if(t){var e=this.value()>=1?"up":"down";return e!==t&&(this.coord=o.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function(t){var e=i.intervals[this.base()];return e=o.add(e,o.mul(i.sharp,this.qualityValue())),t||(e="down"===this.direction()?o.mul(e,-1):e),new r(e)},isCompound:function(){return this.number()>8},octaves:function(){var t,e;return"up"===this.direction()?(t=o.sub(this.coord,o.mul(i.sharp,this.qualityValue())),e=t[0]-i.intervals[this.base()][0]):(t=o.sub(this.coord,o.mul(i.sharp,-this.qualityValue())),e=-(t[0]+i.intervals[this.base()][0])),e},invert:function(){var t=this.base(),e=this.qualityValue(),n="minor"===this.type()?-(e-1):-e,s=i.intervals[i.intervalsIndex[9-i.stepNumber[t]-1]];return s=o.add(s,o.mul(i.sharp,n)),new r(s)},quality:function(t){var e=i.alterations[this.type()][this.qualityValue()+2];return t?i.qualityLong[e]:e},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),n=t.semitones();return e===n?this.number()>t.number():e>n},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new r(o.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},r.toCoord=function(t){var e,n,s,a,u,l,c,h,p,d,f=/^(AA|A|P|M|m|d|dd)(-?\d+)$/;if(e=t.match(f),!e)throw new Error("Invalid simple format interval");if(a=e[1],n=+e[2],d=0>n,n=d?-n:n,u=n>8?n%7?n%7:7:n,l=(n-u)/7,c=i.intervals[i.intervalsIndex[u-1]],s=o.add(c,[l,0]),h=c[0]<=1?"perfect":"minor","perfect"===h&&("M"===a||"m"===a)||"minor"===h&&"P"===a)throw new Error("Invalid interval quality");return p=i.alterations[h].indexOf(a)-2,s=o.add(s,o.mul(i.sharp,p)),s=d?o.mul(s,-1):s,new r(s)},r.from=function(t,e){return t.interval(e)},r.between=function(t,e){return new r(o.sub(e.coord,t.coord))},r.invert=function(t){return r.toCoord(t).invert().toString()},t.exports=r},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(1).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},l=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,r=arguments.length<2?!1:a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(74).setImmediate,n(74).clearImmediate)},function(t,e,n){var r=n(34).fn;t.exports=function(t,e,n){if(r(t),~n&&void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(75),i=n(27).get,o=n(235);t.exports=function(t,e,n,s){for(var a,u=i(t),l=r(n,s,e?2:1);!(a=u.next()).done;)if(o(u,l,a.value,e)===!1)return o.close(u)}},function(t,e,n){var r=n(35),i=n(78),o=n(4),s=n(55),a=n(27),u=n(36)("iterator"),l="@@iterator",c="keys",h="values",p=a.Iterators;t.exports=function(t,e,n,d,f,m,v){function y(t){function e(e){return new n(e,t)}switch(t){case c:return function(){return e(this)};case h:return function(){return e(this)}}return function(){return e(this)}}a.create(n,e,d);var g,_,b=e+" Iterator",E=t.prototype,x=E[u]||E[l]||f&&E[f],w=x||y(f);if(x){var T=o.getProto(w.call(new t));s.set(T,b,!0),o.FW&&o.has(E,l)&&a.set(T,o.that)}if((o.FW||v)&&a.set(E,w),p[e]=w,p[b]=o.that,f)if(g={keys:m?w:y(c),values:f==h?w:y(h),entries:f!=h?w:y("entries")},v)for(_ in g)_ in E||i(E,_,g[_]);else r(r.P+r.F*a.BUGGY,e,g)}},function(t,e,n){t.exports=n(4).hide},function(t,e,n){var r=n(4).set,i=n(238)(!0),o=n(44).safe("iter"),s=n(27),a=s.step;n(77)(String,"String",function(t){r(this,o,{o:String(t),i:0})},function(){var t,e=this[o],n=e.o,r=e.i;return r>=n.length?a(1):(t=i(n,r),e.i+=t.length,a(0,t))})},function(t,e,n){n(240);var r=n(4),i=n(27).Iterators,o=n(36)("iterator"),s=i.Array,a=r.g.NodeList,u=r.g.HTMLCollection,l=a&&a.prototype,c=u&&u.prototype;r.FW&&(!a||o in l||r.hide(l,o,s),!u||o in c||r.hide(c,o,s)),i.NodeList=i.HTMLCollection=s},function(t,e,n){(function(){"use strict";function n(t,e){var n,r={};for(n in t)r[n]=t[n];for(n in e)r[n]=e[n];return r}function r(t){return!(!t||"object"!=typeof t||Array.isArray(t)||t instanceof Function||t instanceof RegExp)}function i(t,e,n){var r,i,o,s;for(i in t)e.call(n||null,i,t[i]);if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(t),o=0,s=r.length;s>o;o++)e.call(n||null,r[o],t[r[o]])}function o(t,e){t=t||[];var n,r,i=[];for(r=0,n=t.length;n>r;r++)t[r].fn!==e&&i.push(t[r]);return i}var s={once:"boolean",scope:"object"},a=0,u=function(){this._enabled=!0,this.unbindAll()};u.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},u.prototype.on=function(t,e,n){var o,u,l,c,h,p,d;if(r(t))return i(t,function(t,n){this.on(t,n,e)},this),this;for("function"==typeof t&&(n=e,e=t,t=null),h=[].concat(t),o=0,u=h.length;u>o;o++){if(c=h[o],d={order:a++,fn:e},"string"==typeof c||"symbol"==typeof c)this._handlers[c]||(this._handlers[c]=[]),p=this._handlers[c],d.type=c;else if(c instanceof RegExp)p=this._handlersComplex,d.pattern=c;else{if(null!==c)throw Error("Emitter.on: invalid event.");p=this._handlersAll}for(l in n||{})s[l]&&(d[l]=n[l]);p.push(d)}return this},u.prototype.once=function(){var t=Array.prototype.slice.call(arguments),e=t.length-1;return r(t[e])&&t.length>1?t[e]=n(t[e],{once:!0}):t.push({once:!0}),this.on.apply(this,t)},u.prototype.off=function(t,e){var n,s,a,u;if(1===arguments.length&&"function"==typeof t){e=arguments[0];for(a in this._handlers)this._handlers[a]=o(this._handlers[a],e),0===this._handlers[a].length&&delete this._handlers[a];this._handlersAll=o(this._handlersAll,e),this._handlersComplex=o(this._handlersComplex,e)}else if(1!==arguments.length||"string"!=typeof t&&"symbol"!=typeof t)if(2===arguments.length){var l=[].concat(t);for(n=0,s=l.length;s>n;n++)u=l[n],this._handlers[u]=o(this._handlers[u],e),0===(this._handlers[u]||[]).length&&delete this._handlers[u]}else r(t)&&i(t,this.off,this);else delete this._handlers[t];return this},u.prototype.listeners=function(t){var e,n,r,i=this._handlersAll||[],o=!1;if(!t)throw Error("Emitter.listeners: no event provided.");for(i=i.concat(this._handlers[t]||[]),n=0,r=this._handlersComplex.length;r>n;n++)e=this._handlersComplex[n],~t.search(e.pattern)&&(o=!0,i.push(e));return this._handlersAll.length||o?i.sort(function(t,e){return t.order-e.order}):i.slice(0)},u.prototype.emit=function(t,e){if(!this._enabled)return this;if(r(t))return i(t,this.emit,this),this;var n,o,s,a,u,l,c,h,p=[].concat(t),d=[];for(u=0,c=p.length;c>u;u++){for(s=this.listeners(p[u]),l=0,h=s.length;h>l;l++)a=s[l],n={type:p[u],target:this},arguments.length>1&&(n.data=e),a.fn.call("scope"in a?a.scope:this,n),a.once&&d.push(a);for(l=d.length-1;l>=0;l--)o=d[l].type?this._handlers[d[l].type]:d[l].pattern?this._handlersComplex:this._handlersAll,o.splice(o.indexOf(d[l]),1)}return this},u.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},u.prototype.disable=function(){return this._enabled=!1,this},u.prototype.enable=function(){return this._enabled=!0,this},u.version="3.1.1","undefined"!=typeof t&&t.exports&&(e=t.exports=u),e.Emitter=u}).call(this)},function(t,e,n){function r(t,e,n){function u(e,n,i,s,u){if(e||p){d=!1;var l=n;if(e&&(l=n.apply(this,u)),!s(l))throw Error("baobab.Facet: incorrect "+i+" mapping.");h[i]={},Object.keys(l).forEach(function(e){if("cursors"===i){if(l[e]instanceof o)return void(h.cursors[e]=l[e]);if(a.Path(l[e]))return void(h.cursors[e]=t.select(l[e]))}else{if(l[e]instanceof r)return void(h.facets[e]=l[e]);if("string"==typeof l[e]){if(h.facets[e]=t.facets[l[e]],!h.facets[e])throw Error('baobab.Facet: unkown "'+l[e]+'" facet in facets mapping.');return}}})}}function l(t){return Object.keys(t).map(function(e){return t[e].solvedPath})}function c(t){var e=Object.keys(t).map(function(e){return l(t[e].cursors).concat(c(t[e].facets))});return[].concat.apply([],e)}var h=this,p=!0,d=!1,f=e.get,m=null;i.call(this),this.killed=!1,this.tree=t,this.cursors={},this.facets={};var v=e.cursors,y=e.facets,g="function"==typeof e.cursors,_="function"==typeof e.facets;this.refresh=function(t){if(t=t||[],!a.Array(t))throw Error("baobab.Facet.refresh: first argument should be an array.");v&&u(g,v,"cursors",a.FacetCursors,t),y&&u(_,y,"facets",a.FacetFacets,t)},this.get=function(){if(d)return m;var t,e={};for(t in h.facets)e[t]=h.facets[t].get();for(t in h.cursors)e[t]=h.cursors[t].get();return e="function"==typeof f?f.call(h,e):e,d=!0,m=e},this.updateHandler=function(t){if(!h.killed){var e=l(h.cursors).concat(c(h.facets));s.solveUpdate(t.data.log,e)&&(d=!1,h.emit("update"))}},this.refresh(n),this.tree.on("update",this.updateHandler),p=!1}var i=n(81),o=n(56),s=n(37),a=n(38);s.inherits(r,i),r.prototype.release=function(){this.tree.off("update",this.updateHandler),this.tree=null,this.cursors=null,this.facets=null,this.killed=!0,this.kill()},t.exports=r},function(t,e,n){function r(t,e,n){if(s.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":null,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function i(t){return t.toString().replace("object ","")}function o(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}var s=n(31),a=n(116),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},r.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this._loadImage();break;case r.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case r.LOAD_TYPE.VIDEO:this._loadElement("video");break;case r.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},r.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},r.prototype._loadElement=function(t){if(this.data=document.createElement(t),Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},r.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},r.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},r.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=e,r.type=n,r},r.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},r.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},r.prototype._xhrOnError=function(){this.error=new Error(i(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},r.prototype._xhrOnAbort=function(){this.error=new Error(i(this.xhr)+" Request was aborted by the user."),this.complete()},r.prototype._xdrOnTimeout=function(){this.error=new Error(i(this.xhr)+" Request timed out."),this.complete()},r.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(n){this.error=new Error("Error trying to parse loaded json:",n)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(n){this.error=new Error("Error trying to parse loaded xml:",n)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},r.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t,t=a.parse(l.href);var n=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this._getExtension()]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this._getExtension()]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?");-1!==r&&(e=e.substring(0,r)),t=e.substring(e.lastIndexOf(".")+1)}return t},r.prototype._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT},r.setExtensionLoadType=function(t,e){o(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){o(r._xhrTypeMap,t,e)}},function(t,e){function n(t,e){this.x=t||0,this.y=e||0}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},function(t,e,n){function r(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.type=i.SHAPES.RECT}var i=n(13);r.prototype.constructor=r,t.exports=r,r.EMPTY=new r(0,0,0,0),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},function(t,e){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}n.prototype.constructor=n,t.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},function(t,e,n){var r=n(13),i={};t.exports=i,i.renderGraphics=function(t,e){var n=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===r.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var c=1;c<l.length/2;c++)e.lineTo(l[2*c],l[2*c+1]);s.closed&&e.lineTo(l[0],l[1]),
l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===r.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===r.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===r.SHAPES.ELIP){var h=2*s.width,p=2*s.height,d=s.x-h/2,f=s.y-p/2;e.beginPath();var m=.5522848,v=h/2*m,y=p/2*m,g=d+h,_=f+p,b=d+h/2,E=f+p/2;e.moveTo(d,E),e.bezierCurveTo(d,E-y,b-v,f,b,f),e.bezierCurveTo(b+v,f,g,E-y,g,E),e.bezierCurveTo(g,E+y,b+v,_,b,_),e.bezierCurveTo(b-v,_,d,E+y,d,E),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===r.SHAPES.RREC){var x=s.x,w=s.y,T=s.width,S=s.height,M=s.radius,O=Math.min(T,S)/2|0;M=M>O?O:M,e.beginPath(),e.moveTo(x,w+M),e.lineTo(x,w+S-M),e.quadraticCurveTo(x,w+S,x+M,w+S),e.lineTo(x+T-M,w+S),e.quadraticCurveTo(x+T,w+S,x+T,w+S-M),e.lineTo(x+T,w+M),e.quadraticCurveTo(x+T,w,x+T-M,w),e.lineTo(x+M,w),e.quadraticCurveTo(x,w,x,w+M),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},i.renderGraphicsMask=function(t,e){var n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;n>i;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===r.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===r.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var l=2*s.width,c=2*s.height,h=s.x-l/2,p=s.y-c/2,d=.5522848,f=l/2*d,m=c/2*d,v=h+l,y=p+c,g=h+l/2,_=p+c/2;e.moveTo(h,_),e.bezierCurveTo(h,_-m,g-f,p,g,p),e.bezierCurveTo(g+f,p,v,_-m,v,_),e.bezierCurveTo(v,_+m,g+f,y,g,y),e.bezierCurveTo(g-f,y,h,_+m,h,_),e.closePath()}else if(o.type===r.SHAPES.RREC){var b=s.x,E=s.y,x=s.width,w=s.height,T=s.radius,S=Math.min(x,w)/2|0;T=T>S?S:T,e.moveTo(b,E+T),e.lineTo(b,E+w-T),e.quadraticCurveTo(b,E+w,b+T,E+w),e.lineTo(b+x-T,E+w),e.quadraticCurveTo(b+x,E+w,b+x,E+w-T),e.lineTo(b+x,E+T),e.quadraticCurveTo(b+x,E,b+x-T,E),e.lineTo(b+T,E),e.quadraticCurveTo(b,E,b,E+T),e.closePath()}}}},i.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255}}},function(t,e,n){function r(t,e,n){this.shaders=[],this.padding=0,this.uniforms=n||{},this.vertexSrc=t||i.defaultVertexSrc,this.fragmentSrc=e||i.defaultFragmentSrc}var i=n(89);r.prototype.constructor=r,t.exports=r,r.prototype.getShader=function(t){var e=t.gl,n=this.shaders[e.id];return n||(n=new i(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=n),n},r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);t.filterManager.applyFilter(i,e,n,r)},r.prototype.syncUniform=function(t){for(var e=0,n=this.shaders.length;n>e;++e)this.shaders[e].syncUniform(t)}},function(t,e,n){function r(t,e,n,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var u in o)a[u]=o[u];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var c in s)l[c]=s[c];e=e||r.defaultVertexSrc,n=n||r.defaultFragmentSrc,i.call(this,t,e,n,a,l)}var i=n(60);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),r.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},function(t,e,n){function r(t,e,n,r,h){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,n=n||100,h=h||c.RESOLUTION;var p=new i;if(p.width=e,p.height=n,p.resolution=h,p.scaleMode=r||c.SCALE_MODES.DEFAULT,p.hasLoaded=!0,o.call(this,p,new l.Rectangle(0,0,e,n)),this.width=e,this.height=n,this.resolution=h,this.render=null,this.renderer=t,this.renderer.type===c.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,n),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var i=n(62),o=n(46),s=n(61),a=n(134),u=n(86),l=n(18),c=n(13),h=new l.Matrix;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.resize=function(t,e,n){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},r.prototype.clear=function(){this.valid&&(this.renderer.type===c.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},r.prototype.renderWebGL=function(t,e,n,r){if(this.valid){if(r=void 0!==r?r:!0,//!updateTransform;
this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,r){t.worldTransform.identity(),t.currentBounds=null;var i,o,s=t.children;for(i=0,o=s.length;o>i;++i)s[i].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,n),this.renderer.filterManager=a}},r.prototype.renderCanvas=function(t,e,n,r){if(this.valid){r=!!r;var i=t.worldTransform,o=h;o.identity(),e&&o.append(e),t.worldTransform=o,t.worldAlpha=1;var s,a,u=t.children;for(s=0,a=u.length;a>s;++s)u[s].updateTransform();n&&this.textureBuffer.clear(),t.worldTransform=i;var l=this.textureBuffer.context,c=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=c}},r.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},r.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},r.prototype.getBase64=function(){return this.getCanvas().toDataURL()},r.prototype.getCanvas=function(){if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,n=this.textureBuffer.size.height,r=new Uint8Array(4*e*n);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,r),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new u(e,n),o=i.context.getImageData(0,0,e,n);return o.data.set(r),i.context.putImageData(o,0,0),i.canvas}return this.textureBuffer.canvas},r.prototype.getPixels=function(){var t,e;if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var r=new Uint8Array(4*t*e);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},r.prototype.getPixel=function(t,e){if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var n=this.renderer.gl,r=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(t,e,1,1,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},function(t,e,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
n(296),n(297),n(298),t.exports={MovieClip:n(294),TilingSprite:n(295),BitmapText:n(293)}},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,o.readFileSync(e+"/blurY.vert","utf8"),o.readFileSync(e+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})}).call(e,"/")},function(t,e,n){function r(t,e,n,o,s){i.Container.call(this),this._texture=null,this.uvs=n||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=i.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||r.DRAW_MODES.TRIANGLE_MESH,this.texture=t}var i=n(2),o=new i.Point,s=new i.Polygon;r.prototype=Object.create(i.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),r.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},r.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform;t.roundPixels?e.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),this.drawMode===r.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},r.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,n=this.uvs,r=e.length/2,i=0;r-2>i;i++){var o=2*i;this._renderCanvasDrawTriangle(t,e,n,o,o+2,o+4)}},r.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,n=this.uvs,r=this.indices,i=r.length,o=0;i>o;o+=3){var s=2*r[o],a=2*r[o+1],u=2*r[o+2];this._renderCanvasDrawTriangle(t,e,n,s,a,u)}},r.prototype._renderCanvasDrawTriangle=function(t,e,n,r,i,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,u=this._texture.baseTexture.height,l=e[r],c=e[i],h=e[o],p=e[r+1],d=e[i+1],f=e[o+1],m=n[r]*a,v=n[i]*a,y=n[o]*a,g=n[r+1]*u,_=n[i+1]*u,b=n[o+1]*u;if(this.canvasPadding>0){var E=this.canvasPadding/this.worldTransform.a,x=this.canvasPadding/this.worldTransform.d,w=(l+c+h)/3,T=(p+d+f)/3,S=l-w,M=p-T,O=Math.sqrt(S*S+M*M);l=w+S/O*(O+E),p=T+M/O*(O+x),S=c-w,M=d-T,O=Math.sqrt(S*S+M*M),c=w+S/O*(O+E),d=T+M/O*(O+x),S=h-w,M=f-T,O=Math.sqrt(S*S+M*M),h=w+S/O*(O+E),f=T+M/O*(O+x)}t.save(),t.beginPath(),t.moveTo(l,p),t.lineTo(c,d),t.lineTo(h,f),t.closePath(),t.clip();var A=m*_+g*y+v*b-_*y-g*v-m*b,C=l*_+g*h+c*b-_*h-g*c-l*b,P=m*c+l*y+v*h-c*y-l*v-m*h,D=m*_*h+g*c*y+l*v*b-l*_*y-g*v*h-m*c*b,R=p*_+g*f+d*b-_*f-g*d-p*b,N=m*d+p*y+v*f-d*y-p*v-m*f,F=m*_*f+g*d*y+p*v*b-p*_*y-g*v*f-m*d*b;t.transform(C/A,R/A,P/A,N/A,D/A,F/A),t.drawImage(s,0,0),t.restore()},r.prototype.renderMeshFlat=function(t){var e=this.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;r-2>i;i++){var o=2*i,s=n[o],a=n[o+2],u=n[o+4],l=n[o+1],c=n[o+3],h=n[o+5];e.moveTo(s,l),e.lineTo(a,c),e.lineTo(u,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},r.prototype._onTextureUpdate=function(){this.updateFrame=!0},r.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,n=e.a,r=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,l=-(1/0),c=-(1/0),h=1/0,p=1/0,d=this.vertices,f=0,m=d.length;m>f;f+=2){var v=d[f],y=d[f+1],g=n*v+o*y+a,_=s*y+r*v+u;h=h>g?g:h,p=p>_?_:p,l=g>l?g:l,c=_>c?_:c}if(h===-(1/0)||c===1/0)return i.Rectangle.EMPTY;var b=this._bounds;b.x=h,b.width=l-h,b.y=p,b.height=c-p,this._currentBounds=b}return this._currentBounds},r.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,n,i=this.vertices,a=s.points;if(this.drawMode===r.DRAW_MODES.TRIANGLES){var u=this.indices;for(n=this.indices.length,e=0;n>e;e+=3){var l=2*u[e],c=2*u[e+1],h=2*u[e+2];if(a[0]=i[l],a[1]=i[l+1],a[2]=i[c],a[3]=i[c+1],a[4]=i[h],a[5]=i[h+1],s.contains(o.x,o.y))return!0}}else for(n=i.length,e=0;n>e;e+=6)if(a[0]=i[e],a[1]=i[e+1],a[2]=i[e+2],a[3]=i[e+3],a[4]=i[e+4],a[5]=i[e+5],s.contains(o.x,o.y))return!0;return!1},r.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){(function(e){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(24),o=n(12),s=n(3);o(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,n=this._contexts;if(t){"production"!==e.env.NODE_ENV?s(t.length===n.length,"Mismatched list of contexts in callback queue"):s(t.length===n.length),this._callbacks=null,this._contexts=null;for(var r=0,i=t.length;i>r;r++)t[r].call(n[r]);t.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return t===y.topMouseUp||t===y.topTouchEnd||t===y.topTouchCancel}function i(t){return t===y.topMouseMove||t===y.topTouchMove}function o(t){return t===y.topMouseDown||t===y.topTouchStart}function s(t,n){var r=t._dispatchListeners,i=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(r))for(var o=0;o<r.length&&!t.isPropagationStopped();o++)n(t,r[o],i[o]);else r&&n(t,r,i)}function a(t,e,n){t.currentTarget=v.Mount.getNode(n);var r=e(t,n);return t.currentTarget=null,r}function u(t,e){s(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function l(t){var n=t._dispatchListeners,r=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(n)){for(var i=0;i<n.length&&!t.isPropagationStopped();i++)if(n[i](t,r[i]))return r[i]}else if(n&&n(t,r))return r;return null}function c(t){var e=l(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function h(t){"production"!==e.env.NODE_ENV&&d(t);var n=t._dispatchListeners,r=t._dispatchIDs;"production"!==e.env.NODE_ENV?m(!Array.isArray(n),"executeDirectDispatch(...): Invalid `event`."):m(!Array.isArray(n));var i=n?n(t,r):null;return t._dispatchListeners=null,t._dispatchIDs=null,i}function p(t){return!!t._dispatchListeners}var d,f=n(20),m=n(3),v={Mount:null,injectMount:function(t){v.Mount=t,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?m(t&&t.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):m(t&&t.getNode))}},y=f.topLevelTypes;"production"!==e.env.NODE_ENV&&(d=function(t){var n=t._dispatchListeners,r=t._dispatchIDs,i=Array.isArray(n),o=Array.isArray(r),s=o?r.length:r?1:0,a=i?n.length:n?1:0;"production"!==e.env.NODE_ENV?m(o===i&&s===a,"EventPluginUtils: Invalid `event`."):m(o===i&&s===a)});var g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:h,executeDispatch:a,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:p,injection:v,useTouchEvents:!1};t.exports=g}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?l(null==t.props.checkedLink||null==t.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):l(null==t.props.checkedLink||null==t.props.valueLink)}function i(t){r(t),"production"!==e.env.NODE_ENV?l(null==t.props.value&&null==t.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):l(null==t.props.value&&null==t.props.onChange)}function o(t){r(t),"production"!==e.env.NODE_ENV?l(null==t.props.checked&&null==t.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):l(null==t.props.checked&&null==t.props.onChange)}function s(t){this.props.valueLink.requestChange(t.target.value)}function a(t){this.props.checkedLink.requestChange(t.target.checked)}var u=n(160),l=n(3),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func}},getValue:function(t){return t.props.valueLink?(i(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(o(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(i(t),s):t.props.checkedLink?(o(t),a):t.props.onChange}};t.exports=h}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){t.remove()}var i=n(40),o=n(106),s=n(107),a=n(3),u={trapBubbledEvent:function(t,n){"production"!==e.env.NODE_ENV?a(this.isMounted(),"Must be mounted to trap events"):a(this.isMounted());var r=this.getDOMNode();"production"!==e.env.NODE_ENV?a(r,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):a(r);var s=i.trapBubbledEvent(t,n,r);this._localEventListeners=o(this._localEventListeners,s)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,r)}};t.exports=u}).call(e,n(1))},function(t,e,n){"use strict";var r=n(155),i=n(22),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){i.purgeID(t)}};t.exports=o},function(t,e,n){(function(e){"use strict";var r=n(3),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){"production"!==e.env.NODE_ENV?r(!i,"ReactCompositeComponent: injectEnvironment() can only be called once."):r(!i),o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=o}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(12),i=n(71),o=n(15),s=!1,a={current:i,withContext:function(t,n){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?o(s,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,s=!0);var i,u=a.current;a.current=r({},u,t);try{i=n()}finally{a.current=u}return i}};t.exports=a}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){t&&(null!=t.dangerouslySetInnerHTML&&("production"!==e.env.NODE_ENV?y(null==t.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):y(null==t.children),"production"!==e.env.NODE_ENV?y("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):y("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML)),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==e.env.NODE_ENV?b(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==e.env.NODE_ENV?y(null==t.style||"object"==typeof t.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):y(null==t.style||"object"==typeof t.style))}function i(t,n,r,i){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b("onScroll"!==n||g("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var o=p.findReactContainerForID(t);if(o){var s=o.nodeType===M?o.ownerDocument:o;x(n,s)}i.getPutListenerQueue().enqueuePutListener(t,n,r)}function o(t){D.call(P,t)||("production"!==e.env.NODE_ENV?y(C.test(t),"Invalid tag: %s",t):y(C.test(t)),P[t]=!0)}function s(t){o(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=n(152),u=n(32),l=n(48),c=n(40),h=n(98),p=n(22),d=n(375),f=n(28),m=n(12),v=n(72),y=n(3),g=n(112),_=n(30),b=n(15),E=c.deleteListener,x=c.listenTo,w=c.registrationNameModules,T={string:!0,number:!0},S=_({style:null}),M=1,O=null,A={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},C=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,P={},D={}.hasOwnProperty;s.displayName="ReactDOMComponent",s.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,r(this._currentElement.props);var i=A[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+i},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(w.hasOwnProperty(r))i(this._rootNodeID,r,o,t);else{r===S&&(o&&(o=this._previousStyleCopy=m({},e.style)),o=a.createMarkupForStyles(o));var s=l.createMarkupForProperty(r,o);s&&(n+=" "+s)}}if(t.renderToStaticMarkup)return n+">";var u=l.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(t,e){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,i=r.dangerouslySetInnerHTML;if(null!=i){if(null!=i.__html)return n+i.__html}else{var o=T[typeof r.children]?r.children:null,s=null!=o?null:r.children;if(null!=o)return n+v(o);if(null!=s){var a=this.mountChildren(s,t,e);return n+a.join("")}}return n},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,i){r(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,i)},_updateDOMProperties:function(t,e){var n,r,o,s=this._currentElement.props;for(n in t)if(!s.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===S){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else w.hasOwnProperty(n)?E(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.deletePropertyByID(this._rootNodeID,n);for(n in s){var l=s[n],c=n===S?this._previousStyleCopy:t[n];if(s.hasOwnProperty(n)&&l!==c)if(n===S)if(l?l=this._previousStyleCopy=m({},l):this._previousStyleCopy=null,c){for(r in c)!c.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in l)l.hasOwnProperty(r)&&c[r]!==l[r]&&(o=o||{},o[r]=l[r])}else o=l;else w.hasOwnProperty(n)?i(this._rootNodeID,n,l,e):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.updatePropertyByID(this._rootNodeID,n,l)}o&&O.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(t,e,n){var r=this._currentElement.props,i=T[typeof t.children]?t.children:null,o=T[typeof r.children]?r.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,u=null!=i?null:t.children,l=null!=o?null:r.children,c=null!=i||null!=s,h=null!=o||null!=a;null!=u&&null==l?this.updateChildren(null,e,n):c&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=a?s!==a&&O.updateInnerHTMLByID(this._rootNodeID,a):null!=l&&this.updateChildren(l,e,n)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),h.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(s,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(s.prototype,s.Mixin,d.Mixin),s.injection={injectIDOperations:function(t){s.BackendIDOperations=O=t}},t.exports=s}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){c[t]=!0}function i(t){delete c[t]}function o(t){return!!c[t]}var s,a=n(14),u=n(42),l=n(3),c={},h={injectEmptyComponent:function(t){s=a.createFactory(t)}},p=function(){};p.prototype.componentDidMount=function(){var t=u.get(this);t&&r(t._rootNodeID)},p.prototype.componentWillUnmount=function(){var t=u.get(this);t&&i(t._rootNodeID)},p.prototype.render=function(){return"production"!==e.env.NODE_ENV?l(s,"Trying to return null from a render, but no null placeholder component was injected."):l(s),s()};var d=a.createElement(p),f={emptyElement:d,injection:h,isNullComponentID:o};t.exports=f}).call(e,n(1))},function(t,e){"use strict";var n={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=n},function(t,e,n){"use strict";var r=n(53),i=r({prop:null,context:null,childContext:null});t.exports=i},function(t,e,n){(function(e){"use strict";function r(t){t!==o.currentlyMountingInstance&&l.enqueueUpdate(t)}function i(t,n){"production"!==e.env.NODE_ENV?h(null==s.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):h(null==s.current);var r=u.get(t);return r?r===o.currentlyUnmountingInstance?null:r:("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?p(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",n,n):null),null)}var o=n(103),s=n(26),a=n(14),u=n(42),l=n(23),c=n(12),h=n(3),p=n(15),d={enqueueCallback:function(t,n){"production"!==e.env.NODE_ENV?h("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof n);var s=i(t);return s&&s!==o.currentlyMountingInstance?(s._pendingCallbacks?s._pendingCallbacks.push(n):s._pendingCallbacks=[n],void r(s)):null},enqueueCallbackInternal:function(t,n){"production"!==e.env.NODE_ENV?h("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof n),t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueSetProps:function(t,n){var o=i(t,"setProps");if(o){"production"!==e.env.NODE_ENV?h(o._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(o._isTopLevel);var s=o._pendingElement||o._currentElement,u=c({},s.props,n);o._pendingElement=a.cloneAndReplaceProps(s,u),r(o)}},enqueueReplaceProps:function(t,n){var o=i(t,"replaceProps");if(o){"production"!==e.env.NODE_ENV?h(o._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(o._isTopLevel);var s=o._pendingElement||o._currentElement;o._pendingElement=a.cloneAndReplaceProps(s,n),r(o)}},enqueueElementInternal:function(t,e){t._pendingElement=e,r(t)}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,n){if("production"!==e.env.NODE_ENV?i(null!=n,"accumulateInto(...): Accumulated items must not be null or undefined."):i(null!=n),null==t)return n;var r=Array.isArray(t),o=Array.isArray(n);return r&&o?(t.push.apply(t,n),t):r?(t.push(n),t):o?[t].concat(n):[t,n]}var i=n(3);t.exports=r}).call(e,n(1))},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=i[t];return r?!!n[r]:!1}function r(t){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,n){var i;if((null===t||t===!1)&&(t=s.emptyElement),"object"==typeof t){var o=t;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?c(o&&("function"==typeof o.type||"string"==typeof o.type),"Only functions or strings can be mounted as React components."):null),i=n===o.type&&"string"==typeof o.type?a.createInternalComponent(o):r(o.type)?new o.type(o):new h}else"string"==typeof t||"number"==typeof t?i=a.createInstanceForText(t):"production"!==e.env.NODE_ENV?l(!1,"Encountered invalid React node of type %s",typeof t):l(!1);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?c("function"==typeof i.construct&&"function"==typeof i.mountComponent&&"function"==typeof i.receiveComponent&&"function"==typeof i.unmountComponent,"Only React Components can be mounted."):null),i.construct(t),i._mountIndex=0,i._mountImage=null,"production"!==e.env.NODE_ENV&&(i._isOwnerNecessary=!1,i._warnedAboutRefsInRender=!1),"production"!==e.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(i),i}var o=n(356),s=n(102),a=n(67),u=n(12),l=n(3),c=n(15),h=function(){};u(h.prototype,o.Mixin,{_instantiateReactComponent:i}),t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"==typeof s[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(17);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e,n){"use strict";var r=n(17),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),r.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){(function(e){"use strict";function r(t,n){if(null!=t&&null!=n){var r=typeof t,o=typeof n;if("string"===r||"number"===r)return"string"===o||"number"===o;if("object"===o&&t.type===n.type&&t.key===n.key){var s=t._owner===n._owner,a=null,u=null,l=null;return"production"!==e.env.NODE_ENV&&(s||(null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(a=t._owner.getPublicInstance().constructor.displayName),null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(u=n._owner.getPublicInstance().constructor.displayName),null!=n.type&&null!=n.type.displayName&&(l=n.type.displayName),null!=n.type&&"string"==typeof n.type&&(l=n.type),("string"!=typeof n.type||"input"===n.type||"textarea"===n.type)&&(null!=t._owner&&t._owner._isOwnerNecessary===!1||null!=n._owner&&n._owner._isOwnerNecessary===!1)&&(null!=t._owner&&(t._owner._isOwnerNecessary=!0),null!=n._owner&&(n._owner._isOwnerNecessary=!0),"production"!==e.env.NODE_ENV?i(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",l||"Unknown Component",a||"[Unknown]",u||"[Unknown]",t.key):null))),s}}return!1}var i=n(15);t.exports=r}).call(e,n(1))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===s(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(1))},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function h(t){return null==t}var p=n(176);e.parse=i,e.resolve=s,e.resolveObject=a,e.format=o,e.Url=r;var d=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(v),g=["%","/","?",";","#"].concat(y),_=["/","?","#"],b=255,E=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=n(179);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=d.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&T[i]||(r=r.substr(2),this.slashes=!0)}if(!T[i]&&(s||i&&!S[i])){for(var a=-1,l=0;l<_.length;l++){var c=r.indexOf(_[l]);-1!==c&&(-1===a||a>c)&&(a=c)}var h,f;f=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==f&&(h=r.slice(0,f),r=r.slice(f+1),this.auth=decodeURIComponent(h)),a=-1;for(var l=0;l<g.length;l++){var c=r.indexOf(g[l]);-1!==c&&(-1===a||a>c)&&(a=c)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),l=0,O=v.length;O>l;l++){var A=v[l];if(A&&!A.match(E)){for(var C="",P=0,D=A.length;D>P;P++)C+=A.charCodeAt(P)>127?"x":A[P];if(!C.match(E)){var R=v.slice(0,l),N=v.slice(l+1),F=A.match(x);F&&(R.push(F[1]),N.unshift(F[2])),N.length&&(r="/"+N.join(".")+r),this.hostname=R.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var k=this.hostname.split("."),I=[],l=0;l<k.length;++l){var L=k[l];I.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(L):L)}this.hostname=I.join(".")}var B=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+B,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!w[o])for(var l=0,O=y.length;O>l;l++){var U=y[l],q=encodeURIComponent(U);q===U&&(q=escape(U)),r=r.split(U).join(q)}var V=r.indexOf("#");-1!==V&&(this.hash=r.substr(V),r=r.slice(0,V));var G=r.indexOf("?");if(-1!==G?(this.search=r.substr(G),this.query=r.substr(G+1),e&&(this.query=M.parse(this.query)),r=r.slice(0,G)):e&&(this.search="",this.query={}),r&&(this.pathname=r),S[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",L=this.search||"";this.path=B+L}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=M.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!S[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||T[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=l||a||n.host&&t.pathname,d=p,f=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],m=n.protocol&&!S[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===f[0]?f[0]=n.host:f.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),p=p&&(""===i[0]||""===f[0])),l)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,f=i;else if(i.length)f||(f=[]),f.pop(),f=f.concat(i),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(m){n.hostname=n.host=f.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=t.search,n.query=t.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!f.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=f.slice(-1)[0],g=(n.host||t.host)&&("."===y||".."===y)||""===y,_=0,b=f.length;b>=0;b--)y=f[b],"."==y?f.splice(b,1):".."===y?(f.splice(b,1),_++):_&&(f.splice(b,1),_--);if(!p&&!d)for(;_--;_)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),g&&"/"!==f.join("/").substr(-1)&&f.push("");var E=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(m){n.hostname=n.host=E?"":f.length?f.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return p=p||n.host&&f.length,p&&!E&&f.unshift(""),f.length?n.pathname=f.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){t.exports={"default":n(219),__esModule:!0}},function(t,e,n){t.exports={"default":n(224),__esModule:!0}},function(t,e,n){t.exports={"default":n(227),__esModule:!0}},function(t,e,n){var r=n(78);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e,n){var r=n(4),i="__core-js_shared__",o=r.g[i]||(r.g[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(4).core,i=n(27);r.isIterable=i.is,r.getIterator=i.get},function(t,e,n){"use strict";function r(t,e){return"prop type `"+t+"` is invalid; it must be "+e+"."}var i=n(124),o={};o.baobab=function(t,e){return i.Baobab(t[e])?void 0:new Error(r(e,"a Baobab tree"))},o.cursors=function(t,e){var n=t[e],o=i.Object(n)&&Object.keys(n).every(function(t){return i.Cursor(n[t])});return o?void 0:new Error(r(e,"Baobab cursors"))},o.facets=function(t,e){var n=t[e],o=i.Object(n)&&Object.keys(n).every(function(t){return i.Facet(n[t])});return o?void 0:new Error(r(e,"Baobab facets"))},t.exports=o},function(t,e,n){"use strict";var r=n(127),i=r.Cursor,o=r.Facet,s={};s.Object=function(t){return!(!t||"object"!=typeof t||Array.isArray(t)||t instanceof Date||t instanceof RegExp)},s.Baobab=function(t){return t instanceof r},s.Cursor=function(t){return t instanceof i},s.Facet=function(t){return t instanceof o},t.exports=s},function(t,e,n){t.exports=n(247)},function(t,e){t.exports={autoCommit:!0,asynchronous:!0,facets:{},immutable:!1,validate:null,validationBehavior:"rollback",syncwrite:!1}},function(t,e,n){var r=n(249),i=n(56),o=n(82),s=n(37);Object.defineProperty(r,"version",{value:"1.1.2"}),r.Cursor=i,r.Facet=o,r.getIn=s.getIn,t.exports=r},function(t,e,n){var r,i;(function(n,o){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function s(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(a,arguments)}}var a,u,l={};a=this,null!=a&&(u=a.async),l.noConflict=function(){return a.async=u,l};var c=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===c.call(t)},p=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},d=function(t,e){if(t.map)return t.map(e);var n=[];return p(t,function(t,r,i){n.push(e(t,r,i))}),n},f=function(t,e,n){return t.reduce?t.reduce(e,n):(p(t,function(t,r,i){n=e(n,t,r,i)}),n)},m=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(l.nextTick=n.nextTick,"undefined"!=typeof o?l.setImmediate=function(t){o(t)}:l.setImmediate=l.nextTick):"function"==typeof o?(l.nextTick=function(t){o(t)},l.setImmediate=l.nextTick):(l.nextTick=function(t){setTimeout(t,0)},l.setImmediate=l.nextTick),l.each=function(t,e,n){function r(e){e?(n(e),n=function(){}):(i+=1,i>=t.length&&n())}if(n=n||function(){},!t.length)return n();var i=0;p(t,function(t){e(t,s(r))})},l.forEach=l.each,l.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},l.forEachSeries=l.eachSeries,l.eachLimit=function(t,e,n,r){var i=v(e);i.apply(null,[t,n,r])},l.forEachLimit=l.eachLimit;var v=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[l.each].concat(e))}},g=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[v(t)].concat(n))}},_=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[l.eachSeries].concat(e))}},b=function(t,e,n,r){if(e=d(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};l.map=y(b),l.mapSeries=_(b),l.mapLimit=function(t,e,n,r){return E(e)(t,n,r)};var E=function(t){return g(t,b)};l.reduce=function(t,e,n,r){l.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},l.inject=l.reduce,l.foldl=l.reduce,l.reduceRight=function(t,e,n,r){var i=d(t,function(t){return t}).reverse();l.reduce(i,e,n,r)},l.foldr=l.reduceRight;var x=function(t,e,n,r){var i=[];e=d(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(t){r(d(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};l.filter=y(x),l.filterSeries=_(x),l.select=l.filter,l.selectSeries=l.filterSeries;var w=function(t,e,n,r){var i=[];e=d(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(t){r(d(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};l.reject=y(w),l.rejectSeries=_(w);var T=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};l.detect=y(T),l.detectSeries=_(T),l.some=function(t,e,n){l.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},l.any=l.some,l.every=function(t,e,n){l.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},l.all=l.every,l.sortBy=function(t,e,n){l.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,d(e.sort(r),function(t){return t.value}))})},l.auto=function(t,e){e=e||function(){};var n=m(t),r=n.length;if(!r)return e();var i={},o=[],s=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},u=function(){r--,p(o.slice(0),function(t){t()})};s(function(){if(!r){var t=e;e=function(){},t(null,i)}}),p(n,function(n){var r=h(t[n])?t[n]:[t[n]],o=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var o={};p(m(i),function(t){o[t]=i[t]}),o[n]=r,e(t,o),e=function(){}}else i[n]=r,l.setImmediate(u)},c=r.slice(0,Math.abs(r.length-1))||[],d=function(){return f(c,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(d())r[r.length-1](o,i);else{var v=function(){d()&&(a(v),r[r.length-1](o,i))};s(v)}})},l.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var o=function(r,o){for(var s=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},o)}};t;)i.push(s(e,!(t-=1)));l.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?o():o},l.waterfall=function(t,e){if(e=e||function(){},!h(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(r(o)):i.push(e),l.setImmediate(function(){t.apply(null,i)})}}};r(l.iterator(t))()};var S=function(t,e,n){if(n=n||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(m(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};l.parallel=function(t,e){S({map:l.map,each:l.each},t,e)},l.parallelLimit=function(t,e,n){S({map:E(e),each:v(e)},t,n)},l.series=function(t,e){if(e=e||function(){},h(t))l.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};l.eachSeries(m(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},l.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},l.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var M=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};l.concat=y(M),l.concatSeries=_(M),l.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void l.whilst(t,e,n)}):n()},l.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?l.doWhilst(t,e,n):n()})},l.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void l.until(t,e,n)})},l.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():l.doUntil(t,e,n)})},l.queue=function(t,e){function n(t,e,n,r){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?l.setImmediate(function(){t.drain&&t.drain()}):void p(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,i={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(i,t,!1,e)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(t,e){n(i,t,!0,e)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var e=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()},o=s(n);t(e.data,o)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){i.paused!==!0&&(i.paused=!0)},resume:function(){if(i.paused!==!1){i.paused=!1;for(var t=1;t<=i.concurrency;t++)l.setImmediate(i.process)}}};return i},l.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?l.setImmediate(function(){t.drain&&t.drain()}):void p(e,function(e){var s={data:e,priority:i,callback:"function"==typeof o?o:null};t.tasks.splice(r(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})}var o=l.queue(t,e);return o.push=function(t,e,n){i(o,t,e,n)},delete o.unshift,o},l.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){h(t)||(t=[t]),p(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),l.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=d(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;p(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var O=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&p(n,function(e){console[t](e)}))}]))}};l.log=O("log"),l.dir=O("dir"),l.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?l.nextTick(function(){o.apply(null,n[s])}):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},l.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},l.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return l.map(r,e,n)},l.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return l.mapSeries(r,e,n)},l.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();l.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},l.compose=function(){return l.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};l.applyEach=y(A),l.applyEachSeries=_(A),l.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=l:(r=[],i=function(){return l}.apply(e,r),!(void 0!==i&&(t.exports=i)))}()}).call(e,n(1),n(74).setImmediate)},function(t,e,n){function r(){s.call(this),this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new i.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var i=n(18),o=n(90),s=n(31),a=n(13),u=new i.Matrix;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),r.prototype.updateTransform=function(){var t,e,n,r,i,o,s=this.parent.worldTransform,u=this.worldTransform;this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,n=-this._sr*this.scale.y,r=this._cr*this.scale.y,i=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*t+this.pivot.y*n,o-=this.pivot.x*e+this.pivot.y*r),u.a=t*s.a+e*s.c,u.b=t*s.b+e*s.d,u.c=n*s.a+r*s.c,u.d=n*s.b+r*s.d,u.tx=i*s.a+o*s.c+s.tx,u.ty=i*s.b+o*s.d+s.ty):(t=this.scale.x,r=this.scale.y,i=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*r,u.a=t*s.a,u.b=t*s.b,u.c=r*s.c,u.d=r*s.d,u.tx=i*s.a+o*s.c+s.tx,u.ty=i*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},r.prototype.displayObjectUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(t){return i.Rectangle.EMPTY},r.prototype.getLocalBounds=function(){return this.getBounds(i.Matrix.IDENTITY)},r.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},r.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},r.prototype.renderWebGL=function(t){},r.prototype.renderCanvas=function(t){},r.prototype.generateTexture=function(t,e,n){var r=this.getLocalBounds(),i=new o(t,0|r.width,0|r.height,e,n);return u.tx=-r.x,u.ty=-r.y,i.render(this,u),i},r.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},function(t,e){function n(t,e,n,r,i,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this._lineTint=e,this.fillColor=r,this.fillAlpha=i,this._fillTint=r,this.fill=o,this.shape=s,this.type=s.type}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},function(t,e,n){function r(t,e,n,r){if(a.call(this),i.sayHello(t),r)for(var u in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof r[u]&&(r[u]=s.DEFAULT_RENDER_OPTIONS[u]);else r=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=n||600,this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var i=n(19),o=n(18),s=n(13),a=n(31);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=i.hex2string(t),i.hex2rgb(t,this._backgroundColorRgb)}}}),r.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},r.prototype.destroy=function(t){t&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},function(t,e,n){(function(e){function r(){i.call(this,o.readFileSync(e+"/FXAA.vert","utf8"),o.readFileSync(e+"/FXAA.frag","utf8"),{resolution:{type:"v2",value:{x:1,y:1}}})}var i=n(88),o=n(11);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager,i=this.getShader(t);r.applyFilter(i,e,n)}}).call(e,"/")},function(t,e,n){(function(e){function r(t){var n=new o.Matrix;i.call(this,s.readFileSync(e+"/spriteMaskFilter.vert","utf8"),s.readFileSync(e+"/spriteMaskFilter.frag","utf8"),{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:n.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=n}var i=n(88),o=n(18),s=n(11);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,r.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var i=this.getShader(t);r.applyFilter(i,e,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})}).call(e,"/")},function(t,e,n){function r(t){i.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var i=n(39),o=n(61),s=n(13),a=n(285),u=n(18);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},r.prototype.setFilterStack=function(t){this.filterStack=t},r.prototype.pushFilter=function(t,e){var n=t.filterArea?t.filterArea.clone():t.getBounds();n.x=0|n.x,n.y=0|n.y,n.width=0|n.width,n.height=0|n.height;var r=0|e[0].padding;if(n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r,this.renderer.currentRenderTarget.transform){var i=this.renderer.currentRenderTarget.transform;n.x+=i.tx,n.y+=i.ty,this.capFilterArea(n),n.x-=i.tx,n.y-=i.ty}else this.capFilterArea(n);if(n.width>0&&n.height>0){this.currentFrame=n;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},r.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],n=t.renderTarget;if(t.renderTarget){var r=e.renderTarget,i=this.renderer.gl;this.currentFrame=n.frame,this.quad.map(this.textureSize,n.frame),i.bindBuffer(i.ARRAY_BUFFER,this.quad.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,i.FLOAT,!1,0,32),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,i.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,n,r),this.returnRenderTarget(n);else{for(var a=n,u=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var c=o[l];c.uniforms.dimensions&&(c.uniforms.dimensions.value[0]=this.renderer.width,c.uniforms.dimensions.value[1]=this.renderer.height,c.uniforms.dimensions.value[2]=this.quad.vertices[0],c.uniforms.dimensions.value[3]=this.quad.vertices[5]),c.applyFilter(this.renderer,a,u);var h=a;a=u,u=h}o[o.length-1].applyFilter(this.renderer,a,r),this.returnRenderTarget(a),this.returnRenderTarget(u)}return t.filter}},r.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},r.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},r.prototype.applyFilter=function(t,e,n,r){var i=this.renderer.gl;this.renderer.setRenderTarget(n),r&&n.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)},r.prototype.calculateMappedMatrix=function(t,e,n){var r=e.worldTransform.copy(u.Matrix.TEMP_MATRIX),i=e._texture.baseTexture,o=n.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/i.width,l=this.textureSize.height/i.height;return r.tx/=i.width*a,r.ty/=i.width*a,r.invert(),o.prepend(r),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},r.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},r.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var n=0;n<this.texturePool.length;n++)this.texturePool[n].resize(t,e)},r.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},function(t,e,n){function r(t){i.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var i=n(39),o=n(89),s=n(283),a=n(284),u=n(19);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,u.pluginTarget.mixin(r),t.exports=r,r.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},r.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var n in t)this.tempAttribState[t[n]]=!0;var r=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?r.enableVertexAttribArray(e):r.disableVertexAttribArray(e))},r.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},function(t,e,n){function r(t){s.call(this),this.anchor=new i.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var i=n(18),o=n(46),s=n(58),a=n(279),u=n(19),l=n(13),c=new i.Point;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(t){this.scale.x=t/this.texture._frame.width,this._width=t}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(t){this.scale.y=t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),r.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},r.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},r.prototype.getBounds=function(t){if(!this._currentBounds){var e,n,r,i,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),u=o*-this.anchor.x,l=s*(1-this.anchor.y),c=s*-this.anchor.y,h=t||this.worldTransform,p=h.a,d=h.b,f=h.c,m=h.d,v=h.tx,y=h.ty;if(0===d&&0===f)0>p&&(p*=-1),0>m&&(m*=-1),e=p*u+v,n=p*a+v,r=m*c+y,i=m*l+y;else{var g=p*u+f*c+v,_=m*c+d*u+y,b=p*a+f*c+v,E=m*c+d*a+y,x=p*a+f*l+v,w=m*l+d*a+y,T=p*u+f*l+v,S=m*l+d*u+y;e=g,e=e>b?b:e,e=e>x?x:e,e=e>T?T:e,r=_,r=r>E?E:r,r=r>w?w:r,r=r>S?S:r,n=g,n=b>n?b:n,n=x>n?x:n,n=T>n?T:n,i=_,i=E>i?E:i,i=w>i?w:i,i=S>i?S:i}if(this.children.length){var M=this.containerGetBounds();a=M.x,u=M.x+M.width,l=M.y,c=M.y+M.height,e=a>e?e:a,r=l>r?r:l,n=n>u?n:u,i=i>c?i:c}var O=this._bounds;O.x=e,O.width=n-e,O.y=r,O.height=i-r,this._currentBounds=O}return this._currentBounds},r.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e,n=this._texture._frame.width,r=this._texture._frame.height,i=-n*this.anchor.x;return c.x>i&&c.x<i+n&&(e=-r*this.anchor.y,c.y>e&&c.y<e+r)?!0:!1},r.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.blendModes[t.currentBlendMode]),this.texture.valid)){var e,n,r,i,o=this._texture,s=this.worldTransform;if(t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.currentScaleMode!==o.baseTexture.scaleMode&&(t.currentScaleMode=o.baseTexture.scaleMode,t.context[t.smoothProperty]=t.currentScaleMode===l.SCALE_MODES.LINEAR),o.rotate){var u=s.a,c=s.b;s.a=-s.c,s.b=-s.d,s.c=u,s.d=c,r=o.crop.height,i=o.crop.width,e=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height,n=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width}else r=o.crop.width,i=o.crop.height,e=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width,n=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height;t.roundPixels?(t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution|0,s.ty*t.resolution|0),e=0|e,n=0|n):t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution);var h=o.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,r*h,i*h,e*t.resolution,n*t.resolution,r*t.resolution,i*t.resolution)):t.context.drawImage(o.baseTexture.source,o.crop.x*h,o.crop.y*h,r*h,i*h,e*t.resolution,n*t.resolution,r*t.resolution,i*t.resolution)}},r.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},r.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new r(e)},r.fromImage=function(t,e,n){return new r(o.fromImage(t,e,n))}},function(t,e){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}t.exports=n,n.prototype.set=function(t,e,n){var r=e.width,i=e.height;n?(this.x0=(t.x+t.height)/r,this.y0=t.y/i,this.x1=(t.x+t.height)/r,this.y1=(t.y+t.width)/i,this.x2=t.x/r,this.y2=(t.y+t.width)/i,this.x3=t.x/r,this.y3=t.y/i):(this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i)}},function(t,e,n){function r(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function i(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}var o=n(62),s=n(19);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},r.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},r.prototype._onPlayStop=function(){this.autoUpdate=!1},r.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},r.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},r.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var n=s.BaseTextureCache[t._pixiId];return n||(n=new r(t,e),s.BaseTextureCache[t._pixiId]=n),n},r.fromUrl=function(t,e){var n=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)n.appendChild(i(t.src||t,t.mime));else n.appendChild(i(t.src||t,t.mime));return n.load(),n.play(),r.fromVideo(n,e)},r.fromUrls=r.fromUrl},function(t,e,n){/**
	 * @file        Main export of the PIXI filters library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={AsciiFilter:n(299),BloomFilter:n(300),BlurFilter:n(302),BlurXFilter:n(63),BlurYFilter:n(92),BlurDirFilter:n(301),ColorMatrixFilter:n(304),ColorStepFilter:n(305),ConvolutionFilter:n(306),CrossHatchFilter:n(307),DisplacementFilter:n(308),DotScreenFilter:n(309),GrayFilter:n(312),DropShadowFilter:n(311),InvertFilter:n(313),NoiseFilter:n(314),NormalMapFilter:n(315),PixelateFilter:n(316),RGBSplitFilter:n(317),ShockwaveFilter:n(319),SepiaFilter:n(318),SmartBlurFilter:n(303),TiltShiftFilter:n(320),TiltShiftXFilter:n(141),TiltShiftYFilter:n(142),TwistFilter:n(321)}},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/tiltShift.frag","utf8"),{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(r.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})}).call(e,"/")},function(t,e,n){function r(){i.call(this)}var i=n(140);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/n,this.uniforms.delta.value.y=e/n}},function(t,e,n){function r(){i.call(this)}var i=n(140);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/n,this.uniforms.delta.value.y=t/n}},function(t,e,n){function r(){this.global=new i.Point,this.target=null,this.originalEvent=null}var i=n(2);r.prototype.constructor=r,t.exports=r,r.prototype.getLocalPosition=function(t,e,n){var r=t.worldTransform,o=n?n:this.global,s=r.a,a=r.c,u=r.tx,l=r.b,c=r.d,h=r.ty,p=1/(s*c+a*-l);return e=e||new i.Point,e.x=c*p*o.x+-a*p*o.x+(h*a-u*c)*p,e.y=s*p*o.y+-l*p*o.y+(-h*s+u*l)*p,e}},function(t,e){var n={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};t.exports=n},function(t,e,n){function r(t,e){var n={},r=t.data.getElementsByTagName("info")[0],i=t.data.getElementsByTagName("common")[0];n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(i.getAttribute("lineHeight"),10),n.chars={};for(var a=t.data.getElementsByTagName("char"),u=0;u<a.length;u++){var l=parseInt(a[u].getAttribute("id"),10),c=new o.Rectangle(parseInt(a[u].getAttribute("x"),10)+e.frame.x,parseInt(a[u].getAttribute("y"),10)+e.frame.y,parseInt(a[u].getAttribute("width"),10),parseInt(a[u].getAttribute("height"),10));n.chars[l]={xOffset:parseInt(a[u].getAttribute("xoffset"),10),yOffset:parseInt(a[u].getAttribute("yoffset"),10),xAdvance:parseInt(a[u].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,c)}}var h=t.data.getElementsByTagName("kerning");for(u=0;u<h.length;u++){var p=parseInt(h[u].getAttribute("first"),10),d=parseInt(h[u].getAttribute("second"),10),f=parseInt(h[u].getAttribute("amount"),10);n.chars[d].kerning[p]=f}t.bitmapFont=n,s.BitmapText.fonts[n.font]=n}var i=n(57).Resource,o=n(2),s=n(91),a=n(115);t.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var n=a.dirname(t.url);"."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,"")),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])r(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE};this.add(t.name+"_image",s,u,function(n){r(t,n.texture),e()})}}}},function(t,e,n){var r=n(57).Resource,i=n(115),o=n(2);t.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var n={crossOrigin:t.crossOrigin,loadType:r.LOAD_TYPE.IMAGE},s=i.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,n,function(n){t.textures={};var r=t.data.frames;for(var i in r){var s=r[i].frame;if(s){var u=null,l=null;if(u=r[i].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),r[i].trimmed&&(l=new o.Rectangle(r[i].spriteSourceSize.x/a,r[i].spriteSourceSize.y/a,r[i].sourceSize.w/a,r[i].sourceSize.h/a)),r[i].rotated){var c=u.width;u.width=u.height,u.height=c}u.x/=a,u.y/=a,u.width/=a,u.height/=a,t.textures[i]=new o.Texture(n.texture.baseTexture,u,u.clone(),l,r[i].rotated),o.utils.TextureCache[i]=t.textures[i]}}e()})}}},function(t,e,n){var r=n(2);t.exports=function(){return function(t,e){t.data&&t.isImage&&(t.texture=new r.Texture(new r.BaseTexture(t.data,null,r.utils.getResolutionOfUrl(t.url))),r.utils.TextureCache[t.url]=t.texture),e()}}},function(t,e,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={Mesh:n(93),Rope:n(327),MeshRenderer:n(328),MeshShader:n(329)}},function(t,e,n){function r(t,e,n){for(;n>0;n--)t+=e;return t}function i(t,e){return this instanceof i?(e=e||{},this.duration={value:e.value||4,dots:e.dots||0},void(this.coord=t)):new i(t,e)}var o=n(417),s=n(338),a=n(47),u=n(150),l=n(64);i.prototype={octave:function(){return this.coord[0]+a.A4[0]-a.notes[this.name()][0]+4*this.accidentalValue()},name:function(){return a.fifths[this.coord[1]+a.A4[1]-7*this.accidentalValue()+1]},accidentalValue:function(){return Math.round((this.coord[1]+a.A4[1]-2)/7)},accidental:function(){return a.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return t=t||440,t*Math.pow(2,(12*this.coord[0]+7*this.coord[1])/12)},chroma:function(){var t=(u.sum(u.mul(this.coord,[12,7]))-3)%12;return 0>t?t+12:t},interval:function(t){return"string"==typeof t&&(t=l.toCoord(t)),t instanceof l?new i(u.add(this.coord,t.coord)):t instanceof i?new l(u.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=u.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=3>t?e.toUpperCase():e.toLowerCase();var n=3>t?",":"'",i=2>t?2-t:t-3;return r(e+this.accidental(),n,i)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),n=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var r=t.accidentalValue(),i=e-(t.key()-r);return n>i&&i>-n?(t.coord=u.add(t.coord,u.mul(a.sharp,i-r)),!0):void 0})},solfege:function(t,e){var n,i,o,s=t.tonic.interval(this);return"down"===s.direction()&&(s=s.invert()),e&&(o=(this.key(!0)-t.tonic.key(!0))/7,o=o>=0?Math.floor(o):-Math.ceil(-o),i=o>=0?"'":","),n=a.intervalSolfege[s.simple(!0).toString()],e?r(n,i,Math.abs(o)):n},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,n,r){var i=l.toCoord(n).coord;return i[0]===e[0]&&i[1]===e[1]?r+1:t},0)},durationName:function(){return a.durations[this.duration.value]},durationInSeconds:function(t,e){var n=60/t/(this.duration.value/4)/(e/4);return 2*n-n/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},i.fromString=function(t,e){var n=o(t);return n||(n=s(t)),new i(n,e)},i.fromKey=function(t){var e=Math.floor((t-4)/12),n=t-12*e-4,r=a.fifths[(2*Math.round(n/2)+1)%7],o=u.add(u.sub(a.notes[r],a.A4),[e+1,0]),s=t-49-u.sum(u.mul(o,[12,7]));return new i(s?u.add(o,u.mul(a.sharp,s)):o)},i.fromFrequency=function(t,e){var n,r,o;return e=e||440,n=49+12*((Math.log(t)-Math.log(e))/Math.log(2)),n=Math.round(n),o=e*Math.pow(2,(n-49)/12),r=1200*(Math.log(t/o)/Math.log(2)),{note:i.fromKey(n),cents:r}},i.fromMIDI=function(t){return i.fromKey(t-20)},t.exports=i},function(t,e){t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){i.forEach(function(e){r[n(e,t)]=r[t]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:o};t.exports=s},function(t,e,n){(function(e){"use strict";var r=n(151),i=n(17),o=n(395),s=n(399),a=n(406),u=n(409),l=n(15),c=u(function(t){return a(t)}),h="cssFloat";if(i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(h="styleFloat"),"production"!==e.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,d=/;\s*$/,f={},m={},v=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,"production"!==e.env.NODE_ENV?l(!1,"Unsupported style property %s. Did you mean %s?",t,o(t)):null)},y=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,"production"!==e.env.NODE_ENV?l(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):null)},g=function(t,n){m.hasOwnProperty(n)&&m[n]||(m[n]=!0,"production"!==e.env.NODE_ENV?l(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,n.replace(d,"")):null)},_=function(t,e){t.indexOf("-")>-1?v(t):p.test(t)?y(t):d.test(e)&&g(t,e)};var b={createMarkupForStyles:function(t){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"production"!==e.env.NODE_ENV&&_(r,i),null!=i&&(n+=c(r)+":",n+=s(r,i)+";")}return n||null},setValueForStyles:function(t,n){var i=t.style;for(var o in n)if(n.hasOwnProperty(o)){"production"!==e.env.NODE_ENV&&_(o,n[o]);var a=s(o,n[o]);if("float"===o&&(o=h),a)i[o]=a;else{var u=r.shorthandPropertyExpansions[o];if(u)for(var l in u)i[l]="";else i[o]=""}}}};t.exports=b}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){if(a)for(var t in u){var n=u[t],r=a.indexOf(t);if("production"!==e.env.NODE_ENV?s(r>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):s(r>-1),!l.plugins[r]){"production"!==e.env.NODE_ENV?s(n.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):s(n.extractEvents),l.plugins[r]=n;var o=n.eventTypes;for(var c in o)"production"!==e.env.NODE_ENV?s(i(o[c],n,c),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",c,t):s(i(o[c],n,c))}}}function i(t,n,r){"production"!==e.env.NODE_ENV?s(!l.eventNameDispatchConfigs.hasOwnProperty(r),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):s(!l.eventNameDispatchConfigs.hasOwnProperty(r)),l.eventNameDispatchConfigs[r]=t;var i=t.phasedRegistrationNames;if(i){for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];o(u,n,r)}return!0}return t.registrationName?(o(t.registrationName,n,r),!0):!1}function o(t,n,r){"production"!==e.env.NODE_ENV?s(!l.registrationNameModules[t],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):s(!l.registrationNameModules[t]),l.registrationNameModules[t]=n,l.registrationNameDependencies[t]=n.eventTypes[r].dependencies}var s=n(3),a=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){"production"!==e.env.NODE_ENV?s(!a,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s(!a),a=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var n=!1;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];u.hasOwnProperty(i)&&u[i]===o||("production"!==e.env.NODE_ENV?s(!u[i],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):s(!u[i]),u[i]=o,n=!0)}n&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=l}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,e){this.props=t,this.context=e}var i=n(105),o=n(3),s=n(15);if(r.prototype.setState=function(t,n){"production"!==e.env.NODE_ENV?o("object"==typeof t||"function"==typeof t||null==t,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):o("object"==typeof t||"function"==typeof t||null==t),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),i.enqueueSetState(this,t),n&&i.enqueueCallback(this,n)},r.prototype.forceUpdate=function(t){i.enqueueForceUpdate(this),t&&i.enqueueCallback(this,t)},"production"!==e.env.NODE_ENV){var a={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call React.render again at the top level."]},u=function(t,n){try{Object.defineProperty(r.prototype,t,{get:function(){return void("production"!==e.env.NODE_ENV?s(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",n[0],n[1]):null)}})}catch(i){}};for(var l in a)a.hasOwnProperty(l)&&u(l,a[l])}t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(152),i=n(345),o=n(48),s=n(22),a=n(28),u=n(3),l=n(113),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(t,n,r){var i=s.getNode(t);"production"!==e.env.NODE_ENV?u(!c.hasOwnProperty(n),"updatePropertyByID(...): %s",c[n]):u(!c.hasOwnProperty(n)),null!=r?o.setValueForProperty(i,n,r):o.deleteValueForProperty(i,n)},deletePropertyByID:function(t,n,r){var i=s.getNode(t);"production"!==e.env.NODE_ENV?u(!c.hasOwnProperty(n),"updatePropertyByID(...): %s",c[n]):u(!c.hasOwnProperty(n)),o.deleteValueForProperty(i,n,r)},updateStylesByID:function(t,e){var n=s.getNode(t);r.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=s.getNode(t);l(n,e)},updateTextContentByID:function(t,e){var n=s.getNode(t);i.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=s.getNode(t);i.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=s.getNode(t[n].parentID);i.processUpdates(t,e)}};a.measureMethods(h,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=h}).call(e,n(1))},function(t,e,n){"use strict";var r=n(48),i=n(98),o=n(101),s=n(12),a=n(72),u=function(t){};s(u.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var i=a(this._stringText);return e.renderToStaticMarkup?i:"<span "+r.createMarkupForID(t)+">"+i+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=u},function(t,e,n){"use strict";function r(t){return o(document.documentElement,t)}var i=n(365),o=n(164),s=n(166),a=n(167),u={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if("undefined"==typeof r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};t.exports=u},function(t,e,n){"use strict";var r=n(393),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return t.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(t);return o===n}};t.exports=i},function(t,e,n){"use strict";var r=n(53),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o){if(i=i||E,null==n[r]){var s=_[o];return e?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,o)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function i(t){function e(e,n,r,i){var o=e[n],s=m(o);if(s!==t){var a=_[i],u=v(o);return new Error("Invalid "+a+" `"+n+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `"+t+"`."))}return null}return r(e)}function o(){return r(b.thatReturns(null))}function s(t){function e(e,n,r,i){var o=e[n];if(!Array.isArray(o)){var s=_[i],a=m(o);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<o.length;u++){var l=t(o,u,r,i);if(l instanceof Error)return l}return null}return r(e)}function a(){function t(t,e,n,r){if(!y.isValidElement(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(t)}function u(t){function e(e,n,r,i){if(!(e[n]instanceof t)){var o=_[i],s=t.name||E;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}return null}return r(e)}function l(t){function e(e,n,r,i){for(var o=e[n],s=0;s<t.length;s++)if(o===t[s])return null;var a=_[i],u=JSON.stringify(t);return new Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(e)}function c(t){function e(e,n,r,i){var o=e[n],s=m(o);if("object"!==s){var a=_[i];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var l=t(o,u,r,i);if(l instanceof Error)return l}return null}return r(e)}function h(t){function e(e,n,r,i){for(var o=0;o<t.length;o++){var s=t[o];if(null==s(e,n,r,i))return null}var a=_[i];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return r(e)}function p(){function t(t,e,n,r){if(!f(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(t)}function d(t){function e(e,n,r,i){var o=e[n],s=m(o);if("object"!==s){var a=_[i];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in t){var l=t[u];if(l){var c=l(o,u,r,i);if(c)return c}}return null}return r(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||y.isValidElement(t))return!0;t=g.extractIfFragment(t);for(var e in t)if(!f(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function v(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var y=n(14),g=n(66),_=n(68),b=n(29),E="<<anonymous>>",x=a(),w=p(),T={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:s,element:x,instanceOf:u,node:w,objectOf:c,oneOf:l,oneOfType:h,shape:d};t.exports=T},function(t,e,n){"use strict";function r(){this.listenersToPut=[]}var i=n(24),o=n(40),s=n(12);s(r.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];o.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:n};t.exports=r},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){function r(t,e){return t&&e?t===e?!0:i(t)?!1:i(e)?r(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var i=n(407);t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){if("production"!==e.env.NODE_ENV){var n=i.current;null!==n&&("production"!==e.env.NODE_ENV?l(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}return null==t?null:u(t)?t:o.has(t)?s.getNodeFromInstance(t):("production"!==e.env.NODE_ENV?a(null==t.render||"function"!=typeof t.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(t)):a(null==t.render||"function"!=typeof t.render),void("production"!==e.env.NODE_ENV?a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):a(!1)))}var i=n(26),o=n(42),s=n(22),a=n(3),u=n(171),l=n(15);t.exports=r}).call(e,n(1))},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){function n(){try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e){"use strict";function n(t){var e=t&&(r&&t[r]||t[i]);return"function"==typeof e?e:void 0}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=n},function(t,e,n){(function(e){function r(t){return"production"!==e.env.NODE_ENV?o(!!s,"Markup wrapping node not initialized"):o(!!s),p.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?p[t]:null}var i=n(17),o=n(3),s=i.canUseDOM?document.createElement("div"):null,a={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:h,clipPath:h,defs:h,ellipse:h,g:h,line:h,linearGradient:h,path:h,polygon:h,polyline:h,radialGradient:h,rect:h,stop:h,text:h};t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(17),o=null;t.exports=r},function(t,e){function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e){"use strict";function n(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return y[t]}function i(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function o(t){return(""+t).replace(g,r)}function s(t){return"$"+o(t)}function a(t,n,r,o,u){var h=typeof t;if(("undefined"===h||"boolean"===h)&&(t=null),null===t||"string"===h||"number"===h||l.isValidElement(t))return o(u,t,""===n?m+i(t,0):n,r),1;var y,g,b,E=0;if(Array.isArray(t))for(var x=0;x<t.length;x++)y=t[x],g=(""!==n?n+v:m)+i(y,x),b=r+E,E+=a(y,g,b,o,u);else{var w=p(t);if(w){var T,S=w.call(t);if(w!==t.entries)for(var M=0;!(T=S.next()).done;)y=T.value,g=(""!==n?n+v:m)+i(y,M++),b=r+E,E+=a(y,g,b,o,u);else for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(_,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,_=!0);!(T=S.next()).done;){var O=T.value;O&&(y=O[1],g=(""!==n?n+v:m)+s(O[0])+v+i(y,0),b=r+E,E+=a(y,g,b,o,u))}}else if("object"===h){"production"!==e.env.NODE_ENV?d(1!==t.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):d(1!==t.nodeType);var A=c.extract(t);for(var C in A)A.hasOwnProperty(C)&&(y=A[C],g=(""!==n?n+v:m)+s(C)+v+i(y,0),b=r+E,E+=a(y,g,b,o,u))}}return E}function u(t,e,n){return null==t?0:a(t,"",0,e,n)}var l=n(14),c=n(66),h=n(41),p=n(168),d=n(3),f=n(15),m=h.SEPARATOR,v=":",y={"=":"=0",".":"=1",":":"=2"},g=/[=.:]/g,_=!1;t.exports=u}).call(e,n(1))},function(t,e,n){function r(t,e,n){for(;n>0;n--)t+=e;return t}function i(t,e){return this instanceof i?(e=e||{},this.duration={value:e.value||4,dots:e.dots||0},void(this.coord=t)):new i(t,e)}var o=n(428),s=n(425),a=n(54),u=n(175),l=n(73);i.prototype={octave:function(){return this.coord[0]+a.A4[0]-a.notes[this.name()][0]+4*this.accidentalValue()},name:function(){return a.fifths[this.coord[1]+a.A4[1]-7*this.accidentalValue()+1]},accidentalValue:function(){return Math.round((this.coord[1]+a.A4[1]-2)/7)},accidental:function(){return a.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return t=t||440,t*Math.pow(2,(12*this.coord[0]+7*this.coord[1])/12)},chroma:function(){var t=(u.sum(u.mul(this.coord,[12,7]))-3)%12;return 0>t?t+12:t},interval:function(t){return"string"==typeof t&&(t=l.toCoord(t)),t instanceof l?new i(u.add(this.coord,t.coord)):t instanceof i?new l(u.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=u.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=3>t?e.toUpperCase():e.toLowerCase();var n=3>t?",":"'",i=2>t?2-t:t-3;return r(e+this.accidental(),n,i)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),n=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var r=t.accidentalValue(),i=e-(t.key()-r);return n>i&&i>-n?(t.coord=u.add(t.coord,u.mul(a.sharp,i-r)),!0):void 0})},solfege:function(t,e){var n,i,o,s=t.tonic.interval(this);return"down"===s.direction()&&(s=s.invert()),e&&(o=(this.key(!0)-t.tonic.key(!0))/7,o=o>=0?Math.floor(o):-Math.ceil(-o),i=o>=0?"'":","),n=a.intervalSolfege[s.simple(!0).toString()],e?r(n,i,Math.abs(o)):n},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,n,r){var i=l.toCoord(n).coord;return i[0]===e[0]&&i[1]===e[1]?r+1:t},0)},durationName:function(){return a.durations[this.duration.value]},durationInSeconds:function(t,e){var n=60/t/(this.duration.value/4)/(e/4);return 2*n-n/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},i.fromString=function(t,e){var n=o(t);return n||(n=s(t)),new i(n,e)},i.fromKey=function(t){var e=Math.floor((t-4)/12),n=t-12*e-4,r=a.fifths[(2*Math.round(n/2)+1)%7],o=u.add(u.sub(a.notes[r],a.A4),[e+1,0]),s=t-49-u.sum(u.mul(o,[12,7]));return new i(s?u.add(o,u.mul(a.sharp,s)):o)},i.fromFrequency=function(t,e){var n,r,o;return e=e||440,n=49+12*((Math.log(t)-Math.log(e))/Math.log(2)),n=Math.round(n),o=e*Math.pow(2,(n-49)/12),r=1200*(Math.log(t/o)/Math.log(2)),{note:i.fromKey(n),cents:r}},i.fromMIDI=function(t){return i.fromKey(t-20)},t.exports=i},function(t,e){t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e,n){var r;(function(t,i){!function(o){function s(t){throw RangeError(R[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(D,".");var i=t.split("."),o=a(i,e).join(".");return r+o}function l(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=k(t>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function p(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?F(t/S):t>>1,t+=F(t/e);t>N*w>>1;r+=E)t=F(t/N);return F(r+(N+1)*t/(t+T))}function f(t){var e,n,r,i,o,a,u,l,p,f,m=[],v=t.length,y=0,g=O,_=M;for(n=t.lastIndexOf(A),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&s("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;v>i;){for(o=y,a=1,u=E;i>=v&&s("invalid-input"),l=h(t.charCodeAt(i++)),(l>=E||l>F((b-y)/a))&&s("overflow"),y+=l*a,p=_>=u?x:u>=_+w?w:u-_,!(p>l);u+=E)f=E-p,a>F(b/f)&&s("overflow"),a*=f;e=m.length+1,_=d(y-o,e,0==o),F(y/e)>b-g&&s("overflow"),g+=F(y/e),y%=e,m.splice(y++,0,g)}return c(m)}function m(t){var e,n,r,i,o,a,u,c,h,f,m,v,y,g,_,T=[];for(t=l(t),v=t.length,e=O,n=0,o=M,a=0;v>a;++a)m=t[a],128>m&&T.push(k(m));for(r=i=T.length,i&&T.push(A);v>r;){for(u=b,a=0;v>a;++a)m=t[a],m>=e&&u>m&&(u=m);for(y=r+1,u-e>F((b-n)/y)&&s("overflow"),n+=(u-e)*y,e=u,a=0;v>a;++a)if(m=t[a],e>m&&++n>b&&s("overflow"),m==e){for(c=n,h=E;f=o>=h?x:h>=o+w?w:h-o,!(f>c);h+=E)_=c-f,g=E-f,T.push(k(p(f+_%g,0))),c=F(_/g);T.push(k(p(c,0))),o=d(n,y,r==i),n=0,++r}++n,++e}return T.join("")}function v(t){return u(t,function(t){return C.test(t)?f(t.slice(4).toLowerCase()):t})}function y(t){return u(t,function(t){return P.test(t)?"xn--"+m(t):t})}var g=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(g.global===g||g.window===g||g.self===g)&&(o=g);var _,b=2147483647,E=36,x=1,w=26,T=38,S=700,M=72,O=128,A="-",C=/^xn--/,P=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=E-x,F=Math.floor,k=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:l,encode:c},decode:f,encode:m,toASCII:y,toUnicode:v},r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(180)(t),function(){return this}())},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var l=0;u>l;++l){var c,h,p,d,f=t[l].replace(s,"%20"),m=f.indexOf(r);m>=0?(c=f.substr(0,m),h=f.substr(m+1)):(c=f,h=""),p=decodeURIComponent(c),d=decodeURIComponent(h),n(o,p)?Array.isArray(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(177),e.encode=e.stringify=n(178)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(217)["default"],i=n(218)["default"],o=n(117)["default"],s=n(212)["default"],a=n(119)["default"],u=n(214)["default"],l=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(431),h=l(c),p=n(420),d=l(p),f=n(255),m=l(f),v=n(252),y=l(v),g=n(182),_=l(g),b={init:function(t){var e=t.cursors.controls.get();b.context=t,b.bindChangeSetting(),h["default"].Master.volume.value=e.volume,h["default"].Transport.bpm.value=e.bpm},bindChangeSetting:function(){var t=y["default"](function(t){var e=!0,n=!1,r=void 0;try{for(var i,s=o(t.data.log);!(e=(i=s.next()).done);e=!0){var a=i.value;if("controls"===a[0]){var u=b.context.cursors.controls.get();if("volume"===a[1])h["default"].Master.volume.value=u.volume;else if("bpm"===a[1])h["default"].Transport.bpm.value=u.bpm;else if("transpose"===a[1])for(var l=0;l<b.context.cursors.instruments.get().length;l++)b.instrument.notes.generate(b.context.cursors.instruments.select(l))}else if("instruments"===a[0]&&("volume"===a[2]||b.instrument.notes.updateOptions.has(a[2]))){var c=b.context.tree.select.apply(this,a).up();if("volume"===a[2]){var p=c.get();b.instrument.changeSetting(p.tone,a[2],p[a[2]])}else b.instrument.notes.generate(c)}}}catch(d){n=!0,r=d}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw r}}},200);b.context.tree.on("update",t)},instrument:{defaults:{numberType:"pi",duration:"1n",notesPerMeasure:1,tonic:"none",scale:"major",scaleType:"skip",scaleDirection:"up",chordType:"none",arpeggiateChord:"no",arpeggioDirection:"up",arpeggioPeakValley:"once",volume:-12,numberQuantity:30,transpose:25},changeSetting:function(t,e,n){t.set(r({},e,n))},releaseAll:function(){b.context.cursors.instruments.get().forEach(function(t){t.tone.triggerRelease()})},getByID:function(t){var e=!0,n=!1,r=void 0;try{for(var i,s=o(b.context.cursors.instruments.get());!(e=(i=s.next()).done);e=!0){var a=i.value;if(a.id===t)return a}}catch(u){n=!0,r=u}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw r}}throw new Error("instrument not found")},add:function(){var t=s({id:m["default"].v1(),routeFn:function(e,n,r){b.instrument.getByID(t.id).tone.triggerAttackRelease(n,r,e)}},b.instrument.defaults);h["default"].Note.route(t.id,t.routeFn),
b.context.cursors.instruments.push(t),b.context.tree.commit(),b.instrument.notes.generate(b.context.cursors.instruments.select(b.context.cursors.instruments.get().length-1))},remove:function(t){var e=b.context.cursors.instruments.get(t);e.tone.dispose(),h["default"].Note.unroute(e.id,e.routeFn),b.context.cursors.instruments.splice([t,1]),b.instrument.notes.makeTimeline()},notes:{updateOptions:new a(["numberType","duration","notesPerMeasure","tonic","scale","scaleType","scaleDirection","chordType","arpeggiateChord","arpeggioDirection","arpeggioPeakValley","numberQuantity","transpose"]),makeTimeline:function(){b.context.tree.commit(),h["default"].Transport.clearTimelines(),h["default"].Note.parseScore(b.instrument.notes.makeScore())},makeScore:function(){var t={},e=!0,n=!1,r=void 0;try{for(var i,s=o(b.context.cursors.instruments.get());!(e=(i=s.next()).done);e=!0){var a=i.value;t[a.id]=a.notes}}catch(u){n=!0,r=u}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw r}}return t},generate:function(t){var e=[],n="0:0:0",r=t.get(),i=_["default"].getDigits[r.numberType](+r.numberQuantity),s=r.tone,a=r.duration,u=r.notesPerMeasure,l=r.tonic,c=r.chordType,p=r.arpeggiateChord,f=r.arpeggioDirection,m=r.arpeggioPeakValley,v=Math.ceil(u/parseInt(a)),y=v,g="none"===l?null:d["default"].scale(l,r.scale),E={instrument:+r.transpose,global:+b.context.cursors.controls.get().transpose},x=!0,w=!1,T=void 0;try{for(var S,M=o(i);!(x=(S=M.next()).done);x=!0){var O=S.value,A=d["default"].note.fromMIDI(+O+E.global+E.instrument);if(g&&0===A.scaleDegree(g)){if("skip"===r.scaleType)continue;for(;0===A.scaleDegree(g);)"up"===r.scaleDirection?O++:O--,A=d["default"].note.fromMIDI(O+E)}if("none"!==c&&g){var C,P,D,R,N;!function(){var t=[];C=!0,P=!1,D=void 0;try{for(R=o(A.chord(c).notes());!(C=(N=R.next()).done);C=!0){var r=N.value;t.push(r.fq())}}catch(i){P=!0,D=i}finally{try{!C&&R["return"]&&R["return"]()}finally{if(P)throw D}}if("no"===p){var s=t.length*v;s>y&&(y=s)}else if("up"!==f){var l=t.slice(0).reverse();if("down"===f)t=l;else if("downUp"===f){var h="once"===m?t.slice(1):t;t=l.concat(h)}else if("upDown"===f){var d="once"===m?l.slice(1):l;t=t.concat(d)}}t.forEach(function(r,i){e.push([n,r,a]),"yes"===p&&i<t.length-1&&(n=b.playback.moveTime(n,"forward",u))})}()}else e.push([n,A.fq(),a]);n=b.playback.moveTime(n,"forward",u)}}catch(F){w=!0,T=F}finally{try{!x&&M["return"]&&M["return"]()}finally{if(w)throw T}}s&&y===s.voices.length||(s&&s.dispose(),t.set("tone",new h["default"].PolySynth(y).toMaster().set(r))),t.set("notes",e),b.instrument.notes.makeTimeline()}}},playback:u({_position:"0:0:0",pause:function(){b.context.cursors.state.set(["playing"],!1),b.instrument.releaseAll(),b.playback._position=h["default"].Transport.position,h["default"].Transport.pause()},play:function(){b.context.cursors.state.set(["playing"],!0),h["default"].Transport.start(0,b.playback.position)},moveTime:function(t,e,n){var r=16/n,o=t.split(":"),s=i(o,3),a=s[0],u=s[1],l=s[2],c=+l+4*u+16*a;return"backward"===e?c-=r:c+=r,l=c%4,u=parseInt(c/4)%4,a=parseInt(c/16),[a,u,l].join(":")},seek:function(t){var e=1,n="stopped"!==h["default"].Transport.state;b.playback.seeking=!0,n&&b.playback.pause(),function r(){if("backward"===t&&"0:0:0"===b.playback.position&&(b.playback.seeking=!1),b.playback.seeking){b.playback._position=b.playback.moveTime(b.playback._position,t,16);var i=!0,s=!1,a=void 0;try{for(var u,l=o(b.context.cursors.instruments.get());!(i=(u=l.next()).done);i=!0){var c=u.value;c.pianoRoll.playback.seek(b.playback._position)}}catch(h){s=!0,a=h}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}setTimeout(r,500/e),e++}else n&&b.playback.play()}()}},{position:{get:function(){return b.context.cursors.state.get(["playing"])?h["default"].Transport.position:b.playback._position},configurable:!0,enumerable:!0},bpm:{get:function(){return h["default"].Transport.bpm.value},configurable:!0,enumerable:!0}})};e["default"]=b,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(256),o=r(i);e["default"]={getDigits:{pi:function(t){return o["default"](t).replace(".","")}}},t.exports=e["default"]},function(t,e,n){"use strict";var r=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(127),o=r(i);e["default"]=new o["default"]({instruments:[],state:{playing:!1},controls:{bpm:120,volume:-12,transpose:25}}),t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("button",{type:"button",onClick:this.props.onClick},"Add Instrument")}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"1",max:"500",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(185),h=a(c),p=n(192),d=a(p),f=n(191),m=a(f),v=n(184),y=a(v),g=n(190),_=a(g),b=n(189),E=a(b),x=n(188),w=a(x),T=n(187),S=a(T),M=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){var t=this.props.ui,e=this.props.audio,n=t.context.cursors,r=t.props.instruments.length<1;return l["default"].createElement("div",{className:"controls"},l["default"].createElement(h["default"],{cursor:n.controls.select("bpm")}),l["default"].createElement(d["default"],{cursor:n.controls.select("volume")}),l["default"].createElement(m["default"],{cursor:n.controls.select("transpose")}),l["default"].createElement(y["default"],{onClick:e.instrument.add}),l["default"].createElement(_["default"],{direction:"backward",icon:"<",audio:e}),n.state.get(["playing"])?l["default"].createElement(w["default"],{onClick:e.playback.pause}):l["default"].createElement(E["default"],{onClick:e.playback.play,disabled:r}),l["default"].createElement(_["default"],{direction:"forward",icon:">",audio:e}),l["default"].createElement(S["default"],{disabled:r}))}}]),e}(l["default"].Component);e["default"]=M,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("button",{type:"button",disabled:"disabled"},"Export")}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("button",{type:"button",onClick:this.props.onClick},"Pause")}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("button",{type:"button",onClick:this.props.onClick,disabled:this.props.disabled},"Play")}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){var t=this.props,e=function(){t.audio.playback.seek(t.direction)},n=function(){t.audio.playback.seeking=!1};return l["default"].createElement("button",{type:"button",onMouseDown:e,onMouseUp:n,onMouseLeave:n},this.props.icon)}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"0",max:"117",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"-50",max:"0",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"no"},"No"),l["default"].createElement("option",{value:"yes"},"Yes"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"up"},"Up"),l["default"].createElement("option",{value:"down"},"Down"),l["default"].createElement("option",{value:"upDown"},"Up, Down"),l["default"].createElement("option",{value:"downUp"},"Down, Up"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"once"},"Play Once"),l["default"].createElement("option",{value:"twice"},"Play Twice"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"none"},"None"),l["default"].createElement("option",{value:"5"},"5th"),l["default"].createElement("option",{value:"M"},"Major Triad"),l["default"].createElement("option",{value:"m"},"Minor Triad"),l["default"].createElement("option",{value:"+"},"Augmented Triad"),l["default"].createElement("option",{value:"o"},"Diminished Triad"),l["default"].createElement("option",{value:"7"},"Dominant 7th"),l["default"].createElement("option",{value:"M7"},"Major 7th"),l["default"].createElement("option",{value:"m7"},"Minor 7th"),l["default"].createElement("option",{value:"mM7"},"Minor Major 7th"),l["default"].createElement("option",{value:"7#9"},"7th Sharp 9th"),l["default"].createElement("option",{value:"7b5"},"7th Flat Five"),l["default"].createElement("option",{value:"7b9"},"7th Flat 9th"),l["default"].createElement("option",{value:"7b13"},"7th Flat 13th"),l["default"].createElement("option",{value:"+7"},"Augmented 7th"),l["default"].createElement("option",{value:"+M7"},"Augmented Major 7th"),l["default"].createElement("option",{value:"7#5"},"7th Augmented Fifth"),l["default"].createElement("option",{value:"7#11"},"7th Augmented 11th"),l["default"].createElement("option",{value:"m7b5"},"Half-Diminished 7th"),l["default"].createElement("option",{value:"o7"},"Diminished 7th"),l["default"].createElement("option",{value:"9"},"Dominant 9th"),l["default"].createElement("option",{value:"M9"},"Major 9th"),l["default"].createElement("option",{value:"m9"},"Minor 9th"),l["default"].createElement("option",{value:"mM9"},"Minor Major 9th"),l["default"].createElement("option",{value:"+9"},"Augmented 9th"),l["default"].createElement("option",{value:"+M9"},"Augmented Major 9th"),l["default"].createElement("option",{value:"m9b5"},"Half-Diminished 9th"),l["default"].createElement("option",{value:"mb9b5"},"Half-Diminished Minor 9th"),l["default"].createElement("option",{value:"o9"},"Diminished 9th"),l["default"].createElement("option",{value:"o9b9"},"Diminished Minor 9th"),l["default"].createElement("option",{value:"M11"},"Major 11th"),l["default"].createElement("option",{value:"11"},"Dominant 11th"),l["default"].createElement("option",{value:"mM11"},"Minor Major 11th"),l["default"].createElement("option",{value:"m11"},"Minor 11th"),l["default"].createElement("option",{value:"+11"},"Augmented 11th"),l["default"].createElement("option",{value:"+M11"},"Augmented-Major 11th"),l["default"].createElement("option",{value:"m11b5"},"Half-Diminished 11th"),l["default"].createElement("option",{value:"o11"},"Diminished 11th"),l["default"].createElement("option",{value:"13"},"Dominant 13th"),l["default"].createElement("option",{value:"M13"},"Major 13th"),l["default"].createElement("option",{value:"m13"},"Minor 13th"),l["default"].createElement("option",{value:"mM13"},"Minor Major 13th"),l["default"].createElement("option",{value:"+13"},"Augmented 13th"),l["default"].createElement("option",{value:"+M13"},"Augmented Major 13th"),l["default"].createElement("option",{value:"m13b5"},"Half-Diminished 13th"),l["default"].createElement("option",{value:"add9"},"Added 9th"),l["default"].createElement("option",{value:"add11"},"Added 4th"),l["default"].createElement("option",{value:"6"},"Added 6th"),l["default"].createElement("option",{value:"6/9"},"6/9"),l["default"].createElement("option",{value:"sus2"},"Suspended 2"),l["default"].createElement("option",{value:"sus4"},"Suspended 4"),l["default"].createElement("option",{value:"9sus4"},"Jazz Suspended"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this)},l["default"].createElement("option",{value:"1n"},"Whole Note"),l["default"].createElement("option",{value:"2n"},"Half Note"),l["default"].createElement("option",{value:"4n"},"Quarter Note"),l["default"].createElement("option",{value:"8n"},"Eighth Note"),l["default"].createElement("option",{value:"16n"},"Sixteenth Note"),l["default"].createElement("option",{value:"32n"},"Thirty-Second Note"),l["default"].createElement("option",{value:"64n"},"Sixty-Fourth Note"),l["default"].createElement("option",{value:"128n"},"Hundred Twenty-Eighth Note"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(119)["default"],u=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=u(l),h=n(203),p=u(h),d=n(201),f=u(d),m=n(197),v=u(m),y=n(199),g=u(y),_=n(207),b=u(_),E=n(204),x=u(E),w=n(206),T=u(w),S=n(205),M=u(S),O=n(196),A=u(O),C=n(193),P=u(C),D=n(194),R=u(D),N=n(195),F=u(N),k=n(200),I=u(k),L=n(209),B=u(L),j=n(208),U=u(j),q=n(202),V=u(q),G=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){var t=this.props;return c["default"].createElement("div",{className:"instruments"},t.ui.props.instruments.map(function(e,n){var r=t.ui.context.cursors.instruments.select(n),i=r.select("tonic"),o=r.select("chordType"),s=r.select("arpeggiateChord"),u=r.select("arpeggioDirection"),l="none"===i.get(),h=l||"none"===o.get(),d=h||"no"===s.get();return c["default"].createElement("div",{className:"instrument",key:n},c["default"].createElement(p["default"],{onClick:function(){t.audio.instrument.remove(n)}}),c["default"].createElement(f["default"],{cursor:r.select("numberType")}),c["default"].createElement(v["default"],{cursor:r.select("duration")}),c["default"].createElement(g["default"],{cursor:r.select("notesPerMeasure")}),c["default"].createElement(b["default"],{cursor:i}),c["default"].createElement(x["default"],{cursor:r.select("scale"),disabled:l}),c["default"].createElement(T["default"],{cursor:r.select("scaleType"),disabled:l}),c["default"].createElement(M["default"],{cursor:r.select("scaleDirection"),disabled:l||"skip"===r.select("scaleType").get()}),c["default"].createElement(A["default"],{cursor:o,disabled:l}),c["default"].createElement(P["default"],{cursor:s,disabled:h}),c["default"].createElement(R["default"],{cursor:u,disabled:d}),c["default"].createElement(F["default"],{cursor:r.select("arpeggioPeakValley"),disabled:d||new a(["up","down"]).has(u.get())}),c["default"].createElement(B["default"],{cursor:r.select("volume")}),c["default"].createElement(I["default"],{cursor:r.select("numberQuantity")}),c["default"].createElement(U["default"],{cursor:r.select("transpose")}),c["default"].createElement(V["default"],{instrumentCursor:r,tree:t.ui.context.tree,audio:t.audio}))}))}}]),e}(c["default"].Component);e["default"]=G,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"1"},"One"),l["default"].createElement("option",{value:"2"},"Two"),l["default"].createElement("option",{value:"4"},"Four"),l["default"].createElement("option",{value:"8"},"Eight"),l["default"].createElement("option",{value:"16"},"Sixteen"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"1",max:"300",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:this.props.onChange,disabled:"disabled"},l["default"].createElement("option",{value:"pi"},"Pi"))}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(257),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"getContainer",value:function(){return l["default"].findDOMNode(this.refs.pianoRoll)}},{key:"renderPianoRoll",value:function(){var t=this.getContainer(),e=this.props.instrumentCursor.get("pianoRoll");e||(e=h["default"]({renderer:"CanvasRenderer",time:this.props.audio.playback.position,bpm:this.props.audio.playback.bpm,width:.95*window.innerWidth,height:.3*window.innerHeight,noteFormat:"Frequency",noteData:this.props.instrumentCursor.get("notes")}),this.props.instrumentCursor.set("pianoRoll",e)),this.pianoRoll=e,t.appendChild(e.view),this.props.tree.get("state","playing")&&e.playback.play()}},{key:"onBPMChange",value:function(t){this.pianoRoll.bpm=t.data.data}},{key:"onPlayingStateChange",value:function(){this.pianoRoll.playback.toggle(this.props.audio.playback.position)}},{key:"onNoteChange",value:function(t){t.data.data!==t.data.previousData&&this.reRenderPianoRoll()}},{key:"reRenderPianoRoll",value:function(){var t=this.getContainer();t.removeChild(t.firstChild),this.props.instrumentCursor.unset("pianoRoll"),this.props.tree.commit(),this.renderPianoRoll()}},{key:"componentDidMount",value:function(){this.renderPianoRoll(),this._onBPMChange=this.onBPMChange.bind(this),this._onPlayingStateChange=this.onPlayingStateChange.bind(this),this._onNoteChange=this.onNoteChange.bind(this),this._reRenderPianoRoll=this.reRenderPianoRoll.bind(this),this.props.tree.select("controls","bpm").on("update",this._onBPMChange),this.props.tree.select("state","playing").on("update",this._onPlayingStateChange),this.props.instrumentCursor.select("notes").on("update",this._onNoteChange),window.addEventListener("resize",this._reRenderPianoRoll)}},{key:"componentWillUnmount",value:function(){this.props.tree.select("controls","bpm").off("update",this._onBPMChange),this.props.tree.select("state","playing").off("update",this._onPlayingStateChange),this.props.instrumentCursor.select("notes").off("update",this._onNoteChange),window.removeEventListener("resize",this._reRenderPianoRoll)}},{key:"render",value:function(){return l["default"].createElement("div",{ref:"pianoRoll"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("button",{type:"button",onClick:this.props.onClick},"Remove Instrument")}}]),e}(l["default"].Component);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"major"},"Major"),l["default"].createElement("option",{value:"minor"},"Minor"),l["default"].createElement("option",{value:"dorian"},"Dorian"),l["default"].createElement("option",{value:"phrygian"},"Phrygian"),l["default"].createElement("option",{value:"lydian"},"Lydian"),l["default"].createElement("option",{value:"mixolydian"},"Mixolydian"),l["default"].createElement("option",{value:"locrian"},"Locrian"),l["default"].createElement("option",{value:"majorpentatonic"},"Major Pentatonic"),l["default"].createElement("option",{value:"minorpentatonic"},"Minor Pentatonic"),l["default"].createElement("option",{value:"chromatic"},"Chromatic"),l["default"].createElement("option",{value:"blues"},"Blues"),l["default"].createElement("option",{value:"doubleharmonic"},"Double Harmonic"),l["default"].createElement("option",{value:"flamenco"},"Flamenco"),l["default"].createElement("option",{value:"harmonicminor"},"Harmonic Minor"),l["default"].createElement("option",{value:"melodicminor"},"Melodic Minor"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"up"},"Up"),l["default"].createElement("option",{value:"down"},"Down"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),disabled:this.props.disabled},l["default"].createElement("option",{value:"skip"},"Skip Notes"),l["default"].createElement("option",{value:"transpose"},"Transpose Notes"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this)},l["default"].createElement("option",{value:"none"},"None"),l["default"].createElement("option",{value:"C"},"C"),l["default"].createElement("option",{value:"C#"},"C#"),l["default"].createElement("option",{value:"D"},"D"),l["default"].createElement("option",{value:"D#"},"D#"),l["default"].createElement("option",{value:"E"},"E"),l["default"].createElement("option",{value:"F"},"F"),l["default"].createElement("option",{value:"F#"},"F#"),l["default"].createElement("option",{value:"G"},"G"),l["default"].createElement("option",{value:"G#"},"G#"),l["default"].createElement("option",{value:"A"},"A"),l["default"].createElement("option",{value:"A#"},"A#"),l["default"].createElement("option",{value:"B"},"B"))}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"0",max:"117",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(16),h=a(c),p=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"render",value:function(){return l["default"].createElement("input",{type:"range",value:this.props.cursor.get(),onChange:h["default"].changeSetting.bind(this),min:"-50",max:"0",step:"1"})}}]),e}(l["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(9)["default"],i=n(10)["default"],o=n(8)["default"],s=n(7)["default"],a=n(5)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=a(u),c=n(125),h=n(248),p=a(h),d=n(186),f=a(d),m=n(198),v=a(m),y=n(181),g=a(y),_=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"componentWillMount",value:function(){g["default"].init(this.context,this.props)}},{key:"render",value:function(){return l["default"].createElement("div",{className:"ui"},l["default"].createElement(f["default"],{ui:this,audio:g["default"]}),l["default"].createElement(v["default"],{ui:this,audio:g["default"]}))}}],[{key:"contextTypes",get:function(){return{tree:p["default"].baobab,cursors:p["default"].cursors}}}]),e}(l["default"].Component);e["default"]=c.branch(_,{cursors:{state:["state"],controls:["controls"],instruments:["instruments"]}}),t.exports=e["default"]},function(t,e,n){t.exports={"default":n(220),
__esModule:!0}},function(t,e,n){t.exports={"default":n(221),__esModule:!0}},function(t,e,n){t.exports={"default":n(222),__esModule:!0}},function(t,e,n){t.exports={"default":n(223),__esModule:!0}},function(t,e,n){t.exports={"default":n(225),__esModule:!0}},function(t,e,n){t.exports={"default":n(226),__esModule:!0}},function(t,e,n){"use strict";var r=n(118)["default"];e["default"]=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e.__esModule=!0},function(t,e,n){"use strict";var r=n(117)["default"],i=n(211)["default"];e["default"]=function(){function t(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var a,u=r(t);!(i=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){o=!0,s=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(i(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.__esModule=!0},function(t,e,n){n(80),n(79),n(122),t.exports=n(4).core.getIterator},function(t,e,n){n(80),n(79),n(122),t.exports=n(4).core.isIterable},function(t,e,n){n(241),t.exports=n(4).core.Object.assign},function(t,e,n){var r=n(4);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(4);t.exports=function(t,e){return r.setDescs(t,e)}},function(t,e,n){var r=n(4);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){var r=n(4);n(243),t.exports=function(t,e){return r.getDesc(t,e)}},function(t,e,n){n(242),t.exports=n(4).core.Object.setPrototypeOf},function(t,e,n){n(244),n(79),n(80),n(245),n(246),t.exports=n(4).core.Set},function(t,e,n){var r=n(4),i=n(232);t.exports=Object.assign||function(t,e){for(var n=Object(r.assertDefined(t)),o=arguments.length,s=1;o>s;)for(var a,u=r.ES5Object(arguments[s++]),l=i(u),c=l.length,h=0;c>h;)n[a=l[h++]]=u[a];return n}},function(t,e,n){"use strict";function r(t,e){if(!d(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!h(t,v)){if(!m(t))return"F";if(!e)return"E";f(t,v,++x)}return"O"+t[v]}function i(t,e){var n,i=r(e);if("F"!==i)return t[y][i];for(n=t[_];n;n=n.n)if(n.k==e)return n}var o=n(4),s=n(75),a=n(44).safe,u=n(34),l=n(76),c=n(27).step,h=o.has,p=o.set,d=o.isObject,f=o.hide,m=Object.isExtensible||d,v=a("id"),y=a("O1"),g=a("last"),_=a("first"),b=a("iter"),E=o.DESC?a("size"):"size",x=0;t.exports={getConstructor:function(t,e,r,a){var c=t(function(t,n){u.inst(t,c,e),p(t,y,o.create(null)),p(t,E,0),p(t,g,void 0),p(t,_,void 0),void 0!=n&&l(n,r,t[a],t)});return n(120)(c.prototype,{clear:function(){for(var t=this,e=t[y],n=t[_];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t[_]=t[g]=void 0,t[E]=0},"delete":function(t){var e=this,n=i(e,t);if(n){var r=n.n,o=n.p;delete e[y][n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e[_]==n&&(e[_]=r),e[g]==n&&(e[g]=o),e[E]--}return!!n},forEach:function(t){for(var e,n=s(t,arguments[1],3);e=e?e.n:this[_];)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!i(this,t)}}),o.DESC&&o.setDesc(c.prototype,"size",{get:function(){return u.def(this[E])}}),c},def:function(t,e,n){var o,s,a=i(t,e);return a?a.v=n:(t[g]=a={i:s=r(e,!0),k:e,v:n,p:o=t[g],n:void 0,r:!1},t[_]||(t[_]=a),o&&(o.n=a),t[E]++,"F"!==s&&(t[y][s]=a)),t},getEntry:i,setIter:function(t,e,r){n(77)(t,e,function(t,e){p(this,b,{o:t,k:e})},function(){for(var t=this[b],e=t.k,n=t.l;n&&n.r;)n=n.p;return t.o&&(t.l=n=n?n.n:t.o[_])?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t.o=void 0,c(1))},r?"entries":"values",!r,!0)}}},function(t,e,n){var r=n(35),i=n(76);t.exports=function(t){r(r.P,t,{toJSON:function(){var t=[];return i(this,!1,t.push,t),t}})}},function(t,e,n){"use strict";var r=n(4),i=n(35),o=n(27),s=o.BUGGY,a=n(76),u=n(34).inst,l=n(44).safe("internal");t.exports=function(t,e,o,c,h,p){var d=r.g[t],f=d,m=h?"set":"add",v=f&&f.prototype,y={};return r.DESC&&r.isFunction(f)&&(p||!s&&v.forEach&&v.entries)?(f=e(function(e,n){u(e,f,t),e[l]=new d,void 0!=n&&a(n,h,e[m],e)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(t){var e="add"==t||"set"==t;t in v&&r.hide(f.prototype,t,function(n,r){var i=this[l][t](0===n?0:n,r);return e?this:i})}),"size"in v&&r.setDesc(f.prototype,"size",{get:function(){return this[l].size}})):(f=c.getConstructor(e,t,h,m),n(120)(f.prototype,o)),n(55).set(f,t),y[t]=f,i(i.G+i.W+i.F,y),n(237)(f),p||c.setIter(f,t,h),f}},function(t,e,n){var r=n(4);t.exports=function(t){var e=r.getKeys(t),n=r.getDesc,i=r.getSymbols;return i&&r.each.call(i(t),function(r){n(t,r).enumerable&&e.push(r)}),e}},function(t,e){t.exports=function(t){return t.FW=!1,t.path=t.core,t}},function(t,e,n){function r(t){try{return s(t)}catch(e){return a.slice()}}var i=n(4),o={}.toString,s=i.getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(t){return a&&"[object Window]"==o.call(t)?r(t):s(i.toObject(t))}},function(t,e,n){function r(t){var e=t["return"];void 0!==e&&o(e.call(t))}function i(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(s){throw r(t),s}}var o=n(34).obj;i.close=r,t.exports=i},function(t,e,n){function r(t,e){o.obj(t),o(null===e||i.isObject(e),e,": can't set as prototype!")}var i=n(4),o=n(34);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e){try{e=n(75)(Function.call,i.getDesc(Object.prototype,"__proto__").set,2),e({},[])}catch(o){t=!0}return function(n,i){return r(n,i),t?n.__proto__=i:e(n,i),n}}():void 0),check:r}},function(t,e,n){var r=n(4),i=n(36)("species");t.exports=function(t){!r.DESC||i in t||r.setDesc(t,i,{configurable:!0,get:r.that})}},function(t,e,n){var r=n(4);t.exports=function(t){return function(e,n){var i,o,s=String(r.assertDefined(e)),a=r.toInteger(n),u=s.length;return 0>a||a>=u?t?"":void 0:(i=s.charCodeAt(a),55296>i||i>56319||a+1===u||(o=s.charCodeAt(a+1))<56320||o>57343?t?s.charAt(a):i:t?s.slice(a,a+2):(i-55296<<10)+(o-56320)+65536)}}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(4),i=n(239),o=n(44).safe("iter"),s=n(27),a=s.step,u=s.Iterators;n(77)(Array,"Array",function(t,e){r.set(this,o,{o:r.toObject(t),i:0,k:e})},function(){var t=this[o],e=t.o,n=t.k,r=t.i++;return!e||r>=e.length?(t.o=void 0,a(1)):"keys"==n?a(0,r):"values"==n?a(0,e[r]):a(0,[r,e[r]])},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(35);r(r.S,"Object",{assign:n(228)})},function(t,e,n){var r=n(35);r(r.S,"Object",{setPrototypeOf:n(236).set})},function(t,e,n){var r=n(4),i=n(35),o=r.isObject,s=r.toObject;r.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(t,e){var a=(r.core.Object||{})[t]||Object[t],u=0,l={};l[t]=0==e?function(t){return o(t)?a(t):t}:1==e?function(t){return o(t)?a(t):t}:2==e?function(t){return o(t)?a(t):t}:3==e?function(t){return o(t)?a(t):!0}:4==e?function(t){return o(t)?a(t):!0}:5==e?function(t){return o(t)?a(t):!1}:6==e?function(t,e){return a(s(t),e)}:7==e?function(t){return a(Object(r.assertDefined(t)))}:8==e?function(t){return a(s(t))}:n(234).get;try{a("z")}catch(c){u=1}i(i.S+i.F*u,"Object",l)})},function(t,e,n){"use strict";var r=n(55),i={};i[n(36)("toStringTag")]="z",n(4).FW&&"z"!=r(i)&&n(78)(Object.prototype,"toString",function(){return"[object "+r.classof(this)+"]"},!0)},function(t,e,n){"use strict";var r=n(229);n(231)("Set",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){n(230)("Set")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function s(t,e){if(!f["default"].Baobab(e))throw Error("baobab-react:higher-order.root: given tree is not a Baobab.");var n=function(n){var r=function(){i(this,r),null!=n&&n.apply(this,arguments)};return o(r,n),l(r,[{key:"getChildContext",value:function(){return{tree:e}}},{key:"render",value:function(){return p["default"].createElement(t,this.props)}}],[{key:"childContextTypes",value:{tree:v["default"].baobab},enumerable:!0}]),r}(p["default"].Component);return n}function a(t){var e=void 0===arguments[1]?{}:arguments[1];if(!f["default"].Object(e))throw Error("baobab-react.higher-order: invalid specifications (should be an object with cursors and/or facets key).");var n=function(n){var r=function(t,n){i(this,r),u(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,t,n);var o=n.tree.createFacet(e,[t,n]);o&&(this.state=o.get()),this.facet=o};return o(r,n),l(r,[{key:"getChildContext",value:function(){return{cursors:this.facet.cursors,facets:this.facet.facets}}},{key:"componentWillMount",value:function(){if(this.facet){var t=function(){this.setState(this.facet.get())}.bind(this);this.facet.on("update",t)}}},{key:"render",value:function(){return p["default"].createElement(t,c({},this.props,this.state))}},{key:"componentWillUnmount",value:function(){this.facet&&(this.facet.release(),this.facet=null)}},{key:"componentWillReceiveProps",value:function(t){this.facet&&(this.facet.refresh([t,this.context]),this.setState(this.facet.get()))}}],[{key:"contextTypes",value:{tree:v["default"].baobab},enumerable:!0},{key:"childContextTypes",value:{cursors:v["default"].cursors,facets:v["default"].facets},enumerable:!0}]),r}(p["default"].Component);return n}Object.defineProperty(e,"__esModule",{value:!0});var u=function(t,e,n){for(var r=!0;r;){a=l=u=void 0,r=!1;var i=t,o=e,s=n,a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=s,r=!0}},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.root=s,e.branch=a;var h=n(6),p=r(h),d=n(124),f=r(d),m=n(123),v=r(m)},function(t,e,n){t.exports=n(123)},function(t,e,n){function r(t,e){function n(t){this[t]=function(){var e=this.root[t].apply(this.root,arguments);return e instanceof i?this:e}}if(arguments.length<1&&(t={}),!(this instanceof r))return new r(t,e);if(!h.Object(t)&&!h.Array(t))throw Error("Baobab: invalid data.");if(o.call(this),this.options=a.shallowMerge(c,e),this._transaction={},this._future=void 0,this._cursors={},this._identity="[object Baobab]",this.log=[],this.previousData=null,this.data=t,this.root=this.select(),this.facets={},this.options.immutable&&a.deepFreeze(this.data),["apply","chain","get","merge","push","set","splice","unset","unshift","update"].forEach(n.bind(this)),!h.Object(this.options.facets))throw Error("Baobab: invalid facets.");for(var s in this.options.facets)this.addFacet(s,this.options.facets[s])}var i=n(56),o=n(81),s=n(82),a=n(37),u=n(251),l=n(250),c=n(126),h=n(38),p=function(){var t=0;return function(){return t++}}();a.inherits(r,o),r.prototype.addFacet=function(t,e,n){return this.facets[t]=this.createFacet(e,n),this},r.prototype.createFacet=function(t,e){return new s(this,t,e)},r.prototype.select=function(t){if(t=t||[],arguments.length>1&&(t=a.arrayOf(arguments)),!h.Path(t))throw Error("Baobab.select: invalid path.");t=[].concat(t);var e,n=t.map(function(t){return h.Function(t)||h.Object(t)?"$"+p()+"$":t}).join("|λ|");return this._cursors[n]?e=this._cursors[n]:(e=new i(this,t,n),this._cursors[n]=e),this.emit("select",{path:t,cursor:e}),e},r.prototype.stack=function(t,e){var n=this;if(!h.Object(t))throw Error("Baobab.update: wrong specification.");if(this.previousData||(this.previousData=this.data),this.options.syncwrite){var r=u(this.data,t,this.options);this.data=r.data,this.log=[].concat(this.log).concat(r.log)}else this._transaction=e&&!Object.keys(this._transaction).length?t:l(this._transaction,t);return this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(n.commit.bind(n,null),0)),this):this.commit():this},r.prototype.commit=function(){if(this._future&&(this._future=clearTimeout(this._future)),!this.options.syncwrite){var t=u(this.data,this._transaction,this.options);this.data=t.data,this.log=t.log}this._transaction={};var e=this.options.validate,n=this.options.validationBehavior;if("function"==typeof e){var r=e.call(this,this.previousData,this.data,this.log);if(r instanceof Error&&(this.emit("invalid",{error:r}),"rollback"===n))return this.data=this.previousData,this}return this.emit("update",{log:this.log,previousData:this.previousData,data:this.data}),this.log=[],this.previousData=null,this},r.prototype.release=function(){var t;delete this.data,delete this._transaction;for(t in this._cursors)this._cursors[t].release();delete this._cursors;for(t in this.facets)this.facets[t].release();delete this.facets,this.kill()},r.prototype.toJSON=function(){return this.get()},r.prototype.toString=function(){return this._identity},t.exports=r},function(t,e,n){function r(t,e){var n={};return n[t]=e,n}function i(t,e){var n,u=o.shallowClone(t||{}),l=!1;if(a.forEach(function(t){t in e&&(u=r(t,e[t]),l=!0)}),e.$chain&&(u.$apply?u.$apply=o.compose(u.$apply,e.$chain):u.$apply=e.$chain,u=r("$apply",u.$apply),l=!0),e.$merge&&(u.$merge=o.shallowMerge(u.$merge||{},e.$merge),l=!0),(e.$splice||e.$splice)&&(u.$splice=[].concat(u.$splice||[]).concat(e.$splice||[]),l=!0),(e.$push||u.$push)&&(u.$push=[].concat(u.$push||[]).concat(e.$push||[]),l=!0),(e.$unshift||u.$unshift)&&(u.$unshift=[].concat(e.$unshift||[]).concat(u.$unshift||[]),l=!0),l)return u;for(n in u)"$"===n.charAt(0)&&delete u[n];for(n in e)s.Object(e[n])&&(u[n]=i(u[n],e[n]));return u}var o=n(37),s=n(38),a=["$unset","$set","$apply"];t.exports=i},function(t,e,n){function r(t,e){var n=new Error("baobab.update: "+e+" at path /"+t.slice(1).join("/"));return n.path=t,n}var i=n(37),o=n(38);t.exports=function(t,e,n){n=n||{};var s={};t={root:i.shallowClone(t)};var a=function(t,e,u,l){u=u||["root"];var c,h,p,d,f,m=u.join("|λ|"),v=u[u.length-1],y=t[v],g=Object.keys(e).some(function(t){return"$"===t.charAt(0)});if(g){s[m]=!0;for(h in e){if("$unset"===h){var _=u[u.length-2];if(!o.Object(l[_]))throw r(u.slice(0,-1),"using command $unset on a non-object");l[_]=i.shallowClone(t),delete l[_][v],n.immutable&&i.freeze(l[_]);break}if("$set"===h)p=e.$set,t[v]=p;else if("$apply"===h||"$chain"===h){if(c=e.$apply||e.$chain,"function"!=typeof c)throw r(u,"using command $apply with a non function");t[v]=c.call(null,y)}else if("$merge"===h){if(p=e.$merge,!o.Object(t[v])||!o.Object(p))throw r(u,"using command $merge with a non object");t[v]=i.shallowMerge(t[v],p)}if("$splice"===h){if(p=e.$splice,!o.Array(t[v]))throw r(u,"using command $push to a non array");for(d=0,f=p.length;f>d;d++)t[v]=i.splice.apply(null,[t[v]].concat(p[d]))}if("$push"===h){if(p=e.$push,!o.Array(t[v]))throw r(u,"using command $push to a non array");t[v]=t[v].concat(p)}if("$unshift"===h){if(p=e.$unshift,!o.Array(t[v]))throw r(u,"using command $unshift to a non array");t[v]=[].concat(p).concat(t[v])}n.immutable&&i.deepFreeze(t)}}else{o.Primitive(t[v])?t[v]={}:t[v]=i.shallowClone(t[v]),n.immutable&&i.freeze(t);for(h in e)a(t[v],e[h],u.concat(h),t)}};return a(t,e),{data:t.root,log:Object.keys(s).map(function(t){return t.split("|λ|").slice(1)})}}},function(t,e,n){var r=n(253);t.exports=function(t,e,n){function i(){var c=r()-u;e>c&&c>0?o=setTimeout(i,e-c):(o=null,n||(l=t.apply(a,s),o||(a=s=null)))}var o,s,a,u,l;return null==e&&(e=100),function(){a=this,s=arguments,u=r();var c=n&&!o;return o||(o=setTimeout(i,e)),c&&(l=t.apply(a,s),a=s=null),l}}},function(t,e){function n(){return(new Date).getTime()}t.exports=Date.now||n},function(t,e){t.exports={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:{name:"Mat Groves"},contributors:[{name:"Chad Engler",email:"chad@pantherdev.com"},{name:"Richard Davey",email:"rdavey@gmail.com"}],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:{url:"https://github.com/GoodBoyDigital/pixi.js/issues"},license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},browserify:{transform:["brfs"]},gitHead:"34cd01eb0f204848972de325b1b85c0b6f7b8c8e",_id:"pixi.js@3.0.7",_shasum:"8908990cd86c6bd1d04ca8708757857c69282751",_from:"pixi.js@>=3.0.7 <3.1.0",_npmVersion:"2.7.1",_nodeVersion:"0.12.4",_npmUser:{name:"englercj",email:"englercj@live.com"},maintainers:[{name:"englercj",email:"englercj@live.com"}],dist:{shasum:"8908990cd86c6bd1d04ca8708757857c69282751",tarball:"http://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz"},directories:{},_resolved:"https://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz",readme:"ERROR: No README data found!"}},function(t,e,n){var r;(function(){function i(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>i&&(e[r+i++]=v[t])});16>i;)e[r+i++]=0;return e}function o(t,e){var n=e||0,r=m;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function s(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var s=null!=t.clockseq?t.clockseq:b,a=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:x+1,l=a-E+(u-x)/1e4;if(0>l&&null==t.clockseq&&(s=s+1&16383),(0>l||a>E)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");E=a,x=u,b=s,a+=122192928e5;var c=(1e4*(268435455&a)+u)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=255&c;var h=a/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var p=t.node||_,d=0;6>d;d++)i[r+d]=p[d];return e?e:o(i)}function a(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new f(16):null,t=null),t=t||{};var i=t.random||(t.rng||u)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var s=0;16>s;s++)e[r+s]=i[s];return e||o(i)}var u,l=this;if("function"==typeof l.require)try{var c=l.require("crypto").randomBytes;u=c&&function(){return c(16)}}catch(h){}if(!u&&l.crypto&&crypto.getRandomValues){var p=new Uint8Array(16);u=function(){return crypto.getRandomValues(p),p}}if(!u){var d=new Array(16);u=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),d[e]=t>>>((3&e)<<3)&255;return d}}for(var f="function"==typeof l.Buffer?l.Buffer:Array,m=[],v={},y=0;256>y;y++)m[y]=(y+256).toString(16).substr(1),v[m[y]]=y;var g=u(),_=[1|g[0],g[1],g[2],g[3],g[4],g[5]],b=16383&(g[6]<<8|g[7]),E=0,x=0,w=a;if(w.v1=s,w.v4=a,w.parse=i,w.unparse=o,w.BufferClass=f,"undefined"!=typeof t&&t.exports)t.exports=w;else{r=function(){return w}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}}).call(this)},function(t,e){function n(t,e){if(e=e===!1?!1:!0)return"3."+n(t,!1);if(t<=r.length)return r.substring(1,t);for(var i=[],o=[],s=0,a=0,u=0,l=0,c=0,h=0,p=[];t>s;++s)i[s]=20;for(;t>a;++a){for(l=0,s=0;t>s;++s)c=parseInt(t-s-1),h=parseInt(2*c+1),i[s]+=l,u=parseInt(i[s]/h),o[s]=parseInt(i[s]%h),l=u*c;for(p.push(parseInt(i[t-1]/10)),o[t-1]=parseInt(i[t-1]%10),s=0;t>s;++s)i[s]=10*o[s]}return p.slice(1).join("")}const r=Math.PI.toString().replace(".","");t.exports=n},function(t,e,n){var r,i,o;!function(s,a){i=[n(322),n(333),n(258)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t,e,n){"use strict";function r(r){function o(t){g=t/60/1e3,_=P*g}function s(t){var n=e.note["from"+r.noteFormat](t);return"Frequency"===r.noteFormat?n.note:n}function a(){var t=void 0,e=void 0,n=!0,o=!1,a=void 0;try{for(var u,l=r.noteData[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var c=i(u.value,2),h=c[1],p=s(h).key();(t>p||"number"!=typeof t)&&(t=p),(p>e||"number"!=typeof e)&&(e=p)}}catch(d){o=!0,a=d}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return{min:t-1,max:e}}function u(){for(var n=[],i=[],o=C/2*M,s=o/1.575,a=O.min;a<O.max+2;a++){var u=r.height+(O.min-a)*k,l=e.note.fromKey(a),c=l.chroma();new Set([0,2,4,5,7,9,11]).has(c)?n.push({y:u+(new Set([4,11]).has(c)?0:-k/2),width:o,height:new Set([2,7,9]).has(c)?2*k:1.5*k,color:v.white}):i.push({y:u,width:s,height:k,color:v.black})}n.concat(i).forEach(function(e){T.addChild((new t.Graphics).beginFill(e.color).lineStyle(e.color===v.white?R:0,v.black).drawRect(0,e.y,e.width,e.height).endFill())}),x.addChild(T)}function l(){S.addChild((new t.Graphics).beginFill(r.backgroundColor).drawRect(0,0,r.width,r.height).endFill())}function c(t){if(!t)return 0;var e=t.split(":"),n=i(e,3),r=n[0],o=n[1],s=void 0===o?0:o,a=n[2],u=void 0===a?0:a;return C*r+P*s+D*u}function h(){var n=!0,o=!1,a=void 0;try{for(var u,l=function(){var n=i(u.value,3),o=n[0],a=n[1],l=n[2],h=r.noteColor,p=new t.Graphics,d=s(a),f=c(o)+N,m=r.height-(d.key()-O.min)*k+N,v=C/parseInt(l);"object"==typeof h&&Object.keys(h).forEach(function(t){e.note(t).chroma()===d.chroma()&&(h=h[t])}),w.addChild(p),p.beginFill(h).drawRect(f,m,v,I).endFill()},h=r.noteData[Symbol.iterator]();!(n=(u=h.next()).done);n=!0)l()}catch(p){o=!0,a=p}finally{try{!n&&h["return"]&&h["return"]()}finally{if(o)throw a}}w.x=-c(r.time),S.addChild(w),S.width=S.width*M,S.x=r.width*(1-M),x.addChild(S)}function p(t){if("string"!=typeof t)return p("horizontal"),void p("vertical");var e="vertical"===t?R:r.width,n="vertical"===t?r.height:R,i=!0,o=!1,s=void 0;try{for(var a,u=L[t][Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var l=a.value;l.graphic.clear().beginFill(r.gridLineColor).drawRect(l.x,l.y,e,n).endFill()}}catch(c){o=!0,s=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw s}}}function d(t){var e=!0,n=!1,i=void 0;try{for(var o,s=L.vertical[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;a.x=a.x-t}}catch(u){n=!0,i=u}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw i}}if(L.vertical[0].x+R<0){var a=L.vertical.shift();a.x=L.vertical[L.vertical.length-1].x+F,L.vertical.push(a)}else if(L.vertical[L.vertical.length-1].x>r.width){var a=L.vertical.pop();a.x=L.vertical[0].x-F,L.vertical.unshift(a)}}function f(){var e=void 0;for(e=0;A+1>e;e++){var n=new t.Graphics;L.horizontal.push({x:0,y:e*k-N,graphic:n}),S.addChild(n)}for(e=0;e<r.zoom*r.resolution+1;e++){var n=new t.Graphics,o=r.time.split(":"),s=i(o,3),a=(s[0],s[1]),u=void 0===a?0:a,l=s[2],c=void 0===l?0:l,h=u*P+c*D;L.vertical.push({x:e*F-N-h,y:0,graphic:n}),S.addChild(n)}}function m(t){y||(y=t);var e=t-y,n=e*_;w.x=w.x-n,d(n),p("vertical"),y=t,E.render(x),b?requestAnimationFrame(m):y=null}var v={black:0,white:16777215};r=Object.assign({width:900,height:400,noteColor:n.dDJameson,gridLineColor:3355443,backgroundColor:v.black,bpm:140,antialias:!0,zoom:4,resolution:2,time:"0:0:0",renderer:"WebGLRenderer",noteFormat:"String",noteData:[]},r);var y=void 0,g=void 0,_=void 0,b=!1,E=new t[r.renderer](r.width,r.height,{antialias:r.antialias}),x=new t.Container,w=new t.Container,T=new t.Container,S=new t.Container,M=.89,O=a(r.noteData),A=O.max-O.min,C=r.width/r.zoom,P=r.width/(4*r.zoom),D=P/4,R=C/100,N=R/2,F=C/r.resolution,k=r.height/A,I=k-R,L={horizontal:[],vertical:[]};o(r.bpm),l(),f(),p(),h(),u(),E.render(x);var B=Object.defineProperties({playback:{toggle:function(t){b?B.playback.pause():B.playback.play(t)},play:function(t){t&&B.playback.seek(t),b=!0,requestAnimationFrame(m)},pause:function(){b=!1},seek:function(t){var e=-c(t),n=w.x-e;d(n),p("vertical"),w.x=e,E.render(x)}}},{bpm:{set:function(t){o(t)},configurable:!0,enumerable:!0},playing:{get:function(){return b},configurable:!0,enumerable:!0},view:{get:function(){return E.view},configurable:!0,enumerable:!0}});return B}var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return r})},function(t,e,n){var r,i,o;!function(n,s){i=[],r=s,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(){return{louisBertrandCastel:{C:1838466,"C#":1806465,D:1347635,"D#":7377446,E:16118844,F:16110139,"F#":16285712,G:16386828,"G#":10488841,A:14095238,"A#":4918909,B:8325244},dDJameson:{C:16386828,"C#":16008978,D:16285712,"D#":16110139,E:16118844,F:1347635,"F#":1806465,G:1838466,"G#":4918909,A:8325244,"A#":10884486,B:14094981},theodorSeemann:{C:6954012,"C#":16386828,D:16743685,"D#":16569651,E:16118844,F:1478708,"F#":1806465,G:1838466,"G#":8325244,A:14095238,"A#":6954012,B:460551},aWallaceRimington:{C:16386828,"C#":10488841,D:16008978,"D#":16285712,E:16118844,F:7377446,"F#":1347635,G:2532992,"G#":1806465,A:8325244,"A#":1838466,B:14095238},hHelmholtz:{C:16118844,"C#":1347635,D:1806465,"D#":1858464,E:8325244,F:14095238,"F#":10292821,G:16386828,"G#":13839370,A:13839370,"A#":14227793,B:15825423},aScriabin:{C:16386828,"C#":14095238,D:16118844,"D#":5920389,E:1858464,F:10488841,"F#":1838466,G:16285712,"G#":8325756,A:1347635,"A#":5920389,B:1858464},aBernardKlein:{C:12847625,"C#":16386828,D:16008978,"D#":16285712,E:16118844,F:12378169,"F#":1347635,G:1806465,"G#":1838466,A:7870599,"A#":14095238,B:10292821},iJBelmont:{C:16386828,"C#":16008978,D:16285712,"D#":16175377,E:16118844,F:12378169,"F#":1281842,G:1806465,"G#":1838466,A:10818949,"A#":14095238,B:11341384},sZieverink:{C:12378169,"C#":1347635,D:1806465,"D#":1838466,E:8325244,F:14095238,"F#":7277893,G:10488841,"G#":16386828,A:16285712,"A#":15593607,B:16118844}}})},function(t,e){"use strict";function n(t,e,n){n=n||2;var s=e&&e.length,a=s?e[0]*n:t.length,u=i(t,r(t,0,a,n,!0)),c=[];if(!u)return c;var h,p,d,f,m,v,y;if(s&&(u=l(t,e,u,n)),t.length>80*n){h=d=t[0],p=f=t[1];for(var g=n;a>g;g+=n)m=t[g],v=t[g+1],h>m&&(h=m),p>v&&(p=v),m>d&&(d=m),v>f&&(f=v);y=Math.max(d-h,f-p)}return o(t,u,c,n,h,p,y),c}function r(t,e,n,r,i){var o,s,a,u=0;for(o=e,s=n-r;n>o;o+=r)u+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(i===u>0)for(o=e;n>o;o+=r)a=T(o,a);else for(o=n-r;o>=e;o-=r)a=T(o,a);return a}function i(t,e,n){n||(n=e);var r,i=e;do if(r=!1,i.steiner||!g(t,i.i,i.next.i)&&0!==y(t,i.prev.i,i.i,i.next.i))i=i.next;else{if(i.prev.next=i.next,i.next.prev=i.prev,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ),i=n=i.prev,i===i.next)return null;r=!0}while(r||i!==n);return n}function o(t,e,n,r,l,c,h,d){if(e){d||void 0===l||p(t,e,l,c,h);for(var f,m,v=e;e.prev!==e.next;)if(f=e.prev,m=e.next,s(t,e,l,c,h))n.push(f.i/r),n.push(e.i/r),n.push(m.i/r),m.prev=f,f.next=m,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ),e=m.next,v=m.next;else if(e=m,e===v){d?1===d?(e=a(t,e,n,r),o(t,e,n,r,l,c,h,2)):2===d&&u(t,e,n,r,l,c,h):o(t,i(t,e),n,r,l,c,h,1);break}}}function s(t,e,n,r,i){var o=e.prev.i,s=e.i,a=e.next.i,u=t[o],l=t[o+1],c=t[s],h=t[s+1],p=t[a],d=t[a+1],m=u*h-l*c,v=u*d-l*p,y=p*h-d*c,g=m-v-y;if(0>=g)return!1;var _,b,E,x,w,T,S,M=d-l,O=u-p,A=l-h,C=c-u;if(void 0!==n){var P=c>u?p>u?u:p:p>c?c:p,D=h>l?d>l?l:d:d>h?h:d,R=u>c?u>p?u:p:c>p?c:p,N=l>h?l>d?l:d:h>d?h:d,F=f(P,D,n,r,i),k=f(R,N,n,r,i);for(S=e.nextZ;S&&S.z<=k;)if(_=S.i,S=S.nextZ,_!==o&&_!==a&&(b=t[_],E=t[_+1],x=M*b+O*E-v,x>=0&&(w=A*b+C*E+m,w>=0&&(T=g-x-w,T>=0&&(x&&w||x&&T||w&&T)))))return!1;for(S=e.prevZ;S&&S.z>=F;)if(_=S.i,S=S.prevZ,_!==o&&_!==a&&(b=t[_],E=t[_+1],x=M*b+O*E-v,x>=0&&(w=A*b+C*E+m,w>=0&&(T=g-x-w,T>=0&&(x&&w||x&&T||w&&T)))))return!1}else for(S=e.next.next;S!==e.prev;)if(_=S.i,S=S.next,b=t[_],E=t[_+1],x=M*b+O*E-v,x>=0&&(w=A*b+C*E+m,w>=0&&(T=g-x-w,T>=0&&(x&&w||x&&T||w&&T))))return!1;return!0}function a(t,e,n,r){var i=e;do{var o=i.prev,s=i.next.next;if(o.i!==s.i&&_(t,o.i,i.i,i.next.i,s.i)&&E(t,o,s)&&E(t,s,o)){n.push(o.i/r),n.push(i.i/r),n.push(s.i/r),o.next=s,s.prev=o;var a=i.prevZ,u=i.nextZ&&i.nextZ.nextZ;a&&(a.nextZ=u),u&&(u.prevZ=a),i=e=s}i=i.next}while(i!==e);return i}function u(t,e,n,r,s,a,u){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&v(t,l,c)){var h=w(l,c);return l=i(t,l,l.next),h=i(t,h,h.next),o(t,l,n,r,s,a,u),void o(t,h,n,r,s,a,u)}c=c.next}l=l.next}while(l!==e)}function l(t,e,n,o){var s,a,u,l,h,p=[];for(s=0,a=e.length;a>s;s++)u=e[s]*o,l=a-1>s?e[s+1]*o:t.length,h=r(t,u,l,o,!1),h===h.next&&(h.steiner=!0),h=i(t,h),h&&p.push(m(t,h));for(p.sort(function(e,n){return t[e.i]-t[n.i]}),s=0;s<p.length;s++)c(t,p[s],n),n=i(t,n,n.next);return n}function c(t,e,n){if(n=h(t,e,n)){var r=w(n,e);i(t,r,r.next)}}function h(t,e,n){var r,i,o,s=n,a=e.i,u=t[a],l=t[a+1],c=-(1/0);do{if(i=s.i,o=s.next.i,l<=t[i+1]&&l>=t[o+1]){var h=t[i]+(l-t[i+1])*(t[o]-t[i])/(t[o+1]-t[i+1]);u>=h&&h>c&&(c=h,r=t[i]<t[o]?s:s.next)}s=s.next}while(s!==n);if(!r)return null;var p,d,f,m,v,y,g=t[r.i],_=t[r.i+1],b=u*_-l*g,x=u*l-l*c,w=l-l,T=u-c,S=l-_,M=g-u,O=b-x-(c*_-l*g),A=0>=O?-1:1,C=r,P=1/0;for(s=r.next;s!==C;)p=t[s.i],d=t[s.i+1],f=u-p,f>=0&&p>=g&&(m=(w*p+T*d-x)*A,m>=0&&(v=(S*p+M*d+b)*A,v>=0&&O*A-m-v>=0&&(y=Math.abs(l-d)/f,P>y&&E(t,s,e)&&(r=s,P=y)))),s=s.next;return r}function p(t,e,n,r,i){var o=e;do null===o.z&&(o.z=f(t[o.i],t[o.i+1],n,r,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,d(o)}function d(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;l>e&&(a++,r=r.nextZ,r);e++);for(u=l;a>0||u>0&&r;)0===a?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1);return t}function f(t,e,n,r,i){return t=1e3*(t-n)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=1e3*(e-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t,e){var n=e,r=e;do t[n.i]<t[r.i]&&(r=n),n=n.next;while(n!==e);return r}function v(t,e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!b(t,e,e.i,n.i)&&E(t,e,n)&&E(t,n,e)&&x(t,e,e.i,n.i)}function y(t,e,n,r){var i=(t[n+1]-t[e+1])*(t[r]-t[n])-(t[n]-t[e])*(t[r+1]-t[n+1]);return i>0?1:0>i?-1:0}function g(t,e,n){return t[e]===t[n]&&t[e+1]===t[n+1]}function _(t,e,n,r,i){return y(t,e,n,r)!==y(t,e,n,i)&&y(t,r,i,e)!==y(t,r,i,n)}function b(t,e,n,r){var i=e;do{var o=i.i,s=i.next.i;if(o!==n&&s!==n&&o!==r&&s!==r&&_(t,o,s,n,r))return!0;i=i.next}while(i!==e);return!1}function E(t,e,n){return-1===y(t,e.prev.i,e.i,e.next.i)?-1!==y(t,e.i,n.i,e.next.i)&&-1!==y(t,e.i,e.prev.i,n.i):-1===y(t,e.i,n.i,e.prev.i)||-1===y(t,e.i,e.next.i,n.i)}function x(t,e,n,r){var i=e,o=!1,s=(t[n]+t[r])/2,a=(t[n+1]+t[r+1])/2;do{var u=i.i,l=i.next.i;t[u+1]>a!=t[l+1]>a&&s<(t[l]-t[u])*(a-t[u+1])/(t[l+1]-t[u+1])+t[u]&&(o=!o),i=i.next}while(i!==e);return o}function w(t,e){var n=new S(t.i),r=new S(e.i),i=t.next,o=e.prev;return t.next=e,
e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(t,e){var n=new S(t);return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function S(t){this.i=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.exports=n},function(t,e){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var r,i,o=n(t),s=1;s<arguments.length;s++){r=arguments[s],i=Object.keys(Object(r));for(var a=0;a<i.length;a++)o[i[a]]=r[i[a]]}return o}},function(t,e,n){function r(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=i.queue(this._boundLoadResource,e),this.resources={}}var i=n(128),o=n(116),s=n(83),a=n(31);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.add=r.prototype.enqueue=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,n),"function"==typeof r&&this.resources[t].once("afterMiddleware",r),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},r.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.lastIndexOf("/")!==t.length-1?this.baseUrl+"/"+t:this.baseUrl+t},r.prototype.before=r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.after=r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},r.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},r.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(n._boundOnLoad)})},r.prototype._onComplete=function(){this.emit("complete",this,this.resources)},r.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),t._dequeue()},r.prototype._runMiddleware=function(t,e,n){var r=this;i.eachSeries(e,function(e,n){e.call(r,t,n)},n.bind(this,t))},r.LOAD_TYPE=s.LOAD_TYPE,r.XHR_READY_STATE=s.XHR_READY_STATE,r.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},function(t,e){t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",r=new Array(4),i=0,o=0,s=0;i<t.length;){for(e=new Array(3),o=0;o<e.length;o++)i<t.length?e[o]=255&t.charCodeAt(i++):e[o]=0;switch(r[0]=e[0]>>2,r[1]=(3&e[0])<<4|e[1]>>4,r[2]=(15&e[1])<<2|e[2]>>6,r[3]=63&e[2],s=i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;o++)n+=this._keyStr.charAt(r[o])}return n}}},function(t,e){var n={};t.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):(t.once("complete",function(){n[this.url]=this.data}),e())}}},function(t,e,n){var r=n(83),i=n(262);window.URL=window.URL||window.webkitURL,t.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===r.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(n),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+i.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},function(t,e,n){function r(){i.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var i=n(58),o=n(46),s=n(86),a=n(87),u=n(130),l=n(18),c=n(13),h=new l.Point;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{}),r.prototype.clone=function(){var t=new r;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=this.dirty,t.glDirty=this.glDirty,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},r.prototype.lineStyle=function(t,e,n){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===n?1:n,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new l.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},r.prototype.moveTo=function(t,e){return this.drawShape(new l.Polygon([t,e])),this},r.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},r.prototype.quadraticCurveTo=function(t,e,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var u=a[a.length-2],l=a[a.length-1],c=0,h=1;s>=h;++h)c=h/s,i=u+(t-u)*c,o=l+(e-l)*c,a.push(i+(t+(n-t)*c-i)*c,o+(e+(r-e)*c-o)*c);return this.dirty=this.boundsDirty=!0,this},r.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,l,c,h=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],m=0,v=1;h>=v;++v)m=v/h,s=1-m,a=s*s,u=a*s,l=m*m,c=l*m,p.push(u*d+3*a*m*t+3*s*l*n+c*i,u*f+3*a*m*e+3*s*l*r+c*o);return this.dirty=this.boundsDirty=!0,this},r.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,c=r-e,h=n-t,p=Math.abs(u*h-l*c);if(1e-8>p||0===i)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var d=u*u+l*l,f=c*c+h*h,m=u*c+l*h,v=i*Math.sqrt(d)/p,y=i*Math.sqrt(f)/p,g=v*m/d,_=y*m/f,b=v*h+y*l,E=v*c+y*u,x=l*(y+g),w=u*(y+g),T=h*(v+_),S=c*(v+_),M=Math.atan2(w-E,x-b),O=Math.atan2(S-E,T-b);this.arc(b+t,E+e,i,M,O,l*c>h*u)}return this.dirty=this.boundsDirty=!0,this},r.prototype.arc=function(t,e,n,r,i,o){if(o=o||!1,r===i)return this;!o&&r>=i?i+=2*Math.PI:o&&i>=r&&(r+=2*Math.PI);var s=o?-1*(r-i):i-r,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(r)*n,l=e+Math.sin(r)*n;this.currentPath?o&&this.filling?this.currentPath.shape.points.push(t,e):this.currentPath.shape.points.push(u,l):o&&this.filling?this.moveTo(t,e):this.moveTo(u,l);for(var c=this.currentPath.shape.points,h=s/(2*a),p=2*h,d=Math.cos(h),f=Math.sin(h),m=a-1,v=m%1/m,y=0;m>=y;y++){var g=y+v*y,_=h+r+p*g,b=Math.cos(_),E=-Math.sin(_);c.push((d*b+f*E)*n+t,(d*-E+f*b)*n+e)}return this.dirty=this.boundsDirty=!0,this},r.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},r.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},r.prototype.drawRect=function(t,e,n,r){return this.drawShape(new l.Rectangle(t,e,n,r)),this},r.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new l.RoundedRectangle(t,e,n,r,i)),this},r.prototype.drawCircle=function(t,e,n){return this.drawShape(new l.Circle(t,e,n)),this},r.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new l.Ellipse(t,e,n,r)),this},r.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}return this.drawShape(new l.Polygon(e)),this},r.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},r.prototype.generateTexture=function(t,e,n){e=e||1;var r=this.getLocalBounds(),i=new s(r.width*e,r.height*e),u=o.fromCanvas(i.canvas,n);return u.baseTexture.resolution=e,i.context.scale(e,e),i.context.translate(-r.x,-r.y),a.renderGraphics(this,i.context),u},r.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},r.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var e=t.context,n=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]);var r=t.resolution;e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),a.renderGraphics(this,e)}},r.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,n=e.x,r=e.width+e.x,i=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,u=s.b,c=s.c,h=s.d,p=s.tx,d=s.ty,f=a*r+c*o+p,m=h*o+u*r+d,v=a*n+c*o+p,y=h*o+u*n+d,g=a*n+c*i+p,_=h*i+u*n+d,b=a*r+c*i+p,E=h*i+u*r+d,x=f,w=m,T=f,S=m;T=T>v?v:T,T=T>g?g:T,T=T>b?b:T,S=S>y?y:S,S=S>_?_:S,S=S>E?E:S,x=v>x?v:x,x=g>x?g:x,x=b>x?b:x,w=y>w?y:w,w=_>w?_:w,w=E>w?E:w,this._bounds.x=T,this._bounds.width=x-T,this._bounds.y=S,this._bounds.height=w-S,this._currentBounds=this._bounds}return this._currentBounds},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);for(var e=this.graphicsData,n=0;n<e.length;n++){var r=e[n];if(r.fill&&r.shape&&r.shape.contains(h.x,h.y))return!0}return!1},r.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),n=1/0,r=-(1/0);if(this.graphicsData.length)for(var i,o,s,a,u,l,h=0;h<this.graphicsData.length;h++){var p=this.graphicsData[h],d=p.type,f=p.lineWidth;if(i=p.shape,d===c.SHAPES.RECT||d===c.SHAPES.RREC)s=i.x-f/2,a=i.y-f/2,u=i.width+f,l=i.height+f,t=t>s?s:t,e=s+u>e?s+u:e,n=n>a?a:n,r=a+l>r?a+l:r;else if(d===c.SHAPES.CIRC)s=i.x,a=i.y,u=i.radius+f/2,l=i.radius+f/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-l?a-l:n,r=a+l>r?a+l:r;else if(d===c.SHAPES.ELIP)s=i.x,a=i.y,u=i.width+f/2,l=i.height+f/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,n=n>a-l?a-l:n,r=a+l>r?a+l:r;else{o=i.points;for(var m=0;m<o.length;m+=2)s=o[m],a=o[m+1],t=t>s-f?s-f:t,e=s+f>e?s+f:e,n=n>a-f?a-f:n,r=a+f>r?a+f:r}}else t=0,e=0,n=0,r=0;var v=this.boundsPadding;this._localBounds.x=t-v,this._localBounds.width=e-t+2*v,this._localBounds.y=n-v,this._localBounds.height=r-n+2*v},r.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},r.prototype.destroy=function(){i.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var n=0;n<this._webgl[e].data.length;++n)this._webgl[e].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},function(t,e,n){function r(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var i=n(19),o=n(18),s=n(13),a=n(45),u=n(59),l=n(267),c=n(259);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,u.registerPlugin("graphics",r),r.prototype.onContextChange=function(){},r.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},r.prototype.render=function(t){var e,n=this.renderer,r=n.gl,o=n.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t,r);var s=t._webGL[r.id];n.blendModeManager.setBlendMode(t.blendMode);for(var a=0;a<s.data.length;a++)1===s.data[a].mode?(e=s.data[a],n.stencilManager.pushStencil(t,e,n),r.uniform1f(n.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilManager.popStencil(t,e,n)):(e=s.data[a],o=n.shaderManager.primitiveShader,n.shaderManager.setShader(o),r.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(o.uniforms.tint._location,i.hex2rgb(t.tint)),r.uniform1f(o.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(o.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(o.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0))},r.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[e.id];n||(n=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var r;if(t.clearDirty){for(t.clearDirty=!1,r=0;r<n.data.length;r++){var i=n.data[r];i.reset(),this.graphicsDataPool.push(i)}n.data=[],n.lastIndex=0}var o;for(r=n.lastIndex;r<t.graphicsData.length;r++){var a=t.graphicsData[r];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(n,0);var u=this.buildPoly(a,o);u||(o=this.switchMode(n,1),this.buildComplexPoly(a,o))}else o=this.switchMode(n,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(n,0),this.buildLine(a,o))}else o=this.switchMode(n,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);n.lastIndex++}for(r=0;r<n.data.length;r++)o=n.data[r],o.dirty&&o.upload()},r.prototype.switchMode=function(t,e){var n;return t.data.length?(n=t.data[t.data.length-1],(n.points.length>32e4||n.mode!==e||1===e)&&(n=this.graphicsDataPool.pop()||new l(t.gl),n.mode=e,t.data.push(n))):(n=this.graphicsDataPool.pop()||new l(t.gl),n.mode=e,t.data.push(n)),n.dirty=!0,n},r.prototype.buildRectangle=function(t,e){var n=t.shape,r=n.x,o=n.y,s=n.width,a=n.height;if(t.fill){var u=i.hex2rgb(t.fillColor),l=t.fillAlpha,c=u[0]*l,h=u[1]*l,p=u[2]*l,d=e.points,f=e.indices,m=d.length/6;d.push(r,o),d.push(c,h,p,l),d.push(r+s,o),d.push(c,h,p,l),d.push(r,o+a),d.push(c,h,p,l),d.push(r+s,o+a),d.push(c,h,p,l),f.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[r,o,r+s,o,r+s,o+a,r,o+a,r,o],this.buildLine(t,e),t.points=v}},r.prototype.buildRoundedRectangle=function(t,e){var n=t.shape,r=n.x,o=n.y,s=n.width,a=n.height,u=n.radius,l=[];if(l.push(r,o+u),this.quadraticBezierCurve(r,o+a-u,r,o+a,r+u,o+a,l),this.quadraticBezierCurve(r+s-u,o+a,r+s,o+a,r+s,o+a-u,l),this.quadraticBezierCurve(r+s,o+u,r+s,o,r+s-u,o,l),this.quadraticBezierCurve(r+u,o,r,o,r,o+u+1e-10,l),t.fill){var h=i.hex2rgb(t.fillColor),p=t.fillAlpha,d=h[0]*p,f=h[1]*p,m=h[2]*p,v=e.points,y=e.indices,g=v.length/6,_=c(l,null,2),b=0;for(b=0;b<_.length;b+=3)y.push(_[b]+g),y.push(_[b]+g),y.push(_[b+1]+g),y.push(_[b+2]+g),y.push(_[b+2]+g);for(b=0;b<l.length;b++)v.push(l[b],l[++b],d,f,m,p)}if(t.lineWidth){var E=t.points;t.points=l,this.buildLine(t,e),t.points=E}},r.prototype.quadraticBezierCurve=function(t,e,n,r,i,o,s){function a(t,e,n){var r=e-t;return t+r*n}for(var u,l,c,h,p,d,f=20,m=s||[],v=0,y=0;f>=y;y++)v=y/f,u=a(t,n,v),l=a(e,r,v),c=a(n,i,v),h=a(r,o,v),p=a(u,c,v),d=a(l,h,v),m.push(p,d);return m},r.prototype.buildCircle=function(t,e){var n,r,o=t.shape,a=o.x,u=o.y;t.type===s.SHAPES.CIRC?(n=o.radius,r=o.radius):(n=o.width,r=o.height);var l=40,c=2*Math.PI/l,h=0;if(t.fill){var p=i.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,m=p[1]*d,v=p[2]*d,y=e.points,g=e.indices,_=y.length/6;for(g.push(_),h=0;l+1>h;h++)y.push(a,u,f,m,v,d),y.push(a+Math.sin(c*h)*n,u+Math.cos(c*h)*r,f,m,v,d),g.push(_++,_++);g.push(_-1)}if(t.lineWidth){var b=t.points;for(t.points=[],h=0;l+1>h;h++)t.points.push(a+Math.sin(c*h)*n,u+Math.cos(c*h)*r);this.buildLine(t,e),t.points=b}},r.prototype.buildLine=function(t,e){var n=0,r=t.points;if(0!==r.length){if(t.lineWidth%2)for(n=0;n<r.length;n++)r[n]+=.5;var s=new o.Point(r[0],r[1]),a=new o.Point(r[r.length-2],r[r.length-1]);if(s.x===a.x&&s.y===a.y){r=r.slice(),r.pop(),r.pop(),a=new o.Point(r[r.length-2],r[r.length-1]);var u=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);r.unshift(u,l),r.push(u,l)}var c,h,p,d,f,m,v,y,g,_,b,E,x,w,T,S,M,O,A,C,P,D,R,N=e.points,F=e.indices,k=r.length/2,I=r.length,L=N.length/6,B=t.lineWidth/2,j=i.hex2rgb(t.lineColor),U=t.lineAlpha,q=j[0]*U,V=j[1]*U,G=j[2]*U;for(p=r[0],d=r[1],f=r[2],m=r[3],g=-(d-m),_=p-f,R=Math.sqrt(g*g+_*_),g/=R,_/=R,g*=B,_*=B,N.push(p-g,d-_,q,V,G,U),N.push(p+g,d+_,q,V,G,U),n=1;k-1>n;n++)p=r[2*(n-1)],d=r[2*(n-1)+1],f=r[2*n],m=r[2*n+1],v=r[2*(n+1)],y=r[2*(n+1)+1],g=-(d-m),_=p-f,R=Math.sqrt(g*g+_*_),g/=R,_/=R,g*=B,_*=B,b=-(m-y),E=f-v,R=Math.sqrt(b*b+E*E),b/=R,E/=R,b*=B,E*=B,T=-_+d-(-_+m),S=-g+f-(-g+p),M=(-g+p)*(-_+m)-(-g+f)*(-_+d),O=-E+y-(-E+m),A=-b+f-(-b+v),C=(-b+v)*(-E+m)-(-b+f)*(-E+y),P=T*A-O*S,Math.abs(P)<.1?(P+=10.1,N.push(f-g,m-_,q,V,G,U),N.push(f+g,m+_,q,V,G,U)):(c=(S*C-A*M)/P,h=(O*M-T*C)/P,D=(c-f)*(c-f)+(h-m)+(h-m),D>19600?(x=g-b,w=_-E,R=Math.sqrt(x*x+w*w),x/=R,w/=R,x*=B,w*=B,N.push(f-x,m-w),N.push(q,V,G,U),N.push(f+x,m+w),N.push(q,V,G,U),N.push(f-x,m-w),N.push(q,V,G,U),I++):(N.push(c,h),N.push(q,V,G,U),N.push(f-(c-f),m-(h-m)),N.push(q,V,G,U)));for(p=r[2*(k-2)],d=r[2*(k-2)+1],f=r[2*(k-1)],m=r[2*(k-1)+1],g=-(d-m),_=p-f,R=Math.sqrt(g*g+_*_),g/=R,_/=R,g*=B,_*=B,N.push(f-g,m-_),N.push(q,V,G,U),N.push(f+g,m+_),N.push(q,V,G,U),F.push(L),n=0;I>n;n++)F.push(L++);F.push(L-1)}},r.prototype.buildComplexPoly=function(t,e){var n=t.points.slice();if(!(n.length<6)){var r=e.indices;e.points=n,e.alpha=t.fillAlpha,e.color=i.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-(1/0),l=1/0,c=-(1/0),h=0;h<n.length;h+=2)o=n[h],s=n[h+1],a=a>o?o:a,u=o>u?o:u,l=l>s?s:l,c=s>c?s:c;n.push(a,l,u,l,u,c,a,c);var p=n.length/2;for(h=0;p>h;h++)r.push(h)}},r.prototype.buildPoly=function(t,e){var n=t.points;if(!(n.length<6)){var r=e.points,o=e.indices,s=n.length/2,a=i.hex2rgb(t.fillColor),u=t.fillAlpha,l=a[0]*u,h=a[1]*u,p=a[2]*u,d=c(n,null,2);if(!d)return!1;var f=r.length/6,m=0;for(m=0;m<d.length;m+=3)o.push(d[m]+f),o.push(d[m]+f),o.push(d[m+1]+f),o.push(d[m+2]+f),o.push(d[m+2]+f);for(m=0;s>m;m++)r.push(n[2*m],n[2*m+1],l,h,p,u);return!0}}},function(t,e){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,t.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},function(t,e,n){function r(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var i=n(84);r.prototype.constructor=r,t.exports=r,r.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(t,e){e=e||new i;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},r.prototype.applyInverse=function(t,e){e=e||new i;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*n*r+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},r.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},r.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},r.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},r.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},r.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},r.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.IDENTITY=new r,r.TEMP_MATRIX=new r},function(t,e,n){function r(t,e,n){this.x=t||0,this.y=e||0,this.radius=n||0,this.type=o.SHAPES.CIRC}var i=n(85),o=n(13);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.x-t,r=this.y-e,i=this.radius*this.radius;return n*=n,r*=r,i>=n+r},r.prototype.getBounds=function(){return new i(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},function(t,e,n){function r(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.type=o.SHAPES.ELIP}var i=n(85),o=n(13);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return n*=n,r*=r,1>=n+r},r.prototype.getBounds=function(){return new i(this.x-this.width,this.y-this.height,this.width,this.height)}},function(t,e,n){function r(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}if(e[0]instanceof i){for(var r=[],s=0,a=e.length;a>s;s++)r.push(e[s].x,e[s].y);e=r}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var i=n(84),o=n(13);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.points.slice())},r.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;r>i;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1],c=a>e!=l>e&&(u-s)*(e-a)/(l-a)+s>t;c&&(n=!n)}return n}},function(t,e,n){function r(t,e,n,r,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.radius=o||20,this.type=i.SHAPES.RREC}var i=n(13);r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},function(t,e,n){function r(t,e){i.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=t||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var i=n(58),o=n(13);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this._updateStatic=!0,t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},r.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this._updateStatic=!0,e},r.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,s=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r=!1),i=l.anchor.x*-c.width*l.scale.x+l.position.x+.5,o=l.anchor.y*-c.height*l.scale.y+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var h=l.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|h.tx,0|h.ty):e.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(l.texture.baseTexture.source,c.x,c.y,c.width,c.height,i,o,s,a)}}}},r.prototype.destroy=function(){if(i.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},function(t,e){function n(t,e,n){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;r++){var i=e[r];i.dynamic?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,t.exports=n,n.prototype.initBuffers=function(){var t,e,n=this.gl,r=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=r,r+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferData(n.ARRAY_BUFFER,this.dynamicData,n.DYNAMIC_DRAW);var i=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=i,i+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferData(n.ARRAY_BUFFER,this.staticData,n.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,n){for(var r=this.gl,i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,e,n,this.dynamicData,this.dynamicStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,n){for(var r=this.gl,i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,e,n,this.staticData,this.staticStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,n=this.gl;for(n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},function(t,e,n){function r(t){i.call(this,t),this.size=15e3;var e=6*this.size;this.indices=new Uint16Array(e);for(var n=0,r=0;e>n;n+=6,r+=4)this.indices[n+0]=r+0,this.indices[n+1]=r+1,this.indices[n+2]=r+2,this.indices[n+3]=r+0,this.indices[n+4]=r+2,this.indices[n+5]=r+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var i=n(45),o=n(59),s=n(276),a=n(274),u=n(18);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("particle",r),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,
dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},r.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},r.prototype.render=function(t){var e=t.children,n=e.length,r=t._size;if(0!==n){n>r&&(n=r),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var i=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),i.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),i.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var s=t._updateStatic,a=e[0]._texture.baseTexture;if(a._glTextures[i.id])i.bindTexture(i.TEXTURE_2D,a._glTextures[i.id]);else{if(!this.renderer.updateTexture(a))return;this.properties[0].dynamic&&this.properties[3].dynamic||(s=!0)}for(var u=0,l=0;n>l;l+=this.size){var c=n-l;c>this.size&&(c=this.size);var h=t._buffers[u++];h.uploadDynamic(e,l,c),s&&h.uploadStatic(e,l,c),h.bind(this.shader),i.drawElements(i.TRIANGLES,6*c,i.UNSIGNED_SHORT,0),this.renderer.drawCount++}t._updateStatic=!1}},r.prototype.generateBuffers=function(t){var e,n=this.renderer.gl,r=[],i=t._size;for(e=0;e<t._properties.length;e++)this.properties[e].dynamic=t._properties[e];for(e=0;i>e;e+=this.size)r.push(new a(n,this.properties,this.size,this.shader));return r},r.prototype.uploadVertices=function(t,e,n,r,i,o){for(var s,a,u,l,c,h,p,d,f,m=0;n>m;m++)s=t[e+m],a=s._texture,l=s.scale.x,c=s.scale.y,a.trim?(u=a.trim,p=u.x-s.anchor.x*u.width,h=p+a.crop.width,f=u.y-s.anchor.y*u.height,d=f+a.crop.height):(h=a._frame.width*(1-s.anchor.x),p=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),f=a._frame.height*-s.anchor.y),r[o]=p*l,r[o+1]=f*c,r[o+i]=h*l,r[o+i+1]=f*c,r[o+2*i]=h*l,r[o+2*i+1]=d*c,r[o+3*i]=p*l,r[o+3*i+1]=d*c,o+=4*i},r.prototype.uploadPosition=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+i]=a.x,r[o+i+1]=a.y,r[o+2*i]=a.x,r[o+2*i+1]=a.y,r[o+3*i]=a.x,r[o+3*i+1]=a.y,o+=4*i}},r.prototype.uploadRotation=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].rotation;r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i}},r.prototype.uploadUvs=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+i]=a.x1,r[o+i+1]=a.y1,r[o+2*i]=a.x2,r[o+2*i+1]=a.y2,r[o+3*i]=a.x3,r[o+3*i+1]=a.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},r.prototype.uploadAlpha=function(t,e,n,r,i,o){for(var s=0;n>s;s++){var a=t[e+s].alpha;r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var i=n(89);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t,e,n){i.call(this,"Canvas",t,e,n),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.roundPixels=!1,this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var i=n(131),o=n(278),s=n(19),a=n(18),u=n(13);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,s.pluginTarget.mixin(r),r.prototype.render=function(t){var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},r.prototype.destroy=function(t){this.destroyPlugins(),i.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},r.prototype.renderDisplayObject=function(t,e){var n=this.context;this.context=e,t.renderCanvas(this),this.context=n},r.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===u.SCALE_MODES.LINEAR)},r.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},function(t,e,n){function r(){}var i=n(87);r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(t,e){e.context.save();var n=t.alpha,r=t.worldTransform,o=e.resolution;e.context.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),t.texture||(i.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=n},r.prototype.popMask=function(t){t.context.restore()},r.prototype.destroy=function(){}},function(t,e,n){var r=n(19),i={};t.exports=i,i.getTintedTexture=function(t,e){var n=t.texture;e=i.roundColor(e);var r="#"+("00000"+(0|e).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[r])return n.tintCache[r];var o=i.canvas||document.createElement("canvas");if(i.tintMethod(n,e,o),i.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=o,i.canvas=null;return o},i.tintWithMultiply=function(t,e,n){var r=n.getContext("2d"),i=t.crop;n.width=i.width,n.height=i.height,r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},i.tintWithOverlay=function(t,e,n){var r=n.getContext("2d"),i=t.crop;n.width=i.width,n.height=i.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},i.tintWithPerPixel=function(t,e,n){var i=n.getContext("2d"),o=t.crop;n.width=o.width,n.height=o.height,i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=r.hex2rgb(e),a=s[0],u=s[1],l=s[2],c=i.getImageData(0,0,o.width,o.height),h=c.data,p=0;p<h.length;p+=4)h[p+0]*=a,h[p+1]*=u,h[p+2]*=l;i.putImageData(c,0,0)},i.roundColor=function(t){var e=i.cacheStepsPerColorChannel,n=r.hex2rgb(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),r.rgb2hex(n)},i.cacheStepsPerColorChannel=8,i.convertTintToImage=!1,i.canUseMultiply=r.canUseNewCanvasBlendModes(),i.tintMethod=i.canUseMultiply?i.tintWithMultiply:i.tintWithPerPixel},function(t,e,n){function r(t){i.call(this,t),this.currentBlendMode=99999}var i=n(39);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},function(t,e,n){function r(t){i.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var i=n(39),o=n(133);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},r.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},r.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool.pop();n||(n=[new o(e)]),n[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,n)},r.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},r.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},r.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},function(t,e,n){function r(t){i.call(this,t),this.stencilMaskStack=null}var i=n(39),o=n(19);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},r.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var n=this.renderer.gl,r=this.stencilMaskStack;this.bindGraphics(t,e,this.renderer),0===r.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),r.reverse=!0,r.count=0),r.stencilStack.push(e);var i=r.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===e.mode?(n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),r.reverse?(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),r.reverse?n.stencilFunc(n.EQUAL,255-(i+1),255):n.stencilFunc(n.EQUAL,i+1,255),r.reverse=!r.reverse):(r.reverse?(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,i+1,255):n.stencilFunc(n.EQUAL,255-(i+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),r.count++},r.prototype.bindGraphics=function(t,e){this._currentGraphics=t;var n,r=this.renderer.gl;1===e.mode?(n=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),r.uniform3fv(n.uniforms.color._location,e.color),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,8,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(n=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(n.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},r.prototype.popStencil=function(t,e){var n=this.renderer.gl,r=this.stencilMaskStack;if(r.stencilStack.pop(),r.count--,0===r.stencilStack.length)n.disable(n.STENCIL_TEST);else{var i=r.count;this.bindGraphics(t,e,this.renderer),n.colorMask(!1,!1,!1,!1),1===e.mode?(r.reverse=!r.reverse,r.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)):(r.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)},r.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)}},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var i=n(60);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var i=n(60);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(t,e){var n=0,r=0;this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},t.exports=n},function(t,e){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,t.exports=n},function(t,e,n){function r(t){i.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,n=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(n);for(var r=0,o=0;n>r;r+=6,o+=4)this.indices[r+0]=o+0,this.indices[r+1]=o+1,this.indices[r+2]=o+2,this.indices[r+3]=o+0,this.indices[r+4]=o+2,this.indices[r+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var i=n(45),o=n(59),s=n(13);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("sprite",r),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},r.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var n=e._uvs;if(n){var r,i,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim){var l=e.trim;i=l.x-a*l.width,r=i+e.crop.width,s=l.y-u*l.height,o=s+e.crop.height}else r=e._frame.width*(1-a),i=e._frame.width*-a,o=e._frame.height*(1-u),s=e._frame.height*-u;var c=this.currentBatchSize*this.vertByteSize,h=t.worldTransform,p=h.a,d=h.b,f=h.c,m=h.d,v=h.tx,y=h.ty,g=this.colors,_=this.positions;this.renderer.roundPixels?(_[c]=p*i+f*s+v|0,_[c+1]=m*s+d*i+y|0,_[c+5]=p*r+f*s+v|0,_[c+6]=m*s+d*r+y|0,_[c+10]=p*r+f*o+v|0,_[c+11]=m*o+d*r+y|0,_[c+15]=p*i+f*o+v|0,_[c+16]=m*o+d*i+y|0):(_[c]=p*i+f*s+v,_[c+1]=m*s+d*i+y,_[c+5]=p*r+f*s+v,_[c+6]=m*s+d*r+y,_[c+10]=p*r+f*o+v,_[c+11]=m*o+d*r+y,_[c+15]=p*i+f*o+v,_[c+16]=m*o+d*i+y),_[c+2]=n.x0,_[c+3]=n.y0,_[c+7]=n.x1,_[c+8]=n.y1,_[c+12]=n.x2,_[c+13]=n.y2,_[c+17]=n.x3,_[c+18]=n.y3;var b=t.tint;g[c+4]=g[c+9]=g[c+14]=g[c+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},r.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,n)}for(var r,i,o,s,a=0,u=0,l=null,c=this.renderer.blendModeManager.currentBlendMode,h=null,p=!1,d=!1,f=0,m=this.currentBatchSize;m>f;f++)s=this.sprites[f],r=s._texture.baseTexture,i=s.blendMode,o=s.shader||this.shader,p=c!==i,d=h!==o,(l!==r||p||d)&&(this.renderBatch(l,a,u),u=f,a=0,l=r,p&&(c=i,this.renderer.blendModeManager.setBlendMode(c)),d&&(h=o,t=h.shaders?h.shaders[e.id]:h,t||(t=h.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,u),this.currentBatchSize=0}},r.prototype.renderBatch=function(t,e,n){if(0!==e){var r=this.renderer.gl;t._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]):this.renderer.updateTexture(t),r.drawElements(r.TRIANGLES,6*e,r.UNSIGNED_SHORT,6*n*2),this.renderer.drawCount++}},r.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},r.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},function(t,e,n){function r(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||u.RESOLUTION,this._text=null,this._style=null;var r=o.fromCanvas(this.canvas);r.trim=new s.Rectangle,i.call(this,r),this.text=t,this.style=e}var i=n(136),o=n(46),s=n(18),a=n(19),u=n(13);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.fontPropertiesCache={},r.fontPropertiesCanvas=document.createElement("canvas"),r.fontPropertiesContext=r.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(r.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),r.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,n=e.split(/(?:\r\n|\r|\n)/),r=new Array(n.length),i=0,o=this.determineFontProperties(t.font),s=0;s<n.length;s++){var a=this.context.measureText(n[s]).width;r[s]=a,i=Math.max(i,a)}var u=i+t.strokeThickness;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.width=(u+this.context.lineWidth)*this.resolution;var l=this.style.lineHeight||o.fontSize+t.strokeThickness,c=l*n.length;t.dropShadow&&(c+=t.dropShadowDistance),this.canvas.height=(c+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var h,p;if(t.dropShadow){this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<n.length;s++)h=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?h+=i-r[s]:"center"===t.align&&(h+=(i-r[s])/2),t.fill&&this.context.fillText(n[s],h+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<n.length;s++)h=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?h+=i-r[s]:"center"===t.align&&(h+=(i-r[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(n[s],h,p+this._style.padding),t.fill&&this.context.fillText(n[s],h,p+this._style.padding);this.updateTexture()},r.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},r.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),i.prototype.renderWebGL.call(this,t)},r.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),i.prototype._renderCanvas.call(this,t)},r.prototype.determineFontProperties=function(t){var e=r.fontPropertiesCache[t];if(!e){e={};var n=r.fontPropertiesCanvas,i=r.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u,l,c=i.getImageData(0,0,o,a).data,h=c.length,p=4*o,d=0,f=!1;for(u=0;s>u;u++){for(l=0;p>l;l+=4)if(255!==c[d+l]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-u,d=h-p,f=!1,u=a;u>s;u--){for(l=0;p>l;l+=4)if(255!==c[d+l]){f=!0;break}if(f)break;d-=p}e.descent=u-s,e.fontSize=e.ascent+e.descent,r.fontPropertiesCache[t]=e}return e},r.prototype.wordWrap=function(t){for(var e="",n=t.split("\n"),r=this._style.wordWrapWidth,i=0;i<n.length;i++){for(var o=r,s=n[i].split(" "),a=0;a<s.length;a++){var u=this.context.measureText(s[a]).width,l=u+this.context.measureText(" ").width;0===a||l>o?(a>0&&(e+="\n"),e+=s[a],o=r-u):(o-=l,e+=" "+s[a])}i<n.length-1&&(e+="\n")}return e},r.prototype.getBounds=function(t){return this.dirty&&this.updateText(),i.prototype.getBounds.call(this,t)},r.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},function(t,e,n){function r(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var i=n(13),o=n(31),s="tick";Object.defineProperties(r.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.TARGET_FPMS);this._maxElapsedMS=1/e}}}),r.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},r.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},r.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},t.exports=r},function(t,e,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
var r=n(289),i=new r;i.autoStart=!0,t.exports={shared:i,Ticker:r}},function(t,e){function n(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}t.exports={mixin:function(t){n(t)}}},function(t,e,n){var r=n(2),i=n(148),o=n(91),s=n(139);r.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},r.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(r,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),i.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),i.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),r}}}),r.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},r.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),r.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),r.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}}}),r.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()}},function(t,e,n){function r(t,e){i.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.dirty=!1,this.updateText()}var i=n(2);r.prototype=Object.create(i.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):r.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),r.prototype.updateText=function(){for(var t=r.fonts[this._font.name],e=new i.Point,n=null,o=[],s=0,a=0,u=[],l=0,c=this._font.size/t.size,h=-1,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(h=/(\s)/.test(this.text.charAt(p))?p:h,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else if(-1!==h&&this.maxWidth>0&&e.x*c>this.maxWidth)o.splice(h,p-h),p=h,h=-1,u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else{var f=t.chars[d];f&&(n&&f.kerning[n]&&(e.x+=f.kerning[n]),o.push({texture:f.texture,line:l,charCode:d,position:new i.Point(e.x+f.xOffset,e.y+f.yOffset)}),s=e.x+(f.texture.width+f.xOffset),e.x+=f.xAdvance,n=d)}}u.push(s),a=Math.max(a,s);var m=[];for(p=0;l>=p;p++){var v=0;"right"===this._font.align?v=a-u[p]:"center"===this._font.align&&(v=(a-u[p])/2),m.push(v)}var y=o.length,g=this.tint;for(p=0;y>p;p++){var _=this._glyphs[p];_?_.texture=o[p].texture:(_=new i.Sprite(o[p].texture),this._glyphs.push(_)),_.position.x=(o[p].position.x+m[o[p].line])*c,_.position.y=o[p].position.y*c,_.scale.x=_.scale.y=c,_.tint=g,_.parent||this.addChild(_)}for(p=y;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*c,this.textHeight=(e.y+t.lineHeight)*c},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),i.Container.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.fonts={}},function(t,e,n){function r(t){i.Sprite.call(this,t[0]),this._textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var i=n(2);r.prototype=Object.create(i.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){this._textures=t,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),r.prototype.stop=function(){this.playing&&(this.playing=!1,i.ticker.shared.remove(this.update,this))},r.prototype.play=function(){this.playing||(this.playing=!0,i.ticker.shared.add(this.update,this))},r.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t;var e=Math.floor(this._currentTime);this._texture=this._textures[e%this._textures.length]},r.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},r.prototype.update=function(t){this._currentTime+=this.animationSpeed*t;var e=Math.floor(this._currentTime);0>e?this.loop?this._texture=this._textures[this._textures.length-1+e%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||e<this._textures.length?this._texture=this._textures[e%this._textures.length]:e>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},r.prototype.destroy=function(){this.stop(),i.Sprite.prototype.destroy.call(this)},r.fromFrames=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new i.Texture.fromFrame(t[n]));return new r(e)},r.fromImages=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new i.Texture.fromImage(t[n]));return new r(e)}},function(t,e,n){function r(t,e,n){i.Sprite.call(this,t),this.tileScale=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this._width=e||100,this._height=n||100,this._uvs=new i.TextureUvs,this._canvasPattern=null,this.shader=new i.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var i=n(2),o=new i.Point;r.prototype=Object.create(i.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),r.prototype._onTextureUpdate=function(){},r.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var n=e._uvs,r=e._frame.width,i=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=n.x0,this.shader.uniforms.uFrame.value[1]=n.y0,this.shader.uniforms.uFrame.value[2]=n.x1-n.x0,this.shader.uniforms.uFrame.value[3]=n.y2-n.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(r*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(i*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=n,e._frame.width=r,e._frame.height=i}},r.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,o=t.resolution,s=e.baseTexture,a=this.tilePosition.x%(e._frame.width*this.tileScale.x),u=this.tilePosition.y%(e._frame.height*this.tileScale.y);if(!this._canvasPattern){var l=new i.CanvasBuffer(e._frame.width,e._frame.height);l.context.drawImage(s.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),n.scale(this.tileScale.x,this.tileScale.y),n.translate(a+this.anchor.x*-this._width,u+this.anchor.y*-this._height),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,n.globalCompositeOperation=t.blendModes[t.currentBlendMode]),n.fillStyle=this._canvasPattern,n.fillRect(-a,-u,this._width/this.tileScale.x,this._height/this.tileScale.y)}},r.prototype.getBounds=function(){var t,e,n,r,i=this._width,o=this._height,s=i*(1-this.anchor.x),a=i*-this.anchor.x,u=o*(1-this.anchor.y),l=o*-this.anchor.y,c=this.worldTransform,h=c.a,p=c.b,d=c.c,f=c.d,m=c.tx,v=c.ty,y=h*a+d*l+m,g=f*l+p*a+v,_=h*s+d*l+m,b=f*l+p*s+v,E=h*s+d*u+m,x=f*u+p*s+v,w=h*a+d*u+m,T=f*u+p*a+v;t=y,t=t>_?_:t,t=t>E?E:t,t=t>w?w:t,n=g,n=n>b?b:n,n=n>x?x:n,n=n>T?T:n,e=y,e=_>e?_:e,e=E>e?E:e,e=w>e?w:e,r=g,r=b>r?b:r,r=x>r?x:r,r=T>r?T:r;var S=this._bounds;return S.x=t,S.width=e-t,S.y=n,S.height=r-n,this._currentBounds=S,S},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,n=this._width,r=this._height,i=-n*this.anchor.x;return o.x>i&&o.x<i+n&&(e=-r*this.anchor.y,o.y>e&&o.y<e+r)?!0:!1},r.prototype.destroy=function(){i.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},r.fromFrame=function(t,e,n){var o=i.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new r(o,e,n)},r.fromImage=function(t,e,n,o,s){return new r(i.Texture.fromImage(t,o,s),e,n)}},function(t,e,n){var r=n(2),i=r.DisplayObject,o=new r.Matrix;i.prototype._cacheAsBitmap=!1,i.prototype._originalRenderWebGL=null,i.prototype._originalRenderCanvas=null,i.prototype._originalUpdateTransform=null,i.prototype._originalHitTest=null,i.prototype._originalDestroy=null,i.prototype._cachedSprite=null,Object.defineProperties(i.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),i.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},i.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n}var i=t.currentRenderTarget,s=t.filterManager.filterStack,a=new r.RenderTexture(t,0|e.width,0|e.height),u=o;u.tx=-e.x,u.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,u,!0,!0),t.setRenderTarget(i),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},i.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),n=t.context,i=new r.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,i.render(this,s,!0),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(i),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},i.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},i.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},function(t,e,n){var r=n(2);r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){var r=n(2);r.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new r.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/ascii.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})}).call(e,"/")},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new i.AbstractFilter}var i=n(2),o=n(63),s=n(92);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,n),this.blurXFilter.applyFilter(t,e,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,r,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){(function(e){function r(t,n){i.AbstractFilter.call(this,o.readFileSync(e+"/blurDir.vert","utf8"),o.readFileSync(e+"/blurDir.frag","utf8"),{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:n||0}}),this.defaultFilter=new i.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=n||0,this.strength=4}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(i,e,o,r);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(i,o,o,r);t.filterManager.applyFilter(i,o,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})}).call(e,"/")},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var i=n(2),o=n(63),s=n(92);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,r),this.blurYFilter.applyFilter(t,r,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/smartBlur.frag","utf8"),{delta:{type:"v2",value:{x:.1,y:0}}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/colorMatrix.frag","utf8"),{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._loadMatrix=function(t,e){e=!!e;var n=t;e&&(this._multiply(n,this.uniforms.m.value,t),n=this._colorMatrix(n)),this.uniforms.m.value=n},r.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19],t},r.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},r.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.grayscale=r.prototype.greyscale,r.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=.213,o=.715,s=.072,a=[i+n*(1-i)+r*-i,o+n*-o+r*-o,s+n*-s+r*(1-s),0,0,i+n*-i+.143*r,o+n*(1-o)+.14*r,s+n*-s+r*-.283,0,0,i+n*-i+r*-(1-i),o+n*-o+r*o,s+n*(1-s)+r*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},r.prototype.contrast=function(t,e){var n=(t||0)+1,r=-128*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.saturate=function(t,e){var n=2*(t||0)/3+1,r=(n-1)*-.5,i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.desaturate=function(t){this.saturate(-1)},r.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.colorTone=function(t,e,n,r,i){t=t||.2,e=e||.15,n=n||16770432,r=r||3375104;var o=(n>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=(r>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t,0,u,l,c,e,0,o-u,s-l,a-c,0,0];this._loadMatrix(h,i)},r.prototype.night=function(t,e){t=t||.1;var n=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/colorStep.frag","utf8"),{step:{type:"1f",value:5}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(t,n,r){i.AbstractFilter.call(this,null,o.readFileSync(e+"/convolution.frag","utf8"),{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/n,y:1/r}}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/crosshatch.frag","utf8"))}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r}).call(e,"/")},function(t,e,n){(function(e){function r(t){var n=new i.Matrix;t.renderable=!1,i.AbstractFilter.call(this,o.readFileSync(e+"/displacement.vert","utf8"),o.readFileSync(e+"/displacement.frag","utf8"),{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:n.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=n,this.scale=new i.Point(20,20)}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager;r.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var i=this.getShader(t);r.applyFilter(i,e,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/dotScreen.frag","utf8"),{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,o.readFileSync(e+"/blurYTint.vert","utf8"),o.readFileSync(e+"/blurYTint.frag","utf8"),{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n,r){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,n,r);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,r);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,n,r),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})}).call(e,"/")},function(t,e,n){function r(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new i.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=i.BLEND_MODES.MULTIPLY}var i=n(2),o=n(63),s=n(310);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,r),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,r,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return i.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=i.utils.hex2rgb(t)}},alpha:{get:function(){
return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/gray.frag","utf8"),{gray:{type:"1f",value:1}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/invert.frag","utf8"),{invert:{type:"1f",value:1}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/noise.frag","utf8"),{noise:{type:"1f",value:.5}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(t){i.AbstractFilter.call(this,null,o.readFileSync(e+"/normalMap.frag","utf8"),{displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),t.baseTexture._powerOf2=!0,t.baseTexture.hasLoaded?this.onTextureLoaded():t.baseTexture.once("loaded",this.onTextureLoaded,this)}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}},scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/pixelate.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/rgbSplit.frag","utf8"),{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/sepia.frag","utf8"),{sepia:{type:"1f",value:1}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/shockwave.frag","utf8"),{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})}).call(e,"/")},function(t,e,n){function r(){i.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var i=n(2),o=n(141),s=n(142);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(t,e,n){var r=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,r),this.tiltShiftYFilter.applyFilter(t,r,n),t.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},function(t,e,n){(function(e){function r(){i.AbstractFilter.call(this,null,o.readFileSync(e+"/twist.frag","utf8"),{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var i=n(2),o=n(11);r.prototype=Object.create(i.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){n(331);var r=t.exports=n(2);r.extras=n(91),r.filters=n(139),r.interaction=n(324),r.loaders=n(325),r.mesh=n(148),r.loader=new r.loaders.Loader,Object.assign(r,n(292)),e.PIXI=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new i.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var i=n(2),o=n(143);Object.assign(i.DisplayObject.prototype,n(144)),r.prototype.constructor=r,t.exports=r,r.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},r.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},r.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},r.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},r.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.target=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},r.prototype.mapPositionToPoint=function(t,e,n){var r=this.interactionDOMElement.getBoundingClientRect();t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)/this.resolution,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)/this.resolution},r.prototype.processInteractive=function(t,e,n,r,i){if(!e.visible)return!1;var o=e.children,s=!1;if(i=i||e.interactive,e.interactiveChildren)for(var a=o.length-1;a>=0;a--)!s&&r?s=this.processInteractive(t,o[a],n,!0,i):this.processInteractive(t,o[a],n,!1,!1);return i&&(r&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(t))),e.interactive&&n(e,s)),s},r.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},r.prototype.processMouseDown=function(t,e){var n=this.mouse.originalEvent,r=2===n.button||3===n.which;e&&(t[r?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,r?"rightdown":"mousedown",this.eventData))},r.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},r.prototype.processMouseUp=function(t,e){var n=this.mouse.originalEvent,r=2===n.button||3===n.which,i=r?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,r?"rightup":"mouseup",this.eventData),t[i]&&(t[i]=!1,this.dispatchEvent(t,r?"rightclick":"click",this.eventData))):t[i]&&(t[i]=!1,this.dispatchEvent(t,r?"rightupoutside":"mouseupoutside",this.eventData))},r.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},r.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},r.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},r.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},r.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},r.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},r.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},r.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},r.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,r=0;n>r;r++){var i=e[r],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(o)}},r.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},r.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},r.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},r.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},i.WebGLRenderer.registerPlugin("interaction",r),i.CanvasRenderer.registerPlugin("interaction",r)},function(t,e,n){/**
	 * @file        Main export of the PIXI interactions library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={InteractionData:n(143),InteractionManager:n(323),interactiveTarget:n(144)}},function(t,e,n){/**
	 * @file        Main export of the PIXI loaders library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
t.exports={Loader:n(326),bitmapFontParser:n(145),spritesheetParser:n(146),textureParser:n(147),Resource:n(57).Resource}},function(t,e,n){function r(t,e){i.call(this,t,e);for(var n=0;n<r._pixiMiddleware.length;++n)this.use(r._pixiMiddleware[n]())}var i=n(57),o=n(147),s=n(146),a=n(145);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r._pixiMiddleware=[i.middleware.parsing.blob,o,s,a],r.addPixiMiddleware=function(t){r._pixiMiddleware.push(t)};var u=i.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){function r(t,e){i.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var i=n(93),o=n(2);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,n=this.indices,r=this.colors,i=this._texture._uvs,s=new o.Point(i.x0,i.y0),a=new o.Point(i.x2-i.x0,i.y2-i.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var u,l,c,h=t.length,p=1;h>p;p++)u=t[p],l=4*p,c=p/(h-1),e[l]=c*a.x+s.x,e[l+1]=0+s.y,e[l+2]=c*a.x+s.x,e[l+3]=1*a.y+s.y,l=2*p,r[l]=1,r[l+1]=1,l=2*p,n[l]=l,n[l+1]=l+1;this.dirty=!0}},r.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,n,r,i,o,s,a=t[0],u=0,l=0,c=this.vertices,h=t.length,p=0;h>p;p++)n=t[p],r=4*p,e=p<t.length-1?t[p+1]:n,l=-(e.x-a.x),u=e.y-a.y,i=10*(1-p/(h-1)),i>1&&(i=1),o=Math.sqrt(u*u+l*l),s=this._texture.height/2,u/=o,l/=o,u*=s,l*=s,c[r]=n.x+u,c[r+1]=n.y+l,c[r+2]=n.x-u,c[r+3]=n.y-l,a=n;this.containerUpdateTransform()}}},function(t,e,n){function r(t){i.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,n=0;15e3>e;e+=6,n+=4)this.indices[e+0]=n+0,this.indices[e+1]=n+1,this.indices[e+2]=n+2,this.indices[e+3]=n+0,this.indices[e+4]=n+2,this.indices[e+5]=n+3}var i=n(2),o=n(93);r.prototype=Object.create(i.ObjectRenderer.prototype),r.prototype.constructor=r,t.exports=r,i.WebGLRenderer.registerPlugin("mesh",r),r.prototype.onContextChange=function(){},r.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,n=e.gl,r=t._texture.baseTexture,i=e.shaderManager.plugins.meshShader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),n.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform1f(i.uniforms.alpha._location,t.worldAlpha),t.dirty?(t.dirty=!1,n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,t.vertices,n.STATIC_DRAW),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.bufferData(n.ARRAY_BUFFER,t.uvs,n.STATIC_DRAW),n.vertexAttribPointer(i.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.indices,n.STATIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,t.vertices),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.vertexAttribPointer(i.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t.indices)),n.drawElements(s,t.indices.length,n.UNSIGNED_SHORT,0)},r.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},r.prototype.flush=function(){},r.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},r.prototype.destroy=function(){}},function(t,e,n){function r(t){i.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var i=n(2);r.prototype=Object.create(i.Shader.prototype),r.prototype.constructor=r,t.exports=r,i.ShaderManager.registerPlugin("meshShader",r)},function(t,e,n){Object.assign||(Object.assign=n(260))},function(t,e,n){n(330),n(332)},function(t,e){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[r[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[r[i]+"CancelAnimationFrame"]||t[r[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return 0>r&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(e,function(){return this}())},function(t,e,n){function r(t,e){if("string"==typeof t)return u.toCoord(t);if("string"==typeof e&&t instanceof a)return u.from(t,u.toCoord(e));if(e instanceof u&&t instanceof a)return u.from(t,e);if(e instanceof a&&t instanceof a)return u.between(t,e);throw new Error("Invalid parameters")}function i(t,e){return"string"==typeof t?a.fromString(t,e):new a(t,e)}function o(t,e){if("string"==typeof t){var n,r;if(n=t.match(/^([a-h])(x|#|bb|b?)/i),n&&n[0])return r="number"==typeof e?e.toString(10):"4",new l(a.fromString(n[0].toLowerCase()+r),t.substr(n[0].length))}else if(t instanceof a)return new l(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function s(t,e){return t=t instanceof a?t:h.note(t),new c(t,e)}var a=n(149),u=n(64),l=n(334),c=n(335);r.toCoord=u.toCoord,r.from=u.from,r.between=u.between,r.invert=u.invert,i.fromString=a.fromString,i.fromKey=a.fromKey,i.fromFrequency=a.fromFrequency,i.fromMIDI=a.fromMIDI;var h={note:i,chord:o,interval:r,scale:s,Note:a,Chord:l,Scale:c,Interval:u};n(336)(h),e=t.exports=h},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var n=e.split("/");if(2===n.length&&"9"!==n[1].trim()?(e=n[0],n=n[1].trim()):n=null,this.intervals=i(e).map(a.toCoord),this._voicing=this.intervals.slice(),n){var o,u,l=this.intervals;u=s.fromString(n+(t.octave()+1)),o=a.between(t,u),n=o.simple(),o=o.invert().direction("down"),this._voicing=[o];for(var c=0,h=l.length;h>c;c++)l[c].simple().equal(n)||this._voicing.push(l[c])}}var i=n(337),o=n(47),s=n(149),a=n(64);r.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,n=t.length;n>e;e++)this._voicing[e]=a.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new r(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new r(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new r(this.root.interval("m3","down"),"m"):new r(this.root.interval("m3","up"))},quality:function(){for(var t,e,n,r=this.intervals,i=0,o=r.length;o>i;i++)3===r[i].number()?t=r[i]:5===r[i].number()?e=r[i]:7===r[i].number()&&(n=r[i]);return t?(t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),n&&(n="down"===n.direction?n.invert():n,n=n.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===n?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===n?"half-diminished":"diminished":"minor":void 0):void 0},chordType:function(){var t,e,n,r,i,o=this.intervals.length;if(2===o)return"dyad";if(3===o){for(e={first:!1,third:!1,fifth:!1},r=0;o>r;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);i=e.first&&e.third&&e.fifth?"triad":"trichord"}else if(4===o){for(e={first:!1,third:!1,fifth:!1,seventh:!1},r=0;o>r;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);e.first&&e.third&&e.fifth&&e.seventh&&(i="tetrad")}return i||"unknown"},get:function(t){if("string"==typeof t&&t in o.stepNumber){var e,n,r=this.intervals;for(t=o.stepNumber[t],e=0,n=r.length;n>e;e++)if(r[e].number()===t)return this.root.interval(r[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new r(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=r},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);var n,i;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(n=e,e=s[e],!e)throw new Error("Invalid Scale")}else for(i in s)if(s.hasOwnProperty(i)&&s[i].toString()===e.toString()){n=i;break}this.name=n,this.tonic=t,this.scale=e}var i=n(47),o=n(64),s={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","A4","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"]};s.harmonicchromatic=s.chromatic,s.minor=s.aeolian,s.major=s.ionian,s.flamenco=s.doubleharmonic,r.prototype={notes:function(){for(var t=[],e=0,n=this.scale.length;n>e;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;return 8>t?["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic":void 0},get:function(t){return t="string"==typeof t&&t in i.stepNumber?i.stepNumber[t]:t,this.tonic.interval(this.scale[t-1])},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?o.toCoord(t):t,new r(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},t.exports=r},function(t,e,n){var r=n(47);t.exports=function(t){var e=t.Note,n=t.Chord,i=t.Scale;e.prototype.chord=function(t){return t=t in r.chordShort?r.chordShort[t]:t,new n(this,t)},e.prototype.scale=function(t){return new i(this,t)}}},function(t,e){var n={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){function e(t){for(var e=n[t],r=0,i=e.length;i>r;r++)u[r+1]=e[r];a=e.length}var r,i,o="quality",s=[],a=2,u=["P1","M3","P5","m7","M9","P11","M13"],l=!1;t=t.replace(/[,\s\(\)]/g,"");for(var c=0,h=t.length;h>c;c++){if(!(r=t[c]))return;if("quality"===o){var p=h>c+2?t.substr(c,3).toLowerCase():null,d=h>c+1?t.substr(c,2).toLowerCase():null;i=p in n?p:d in n?d:r in n?r:"",i&&e(i),("M"===i||"ma"===i||"maj"===i)&&(l=!0),c+=i.length-1,o="extension"}else if("extension"===o){if(r="1"===r&&t[c+1]?+t.substr(c,2):+r,isNaN(r)||6===r)6===r?(u[3]="M6",a=Math.max(3,a)):c-=1;else{if(a=(r-1)/2,a!==Math.round(a))return new Error("Invalid interval extension: "+r.toString(10));"o"===i||"dim"===i?u[3]="d7":l&&(u[3]="M7"),c+=r>=10?1:0}o="alterations"}else if("alterations"===o){var f=t.substr(c).split(/(#|b|add|maj|sus|M)/i),m=!1,v=!1;if(1===f.length)return new Error("Invalid alteration");if(0!==f[0].length)return new Error("Invalid token: '"+f[0]+"'");var y=!1;f.forEach(function(t,e,n){if(y||!t.length)return y=!1;var r=n[e+1],i=t.toLowerCase();if("M"===t||"maj"===i)"7"===r&&(y=!0),a=Math.max(3,a),u[3]="M7";else if("sus"===i){var o="P4";("2"===r||"4"===r)&&(y=!0,"2"===r&&(o="M2")),u[1]=o}else if("add"===i)"9"===r?s.push("M9"):"11"===r?s.push("P11"):"13"===r&&s.push("M13"),y=!0;else if("b"===i)m=!0;else if("#"===i)v=!0;else{var l,c,h=+t;if(isNaN(h)||String(h).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===h)return v?u[3]="A6":m?u[3]="m6":u[3]="M6",void(a=Math.max(3,a));if(c=(h-1)/2,c>a&&(a=c),5>h||7===h||c!==Math.round(c))return new Error("Invalid interval alteration: "+h);l=u[c][0],v?"d"===l?l="m":"m"===l?l="M":("M"===l||"P"===l)&&(l="A"):m&&("A"===l?l="M":"M"===l?l="m":("m"===l||"P"===l)&&(l="d")),v=m=!1,u[c]=l+h}}),o="ended"}else if("ended"===o)break}return u.slice(0,a+1).concat(s)}},function(t,e,n){var r=n(340),i=n(339);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var n,o=e[2],s=e[1],a=e[4],u=o===o.toLowerCase();if(s){if(u)throw new Error("Invalid formatting - found commas before lowercase note");n=2-s.length}else if(a)if(a.match(/^'+$/)&&u)n=3+a.length;else{if(!a.match(/^,+$/)||u)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");n=2-a.length}else n=u?3:2;var l=i.interval(e[3].toLowerCase()),c=r(o.toLowerCase());return c[0]+=n,c[0]+=l[0]-r.A4[0],c[1]+=l[1]-r.A4[1],c}},function(t,e){var n={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return n[t]},t.exports.interval=function(t){var e=n[t];return[-4*e,7*e]}},function(t,e){var n={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in n?[n[t][0],n[t][1]]:null},t.exports.notes=n,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e){var n=/^(AA|A|P|M|m|d|dd)(-?\d+)$/,r=[-4,7],i=["dd","d","P","A","AA"],o=["dd","d","m","M","A","AA"],s=[[0,0],[3,-5],[2,-3],[1,-1],[0,1],[3,-4],[2,-2],[1,0]];t.exports=function(t){var e=t.match(n);if(!e)return null;var a=e[1],u=+e[2],l=0>u?-1:1;u=0>l?-u:u;var c=u>8?u%7||7:u,h=(u-c)/7,p=s[c-1],d=p[0]<=1?i:o,f=d.indexOf(a)-2;return-3===f?null:[l*(p[0]+h+r[0]*f),l*(p[1]+r[1]*f)]},t.exports.coords=s.slice(0)},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case A.topCompositionStart:return C.compositionStart;case A.topCompositionEnd:return C.compositionEnd;case A.topCompositionUpdate:return C.compositionUpdate}}function s(t,e){return t===A.topKeyDown&&e.keyCode===E}function a(t,e){switch(t){case A.topKeyUp:return-1!==b.indexOf(e.keyCode);case A.topKeyDown:return e.keyCode!==E;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,r){var i,l;if(x?i=o(t):D?a(t,r)&&(i=C.compositionEnd):s(t,r)&&(i=C.compositionStart),!i)return null;S&&(D||i!==C.compositionStart?i===C.compositionEnd&&D&&(l=D.getData()):D=v.getPooled(e));var c=y.getPooled(i,n,r);if(l)c.data=l;else{var h=u(r);null!==h&&(c.data=h)}return f.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case A.topCompositionEnd:return u(e);case A.topKeyPress:var n=e.which;return n!==M?null:(P=!0,O);case A.topTextInput:var r=e.data;return r===O&&P?null:r;default:return null}}function h(t,e){if(D){if(t===A.topCompositionEnd||a(t,e)){var n=D.getData();return v.release(D),D=null,n}return null}switch(t){case A.topPaste:return null;case A.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case A.topCompositionEnd:return S?null:e.data;default:return null}}function p(t,e,n,r){var i;if(i=T?c(t,r):h(t,r),!i)return null;var o=g.getPooled(C.beforeInput,n,r);return o.data=i,f.accumulateTwoPhaseDispatches(o),o}var d=n(20),f=n(50),m=n(17),v=n(350),y=n(386),g=n(389),_=n(30),b=[9,13,27,32],E=229,x=m.canUseDOM&&"CompositionEvent"in window,w=null;m.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var T=m.canUseDOM&&"TextEvent"in window&&!w&&!r(),S=m.canUseDOM&&(!x||w&&w>8&&11>=w),M=32,O=String.fromCharCode(M),A=d.topLevelTypes,C={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},P=!1,D=null,R={eventTypes:C,extractEvents:function(t,e,n,r){return[l(t,e,n,r),p(t,e,n,r)]}};t.exports=R},function(t,e,n){"use strict";function r(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function i(t){var e=w.getPooled(A.change,P,t);b.accumulateTwoPhaseDispatches(e),x.batchedUpdates(o,e)}function o(t){_.enqueueEvents(t),_.processEventQueue()}function s(t,e){C=t,P=e,C.attachEvent("onchange",i)}function a(){C&&(C.detachEvent("onchange",i),C=null,P=null)}function u(t,e,n){return t===O.topChange?n:void 0}function l(t,e,n){t===O.topFocus?(a(),s(e,n)):t===O.topBlur&&a()}function c(t,e){C=t,P=e,D=t.value,R=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(C,"value",k),C.attachEvent("onpropertychange",p)}function h(){C&&(delete C.value,C.detachEvent("onpropertychange",p),C=null,P=null,D=null,R=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==D&&(D=e,i(t))}}function d(t,e,n){return t===O.topInput?n:void 0}function f(t,e,n){t===O.topFocus?(h(),c(e,n)):t===O.topBlur&&h()}function m(t,e,n){return t!==O.topSelectionChange&&t!==O.topKeyUp&&t!==O.topKeyDown||!C||C.value===D?void 0:(D=C.value,P)}function v(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function y(t,e,n){return t===O.topClick?n:void 0}var g=n(20),_=n(49),b=n(50),E=n(17),x=n(23),w=n(33),T=n(112),S=n(172),M=n(30),O=g.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},C=null,P=null,D=null,R=null,N=!1;E.canUseDOM&&(N=T("change")&&(!("documentMode"in document)||document.documentMode>8));var F=!1;E.canUseDOM&&(F=T("input")&&(!("documentMode"in document)||document.documentMode>9));var k={get:function(){return R.get.call(this)},set:function(t){D=""+t,R.set.call(this,t)}},I={eventTypes:A,extractEvents:function(t,e,n,i){var o,s;if(r(e)?N?o=u:s=l:S(e)?F?o=d:(o=m,s=f):v(e)&&(o=y),o){var a=o(t,e,n);if(a){var c=w.getPooled(A.change,a,i);return b.accumulateTwoPhaseDispatches(c),c}}s&&s(t,e,n)}};t.exports=I},function(t,e){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var i=n(346),o=n(159),s=n(414),a=n(3),u={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(t,n){for(var u,l=null,c=null,h=0;h<t.length;h++)if(u=t[h],u.type===o.MOVE_EXISTING||u.type===o.REMOVE_NODE){var p=u.fromIndex,d=u.parentNode.childNodes[p],f=u.parentID;"production"!==e.env.NODE_ENV?a(d,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,f):a(d),l=l||{},l[f]=l[f]||[],l[f][p]=d,c=c||[],c.push(d)}var m=i.dangerouslyRenderMarkup(n);if(c)for(var v=0;v<c.length;v++)c[v].parentNode.removeChild(c[v]);for(var y=0;y<t.length;y++)switch(u=t[y],u.type){case o.INSERT_MARKUP:r(u.parentNode,m[u.markupIndex],u.toIndex);break;case o.MOVE_EXISTING:r(u.parentNode,l[u.parentID][u.fromIndex],u.toIndex);break;case o.TEXT_CONTENT:s(u.parentNode,u.textContent);break;case o.REMOVE_NODE:}}};t.exports=u}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return t.substring(1,t.indexOf(" "))}var i=n(17),o=n(398),s=n(29),a=n(169),u=n(3),l=/^(<[^ \/>]+)/,c="data-danger-index",h={dangerouslyRenderMarkup:function(t){"production"!==e.env.NODE_ENV?u(i.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(i.canUseDOM);for(var n,h={},p=0;p<t.length;p++)"production"!==e.env.NODE_ENV?u(t[p],"dangerouslyRenderMarkup(...): Missing markup."):u(t[p]),n=r(t[p]),n=a(n)?n:"*",h[n]=h[n]||[],h[n][p]=t[p];var d=[],f=0;for(n in h)if(h.hasOwnProperty(n)){var m,v=h[n];for(m in v)if(v.hasOwnProperty(m)){var y=v[m];v[m]=y.replace(l,"$1 "+c+'="'+m+'" ')}for(var g=o(v.join(""),s),_=0;_<g.length;++_){var b=g[_];b.hasAttribute&&b.hasAttribute(c)?(m=+b.getAttribute(c),b.removeAttribute(c),"production"!==e.env.NODE_ENV?u(!d.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."):u(!d.hasOwnProperty(m)),d[m]=b,f+=1):"production"!==e.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",b)}}return"production"!==e.env.NODE_ENV?u(f===d.length,"Danger: Did not assign to every index of resultList."):u(f===d.length),"production"!==e.env.NODE_ENV?u(d.length===t.length,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,d.length):u(d.length===t.length),d},dangerouslyReplaceNodeWithMarkup:function(t,n){"production"!==e.env.NODE_ENV?u(i.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(i.canUseDOM),"production"!==e.env.NODE_ENV?u(n,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):u(n),"production"!==e.env.NODE_ENV?u("html"!==t.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):u("html"!==t.tagName.toLowerCase());var r=o(n,s)[0];t.parentNode.replaceChild(r,t)}};t.exports=h}).call(e,n(1))},function(t,e,n){"use strict";var r=n(30),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=i},function(t,e,n){"use strict";var r=n(20),i=n(50),o=n(69),s=n(22),a=n(30),u=r.topLevelTypes,l=s.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(t,e,n,r){if(t===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var a;if(e.window===e)a=e;else{var p=e.ownerDocument;a=p?p.defaultView||p.parentWindow:window}var d,f;if(t===u.topMouseOut?(d=e,f=l(r.relatedTarget||r.toElement)||a):(d=a,f=e),d===f)return null;var m=d?s.getID(d):"",v=f?s.getID(f):"",y=o.getPooled(c.mouseLeave,m,r);y.type="mouseleave",y.target=d,y.relatedTarget=f;var g=o.getPooled(c.mouseEnter,v,r);return g.type="mouseenter",g.target=f,g.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,g,m,v),h[0]=y,h[1]=g,h}};t.exports=p},function(t,e,n){(function(e){var r=n(29),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,n,i){return t.addEventListener?(t.addEventListener(n,i,!0),{remove:function(){t.removeEventListener(n,i,!0)}}):("production"!==e.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=n(24),o=n(12),s=n(170);o(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;r>t&&n[t]===i[t];t++);var s=r-t;for(e=1;s>=e&&n[r-e]===i[o-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=i.slice(t,a),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r,i=n(32),o=n(17),s=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,u=i.injection.HAS_BOOLEAN_VALUE,l=i.injection.HAS_SIDE_EFFECTS,c=i.injection.HAS_NUMERIC_VALUE,h=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|u,allowTransparency:s,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:s,checked:a|u,classID:s,className:r?s:a,cols:s|h,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|u,coords:null,crossOrigin:null,data:null,dateTime:s,defer:u,dir:null,disabled:s|u,download:p,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:u,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|u,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|u,muted:a|u,name:null,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|u,rel:null,required:u,role:s,rows:s|h,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:s|u,selected:a|u,shape:null,size:s|h,sizes:s,span:h,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|l,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|u,itemType:s,itemID:s,itemRef:s,property:null,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";var r=n(20),i=n(29),o=r.topLevelTypes,s={eventTypes:null,extractEvents:function(t,e,n,r){if(t===o.topTouchStart){var s=r.target;s&&!s.onclick&&(s.onclick=i)}}};t.exports=s},function(t,e,n){(function(e){"use strict";var r=n(95),i=n(355),o=n(154),s=n(21),a=n(100),u=n(26),l=n(14),c=n(51),h=n(357),p=n(156),d=n(368),f=n(41),m=n(22),v=n(28),y=n(160),g=n(43),_=n(379),b=n(12),E=n(165),x=n(410);d.inject();var w=l.createElement,T=l.createFactory,S=l.cloneElement;"production"!==e.env.NODE_ENV&&(w=c.createElement,T=c.createFactory,S=c.cloneElement);var M=v.measure("React","render",m.render),O={Children:{map:i.map,forEach:i.forEach,count:i.count,only:x},Component:o,DOM:h,PropTypes:y,initializeTouchEvents:function(t){r.useTouchEvents=t},createClass:s.createClass,createElement:w,cloneElement:S,createFactory:T,createMixin:function(t){return t},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:E,render:M,renderToString:_.renderToString,renderToStaticMarkup:_.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:l.isValidElement,withContext:a.withContext,__spread:b};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:f,Mount:m,Reconciler:g,TextComponent:p}),"production"!==e.env.NODE_ENV){var A=n(17);if(A.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var C=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],P=0;P<C.length;P++)if(!C[P]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");
break}}}O.version="0.13.3",t.exports=O}).call(e,n(1))},function(t,e,n){"use strict";var r=n(43),i=n(400),o=n(111),s=n(114),a={instantiateChildren:function(t,e,n){var r=i(t);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=o(a,null);r[s]=u}return r},updateChildren:function(t,e,n,a){var u=i(e);if(!u&&!t)return null;var l;for(l in u)if(u.hasOwnProperty(l)){var c=t&&t[l],h=c&&c._currentElement,p=u[l];if(s(h,p))r.receiveComponent(c,p,n,a),u[l]=c;else{c&&r.unmountComponent(c,l);var d=o(p,null);u[l]=d}}for(l in t)!t.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||r.unmountComponent(t[l]);return u},unmountChildren:function(t){for(var e in t){var n=t[e];r.unmountComponent(n)}}};t.exports=a},function(t,e,n){(function(e){"use strict";function r(t,e){this.forEachFunction=t,this.forEachContext=e}function i(t,e,n,r){var i=t;i.forEachFunction.call(i.forEachContext,e,r)}function o(t,e,n){if(null==t)return t;var o=r.getPooled(e,n);d(t,i,o),r.release(o)}function s(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function a(t,n,r,i){var o=t,s=o.mapResult,a=!s.hasOwnProperty(r);if("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(a,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),a){var u=o.mapFunction.call(o.mapContext,n,i);s[r]=u}}function u(t,e,n){if(null==t)return t;var r={},i=s.getPooled(r,e,n);return d(t,a,i),s.release(i),p.create(r)}function l(t,e,n,r){return null}function c(t,e){return d(t,l,null)}var h=n(24),p=n(66),d=n(173),f=n(15),m=h.twoArgumentPooler,v=h.threeArgumentPooler;h.addPoolingTo(r,m),h.addPoolingTo(s,v);var y={forEach:o,map:u,count:c};t.exports=y}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=n(99),o=n(100),s=n(26),a=n(14),u=n(51),l=n(42),c=n(103),h=n(67),p=n(28),d=n(104),f=n(68),m=n(43),v=n(23),y=n(12),g=n(71),_=n(3),b=n(114),E=n(15),x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,n,r){this._context=r,this._mountOrder=x++,this._rootNodeID=t;var i=this._processProps(this._currentElement.props),o=this._processContext(this._currentElement._context),s=h.getComponentClassForElement(this._currentElement),a=new s(i,o);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(null!=a.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",s.displayName||s.name||"Component"):null),a.props=i,a.context=o,a.refs=g,this._instance=a,l.set(a,this),"production"!==e.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,r),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(!a.getInitialState||a.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!a.getDefaultProps||a.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!a.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!a.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E("function"!=typeof a.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var u=a.state;void 0===u&&(a.state=u=null),"production"!==e.env.NODE_ENV?_("object"==typeof u&&!Array.isArray(u),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):_("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,d,f=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),p=this._getValidatedChildContext(r),d=this._renderValidatedComponent(p)}finally{c.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(d,this._currentElement.type);var v=m.mountComponent(this._renderedComponent,t,n,this._mergeChildContext(r,p));return a.componentDidMount&&n.getReactMountReady().enqueue(a.componentDidMount,a),v},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{c.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,l.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,y({},n.props,t)),v.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return g;var n=this._currentElement.type.contextTypes;if(!n)return g;e={};for(var r in n)e[r]=t[r];return e},_processContext:function(t){var n=this._maskContext(t);if("production"!==e.env.NODE_ENV){var r=h.getComponentClassForElement(this._currentElement);r.contextTypes&&this._checkPropTypes(r.contextTypes,n,d.context)}return n},_getValidatedChildContext:function(t){var n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"production"!==e.env.NODE_ENV?_("object"==typeof n.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):_("object"==typeof n.constructor.childContextTypes),"production"!==e.env.NODE_ENV&&this._checkPropTypes(n.constructor.childContextTypes,r,d.childContext);for(var i in r)"production"!==e.env.NODE_ENV?_(i in n.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i):_(i in n.constructor.childContextTypes);return r}return null},_mergeChildContext:function(t,e){return e?y({},t,e):t},_processProps:function(t){if("production"!==e.env.NODE_ENV){var n=h.getComponentClassForElement(this._currentElement);n.propTypes&&this._checkPropTypes(n.propTypes,t,d.prop)}return t},_checkPropTypes:function(t,n,i){var o=this.getName();for(var s in t)if(t.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?_("function"==typeof t[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",f[i],s):_("function"==typeof t[s]),a=t[s](n,s,o,i)}catch(u){a=u}if(a instanceof Error){var l=r(this);i===d.prop?"production"!==e.env.NODE_ENV?E(!1,"Failed Composite propType: %s%s",a.message,l):null:"production"!==e.env.NODE_ENV?E(!1,"Failed Context Types: %s%s",a.message,l):null}}},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==e.env.NODE_ENV&&u.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(t,n){t=this._maskContext(t),n=this._maskContext(n);for(var r=Object.keys(n).sort(),i=this.getName()||"ReactCompositeComponent",o=0;o<r.length;o++){var s=r[o];"production"!==e.env.NODE_ENV?E(t[s]===n[s],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",t[s],n[s],s,i):null}},updateComponent:function(t,n,r,i,o){var s=this._instance,a=s.context,u=s.props;n!==r&&(a=this._processContext(r._context),u=this._processProps(r.props),"production"!==e.env.NODE_ENV&&null!=o&&this._warnIfContextsDiffer(r._context,o),s.componentWillReceiveProps&&s.componentWillReceiveProps(u,a));var l=this._processPendingState(u,a),c=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(u,l,a);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E("undefined"!=typeof c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,u,l,a,t,o)):(this._currentElement=r,this._context=o,s.props=u,s.state=l,s.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=y({},i?r[0]:n.state),s=i?1:0;s<r.length;s++){var a=r[s];y(o,"function"==typeof a?a.call(n,o,t,e):a)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var s=this._instance,a=s.props,u=s.state,l=s.context;s.componentWillUpdate&&s.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,s.props=e,s.state=n,s.context=r,this._updateRenderedComponent(i,o),s.componentDidUpdate&&i.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,u,l),s)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._getValidatedChildContext(),o=this._renderValidatedComponent(i);if(b(r,o))m.receiveComponent(n,o,t,this._mergeChildContext(e,i));else{var s=this._rootNodeID,a=n._rootNodeID;m.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var u=m.mountComponent(this._renderedComponent,s,t,this._mergeChildContext(e,i));this._replaceNodeWithMarkupByID(a,u)}},_replaceNodeWithMarkupByID:function(t,e){i.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,n=t.render();return"production"!==e.env.NODE_ENV&&"undefined"==typeof n&&t.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(t){var n,r=o.current;o.current=this._mergeChildContext(this._currentElement._context,t),s.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=r,s.current=null}return"production"!==e.env.NODE_ENV?_(null===n||n===!1||a.isValidElement(n),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):_(null===n||n===!1||a.isValidElement(n)),n},attachRef:function(t,e){var n=this.getPublicInstance(),r=n.refs===g?n.refs={}:n.refs;r[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var T={Mixin:w};t.exports=T}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?o.createFactory(t):i.createFactory(t)}var i=n(14),o=n(51),s=n(408),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a}).call(e,n(1))},function(t,e,n){"use strict";var r=n(65),i=n(25),o=n(21),s=n(14),a=n(53),u=s.createFactory("button"),l=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,i],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&l[e]||(t[e]=this.props[e]);return u(t,this.props.children)}});t.exports=c},function(t,e,n){"use strict";var r=n(20),i=n(97),o=n(25),s=n(21),a=n(14),u=a.createFactory("form"),l=s.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=l},function(t,e,n){"use strict";var r=n(20),i=n(97),o=n(25),s=n(21),a=n(14),u=a.createFactory("iframe"),l=s.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=l},function(t,e,n){"use strict";var r=n(20),i=n(97),o=n(25),s=n(21),a=n(14),u=a.createFactory("img"),l=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=l},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=n(65),o=n(48),s=n(96),a=n(25),u=n(21),l=n(14),c=n(22),h=n(23),p=n(12),d=n(3),f=l.createFactory("input"),m={},v=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=p({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=s.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=s.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,f(t,this.props.children)},componentDidMount:function(){var t=c.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=c.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var r=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(r,"checked",this.props.checked||!1);var i=s.getValue(this);null!=i&&o.setValueForProperty(r,"value",""+i)},_handleChange:function(t){var n,i=s.getOnChange(this);i&&(n=i.call(this,t)),h.asap(r,this);var o=this.props.name;if("radio"===this.props.type&&null!=o){for(var a=this.getDOMNode(),u=a;u.parentNode;)u=u.parentNode;for(var l=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),p=0,f=l.length;f>p;p++){var v=l[p];if(v!==a&&v.form===a.form){var y=c.getID(v);"production"!==e.env.NODE_ENV?d(y,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):d(y);var g=m[y];"production"!==e.env.NODE_ENV?d(g,"ReactDOMInput: Unknown radio button ID %s.",y):d(g),h.asap(r,g)}}}return n}});t.exports=v}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(25),i=n(21),o=n(14),s=n(15),a=o.createFactory("option"),u=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return a(this.props,this.props.children)}});t.exports=u}).call(e,n(1))},function(t,e,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=a.getValue(this);null!=t&&this.isMounted()&&o(this,t)}}function i(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(t,e){var n,r,i,o=t.getDOMNode().options;if(t.props.multiple){for(n={},r=0,i=e.length;i>r;r++)n[""+e[r]]=!0;for(r=0,i=o.length;i>r;r++){var s=n.hasOwnProperty(o[r].value);o[r].selected!==s&&(o[r].selected=s)}}else{for(n=""+e,r=0,i=o.length;i>r;r++)if(o[r].value===n)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}var s=n(65),a=n(96),u=n(25),l=n(21),c=n(14),h=n(23),p=n(12),d=c.createFactory("select"),f=l.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[s,a.Mixin,u],propTypes:{defaultValue:i,value:i},render:function(){var t=p({},this.props);return t.onChange=this._handleChange,t.value=null,d(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=a.getValue(this);null!=t?o(this,t):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=a.getValue(this);null!=e?(this._pendingUpdate=!1,o(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=a.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,h.asap(r,this),e}});t.exports=f},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,s=o+r;return{start:o,end:s}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0),u=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=u?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(t),c.setEnd(a.startContainer,a.startOffset);var h=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p=h?0:c.toString().length,d=p+l,f=document.createRange();f.setStart(n,i),f.setEnd(o,s);var m=f.collapsed;return{start:m?d:p,end:m?p:d}}function s(t,e){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),r=t[c()].length,i=Math.min(e.start,r),o="undefined"==typeof e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var s=o;o=i,i=s}var a=l(t,i),u=l(t,o);if(a&&u){var h=document.createRange();h.setStart(a.node,a.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=n(17),l=n(402),c=n(170),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?i:o,setOffsets:h?s:a};t.exports=p},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=n(65),o=n(48),s=n(96),a=n(25),u=n(21),l=n(14),c=n(23),h=n(12),p=n(3),d=n(15),f=l.createFactory("textarea"),m=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue,n=this.props.children;null!=n&&("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?d(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==e.env.NODE_ENV?p(null==t,"If you supply `defaultValue` on a <textarea>, do not pass children."):p(null==t),Array.isArray(n)&&("production"!==e.env.NODE_ENV?p(n.length<=1,"<textarea> can only have at most one child."):p(n.length<=1),n=n[0]),t=""+n),null==t&&(t="");var r=s.getValue(this);return{initialValue:""+(null!=r?r:t)}},render:function(){var t=h({},this.props);return"production"!==e.env.NODE_ENV?p(null==t.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):p(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,f(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var r=s.getValue(this);if(null!=r){var i=this.getDOMNode();o.setValueForProperty(i,"value",""+r)}},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),c.asap(r,this),e}});t.exports=m}).call(e,n(1))},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(23),o=n(70),s=n(12),a=n(29),u={initialize:a,close:function(){p.isBatchingUpdates=!1}},l={initialize:a,close:i.flushBatchedUpdates.bind(i)},c=[l,u];s(r.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var h=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?t(e,n,r,i):h.perform(t,null,e,n,r,i)}};t.exports=p},function(t,e,n){(function(e){"use strict";function r(t){return f.createClass({tagName:t.toUpperCase(),render:function(){return new A(t,null,null,null,null,this.props)}})}function i(){if(P.EventEmitter.injectReactEventListener(C),P.EventPluginHub.injectEventPluginOrder(u),P.EventPluginHub.injectInstanceHandle(D),P.EventPluginHub.injectMount(R),P.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:l,ChangeEventPlugin:s,MobileSafariClickEventPlugin:p,SelectEventPlugin:F,BeforeInputEventPlugin:o}),P.NativeComponent.injectGenericComponentClass(y),P.NativeComponent.injectTextComponentClass(O),P.NativeComponent.injectAutoWrapper(r),P.Class.injectMixin(d),P.NativeComponent.injectComponentClasses({button:g,form:_,iframe:x,img:b,input:w,option:T,select:S,textarea:M,html:B("html"),head:B("head"),body:B("body")}),P.DOMProperty.injectDOMPropertyConfig(h),P.DOMProperty.injectDOMPropertyConfig(L),P.EmptyComponent.injectEmptyComponent("noscript"),P.Updates.injectReconcileTransaction(N),P.Updates.injectBatchingStrategy(v),P.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:k.createReactRootIndex),P.Component.injectEnvironment(m),P.DOMComponent.injectIDOperations(E),"production"!==e.env.NODE_ENV){var t=c.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=n(369);i.start()}}}var o=n(342),s=n(343),a=n(344),u=n(347),l=n(348),c=n(17),h=n(351),p=n(352),d=n(25),f=n(21),m=n(98),v=n(367),y=n(101),g=n(358),_=n(359),b=n(361),E=n(155),x=n(360),w=n(362),T=n(363),S=n(364),M=n(366),O=n(156),A=n(14),C=n(373),P=n(374),D=n(41),R=n(22),N=n(377),F=n(382),k=n(383),I=n(384),L=n(381),B=n(397);t.exports={inject:i}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return Math.floor(100*t)/100}function i(t,e,n){t[e]=(t[e]||0)+n}var o=n(32),s=n(370),a=n(22),u=n(28),l=n(412),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||u.injection.injectMeasure(c.measure),c._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(t){t=t||c._allMeasurements;var e=s.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":r(t.inclusive),"Exclusive mount time (ms)":r(t.exclusive),"Exclusive render time (ms)":r(t.render),"Mount time per instance (ms)":r(t.exclusive/t.count),"Render time per instance (ms)":r(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||c._allMeasurements;var e=s.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":r(t.time),Instances:t.count}})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=s.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(t)),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||c._allMeasurements;var e=s.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[o.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,r){var i=c._allMeasurements[c._allMeasurements.length-1].writes;i[t]=i[t]||[],i[t].push({type:e,time:n,args:r})},measure:function(t,e,n){return function(){for(var r=[],o=0,s=arguments.length;s>o;o++)r.push(arguments[o]);var u,h,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=l(),h=n.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-p,h;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(p=l(),h=n.apply(this,r),u=l()-p,"_mountImageIntoNode"===e){var d=a.getID(r[1]);c._recordWrite(d,e,u,r[0])}else"dangerouslyProcessChildrenUpdates"===e?r[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=r[1][t.markupIndex]),c._recordWrite(t.parentID,t.type,u,e)}):c._recordWrite(r[0],e,u,Array.prototype.slice.call(r,1));return h}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var f="mountComponent"===e?r[0]:this._rootNodeID,m="_renderValidatedComponent"===e,v="mountComponent"===e,y=c._mountStack,g=c._allMeasurements[c._allMeasurements.length-1];if(m?i(g.counts,f,1):v&&y.push(0),p=l(),h=n.apply(this,r),u=l()-p,m)i(g.render,f,u);else if(v){var _=y.pop();y[y.length-1]+=u,i(g.exclusive,f,u-_),i(g.inclusive,f,u)}else i(g.inclusive,f,u);return g.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=c},function(t,e,n){function r(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r.totalTime}return e}function i(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n];for(r in i.writes)i.writes[r].forEach(function(t){e.push({id:r,type:c[t.type]||t.type,args:t.args})})}return e}function o(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r],o=u({},i.exclusive,i.inclusive);for(var s in o)e=i.displayNames[s].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(n[e].render+=i.render[s]),i.exclusive[s]&&(n[e].exclusive+=i.exclusive[s]),i.inclusive[s]&&(n[e].inclusive+=i.inclusive[s]),i.counts[s]&&(n[e].count+=i.counts[s])}var a=[];for(e in n)n[e].exclusive>=l&&a.push(n[e]);return a.sort(function(t,e){return e.exclusive-t.exclusive}),a}function s(t,e){for(var n,r={},i=0;i<t.length;i++){var o,s=t[i],c=u({},s.exclusive,s.inclusive);e&&(o=a(s));for(var h in c)if(!e||o[h]){var p=s.displayNames[h];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[h]&&(r[n].time+=s.inclusive[h]),s.counts[h]&&(r[n].count+=s.counts[h])}}var d=[];for(n in r)r[n].time>=l&&d.push(r[n]);return d.sort(function(t,e){return e.time-t.time}),d}function a(t){var e={},n=Object.keys(t.writes),r=u({},t.exclusive,t.inclusive);for(var i in r){for(var o=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(i)){o=!0;break}!o&&t.counts[i]>0&&(e[i]=!0)}return e}var u=n(12),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},h={getExclusiveSummary:o,getInclusiveSummary:s,getDOMSummary:i,getTotalTime:r};t.exports=h},function(t,e){"use strict";var n={guard:function(t,e){return t}};t.exports=n},function(t,e,n){"use strict";function r(t){i.enqueueEvents(t),i.processEventQueue()}var i=n(49),o={handleTopLevel:function(t,e,n,o){var s=i.extractEvents(t,e,n,o);r(s)}};t.exports=o},function(t,e,n){"use strict";function r(t){var e=h.getID(t),n=c.getReactRootIDFromNodeID(e),r=h.findReactContainerForID(n),i=h.getFirstReactDOM(r);return i}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){for(var e=h.getFirstReactDOM(f(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=r(n);for(var i=0,o=t.ancestors.length;o>i;i++){e=t.ancestors[i];var s=h.getID(e)||"";v._handleTopLevel(t.topLevelType,e,s,t.nativeEvent)}}function s(t){var e=m(window);t(e)}var a=n(349),u=n(17),l=n(24),c=n(41),h=n(22),p=n(23),d=n(12),f=n(110),m=n(404);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){v._handleTopLevel=t},setEnabled:function(t){v._enabled=!!t},isEnabled:function(){return v._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?a.listen(r,e,v.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?a.capture(r,e,v.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);a.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(v._enabled){var n=i.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=v},function(t,e,n){"use strict";var r=n(32),i=n(49),o=n(99),s=n(21),a=n(102),u=n(40),l=n(67),c=n(101),h=n(28),p=n(162),d=n(23),f={
Component:o.injection,Class:s.injection,DOMComponent:c.injection,DOMProperty:r.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:h.injection,RootIndex:p.injection,Updates:d.injection};t.exports=f},function(t,e,n){"use strict";function r(t,e,n){f.push({parentID:t,parentNode:null,type:c.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function i(t,e,n){f.push({parentID:t,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function o(t,e){f.push({parentID:t,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function s(t,e){f.push({parentID:t,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function a(){f.length&&(l.processChildrenUpdates(f,m),u())}function u(){f.length=0,m.length=0}var l=n(99),c=n(159),h=n(43),p=n(354),d=0,f=[],m=[],v={Mixin:{mountChildren:function(t,e,n){var r=p.instantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=this._rootNodeID+s,l=h.mountComponent(a,u,e,n);a._mountIndex=o,i.push(l),o++}return i},updateTextContent:function(t){d++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(t),e=!1}finally{d--,d||(e?u():a())}},updateChildren:function(t,e,n){d++;var r=!0;try{this._updateChildren(t,e,n),r=!1}finally{d--,d||(r?u():a())}},_updateChildren:function(t,e,n){var r=this._renderedChildren,i=p.updateChildren(r,t,e,n);if(this._renderedChildren=i,i||r){var o,s=0,a=0;for(o in i)if(i.hasOwnProperty(o)){var u=r&&r[o],l=i[o];u===l?(this.moveChild(u,a,s),s=Math.max(u._mountIndex,s),u._mountIndex=a):(u&&(s=Math.max(u._mountIndex,s),this._unmountChildByName(u,o)),this._mountChildByNameAtIndex(l,o,a,e,n)),a++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChildByName(r[o],o)}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&i(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){r(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,r,i){var o=this._rootNodeID+e,s=h.mountComponent(t,o,r,i);t._mountIndex=n,this.createChild(t,s)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};t.exports=v},function(t,e,n){(function(e){"use strict";var r=n(3),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,n,o){"production"!==e.env.NODE_ENV?r(i.isValidOwner(o),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(i.isValidOwner(o)),o.attachRef(n,t)},removeComponentAsRefFrom:function(t,n,o){"production"!==e.env.NODE_ENV?r(i.isValidOwner(o),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(i.isValidOwner(o)),o.getPublicInstance().refs[n]===t.getPublicInstance()&&o.detachRef(n)}};t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=u.getPooled()}var i=n(94),o=n(24),s=n(40),a=n(157),u=n(161),l=n(70),c=n(12),h={initialize:a.getSelectionInformation,close:a.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,h,p,d],v={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),this.putListenerQueue=null}};c(r.prototype,l.Mixin,v),o.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(376),s={};s.attachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},s.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){var n=e.ref;null!=n&&i(n,t,e._owner)},t.exports=s},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?h(o.isValidElement(t),"renderToString(): You must pass a valid ReactElement."):h(o.isValidElement(t));var n;try{var r=s.createReactRootID();return n=u.getPooled(!1),n.perform(function(){var e=c(t,null),i=e.mountComponent(r,n,l);return a.addChecksumToMarkup(i)},null)}finally{u.release(n)}}function i(t){"production"!==e.env.NODE_ENV?h(o.isValidElement(t),"renderToStaticMarkup(): You must pass a valid ReactElement."):h(o.isValidElement(t));var n;try{var r=s.createReactRootID();return n=u.getPooled(!0),n.perform(function(){var e=c(t,null);return e.mountComponent(r,n,l)},null)}finally{u.release(n)}}var o=n(14),s=n(41),a=n(158),u=n(380),l=n(71),c=n(111),h=n(3);t.exports={renderToString:r,renderToStaticMarkup:i}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.putListenerQueue=s.getPooled()}var i=n(24),o=n(94),s=n(161),a=n(70),u=n(12),l=n(29),c={initialize:function(){this.reactMountReady.reset()},close:l},h={initialize:function(){this.putListenerQueue.reset()},close:l},p=[h,c],d={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,a.Mixin,d),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r=n(32),i=r.injection.MUST_USE_ATTRIBUTE,o={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=o},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&a.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t){if(g||null==m||m!==l())return null;var e=r(m);if(!y||!p(y,e)){y=e;var n=u.getPooled(f.select,v,t);return n.type="select",n.target=m,s.accumulateTwoPhaseDispatches(n),n}}var o=n(20),s=n(50),a=n(157),u=n(33),l=n(167),c=n(172),h=n(30),p=n(415),d=o.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,v=null,y=null,g=!1,_={eventTypes:f,extractEvents:function(t,e,n,r){switch(t){case d.topFocus:(c(e)||"true"===e.contentEditable)&&(m=e,v=n,y=null);break;case d.topBlur:m=null,v=null,y=null;break;case d.topMouseDown:g=!0;break;case d.topContextMenu:case d.topMouseUp:return g=!1,i(r);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return i(r)}}};t.exports=_},function(t,e){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(20),i=n(95),o=n(50),s=n(385),a=n(33),u=n(388),l=n(390),c=n(69),h=n(387),p=n(391),d=n(52),f=n(392),m=n(108),v=n(3),y=n(30),g=n(15),_=r.topLevelTypes,b={blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},E={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var x in E)E[x].dependencies=[x];var w={eventTypes:b,executeDispatch:function(t,n,r){var o=i.executeDispatch(t,n,r);"production"!==e.env.NODE_ENV?g("boolean"!=typeof o,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,o===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,n,r,i){var y=E[t];if(!y)return null;var g;switch(t){case _.topInput:case _.topLoad:case _.topError:case _.topReset:case _.topSubmit:g=a;break;case _.topKeyPress:if(0===m(i))return null;case _.topKeyDown:case _.topKeyUp:g=l;break;case _.topBlur:case _.topFocus:g=u;break;case _.topClick:if(2===i.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:g=c;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:g=h;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:g=p;break;case _.topScroll:g=d;break;case _.topWheel:g=f;break;case _.topCopy:case _.topCut:case _.topPaste:g=s}"production"!==e.env.NODE_ENV?v(g,"SimpleEventPlugin: Unhandled event type, `%s`.",t):v(g);var b=g.getPooled(y,r,i);return o.accumulateTwoPhaseDispatches(b),b}};t.exports=w}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(33),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(33),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(69),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(52),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(33),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(52),o=n(108),s=n(401),a=n(109),u={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,u),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(52),o=n(109),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(69),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},function(t,e){"use strict";function n(t){for(var e=1,n=0,i=0;i<t.length;i++)e=(e+t.charCodeAt(i))%r,n=(n+e)%r;return e|n<<16}var r=65521;t.exports=n},function(t,e){function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function r(t){return i(t.replace(o,"ms-"))}var i=n(394),o=/^-ms-/;t.exports=r},function(t,e,n){function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return r(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=n(416);t.exports=i},function(t,e,n){(function(e){"use strict";function r(t){var n=o.createFactory(t),r=i.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){"production"!==e.env.NODE_ENV?s(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):s(!1)},render:function(){return n(this.props)}});return r}var i=n(21),o=n(14),s=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){function r(t){var e=t.match(c);return e&&e[1].toLowerCase()}function i(t,n){var i=l;"production"!==e.env.NODE_ENV?u(!!l,"createNodesFromMarkup dummy not initialized"):u(!!l);var o=r(t),c=o&&a(o);if(c){i.innerHTML=c[1]+t+c[2];for(var h=c[0];h--;)i=i.lastChild}else i.innerHTML=t;var p=i.getElementsByTagName("script");p.length&&("production"!==e.env.NODE_ENV?u(n,"createNodesFromMarkup(...): Unexpected <script> element rendered."):u(n),s(p).forEach(n));for(var d=s(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return d}var o=n(17),s=n(396),a=n(169),u=n(3),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var r=isNaN(e);return r||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=n(151),o=i.isUnitlessNumber;t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,n,r){var i=t,o=!i.hasOwnProperty(r);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),o&&null!=n&&(i[r]=n)}function i(t){if(null==t)return t;var e={};return o(t,r,e),e}var o=n(173),s=n(15);t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var i=n(108),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var i=n(t),o=0,s=0;i;){if(3===i.nodeType){if(s=o+i.textContent.length,e>=o&&s>=e)return{node:i,offset:e-o};o=s}i=n(r(i))}}t.exports=i},function(t,e){"use strict";function n(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;t.exports=n},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function r(t){return i(t).replace(o,"-ms-")}var i=n(405),o=/^ms-/;t.exports=r},function(t,e,n){function r(t){return i(t)&&3==t.nodeType}var i=n(171);t.exports=r},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}var r=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?o(i.isValidElement(t),"onlyChild must be passed a children with exactly one child."):o(i.isValidElement(t)),t}var i=n(14),o=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";var r,i=n(17);i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e,n){var r=n(411);r&&r.now||(r=Date);var i=r.now.bind(r);t.exports=i},function(t,e,n){"use strict";function r(t){return'"'+i(t)+'"'}var i=n(72);t.exports=r},function(t,e,n){"use strict";var r=n(17),i=n(72),o=n(113),s=function(t,e){t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){o(t,i(e))})),t.exports=s},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=n},function(t,e,n){(function(e){function r(t){var n=t.length;if("production"!==e.env.NODE_ENV?i(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t),"toArray: Array-like object expected"):i(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),"production"!==e.env.NODE_ENV?i("number"==typeof n,"toArray: Object needs a length property"):i("number"==typeof n),"production"!==e.env.NODE_ENV?i(0===n||n-1 in t,"toArray: Object should have keys for indices"):i(0===n||n-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(r){}for(var o=Array(n),s=0;n>s;s++)o[s]=t[s];return o}var i=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){var r=n(419),i=n(418);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i;if(parser=t.match(e),parser&&t===parser[0]&&parser[3].length){var n=parser[1],o=+parser[3],s=parser[2].length?parser[2].toLowerCase():"",a=i.interval(s),u=r(n.toLowerCase());return u[0]+=o,u[0]+=a[0]-r.A4[0],u[1]+=a[1]-r.A4[1],u}}},function(t,e){var n={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return n[t]},t.exports.interval=function(t){var e=n[t];return[-4*e,7*e]}},function(t,e){var n={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in n?[n[t][0],n[t][1]]:null},t.exports.notes=n,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e,n){function r(t,e){if("string"==typeof t)return u.toCoord(t);if("string"==typeof e&&t instanceof a)return u.from(t,u.toCoord(e));if(e instanceof u&&t instanceof a)return u.from(t,e);if(e instanceof a&&t instanceof a)return u.between(t,e);throw new Error("Invalid parameters")}function i(t,e){return"string"==typeof t?a.fromString(t,e):new a(t,e)}function o(t,e){if("string"==typeof t){var n,r;if(n=t.match(/^([a-h])(x|#|bb|b?)/i),n&&n[0])return r="number"==typeof e?e.toString(10):"4",new l(a.fromString(n[0].toLowerCase()+r),t.substr(n[0].length))}else if(t instanceof a)return new l(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function s(t,e){return t=t instanceof a?t:h.note(t),new c(t,e)}var a=n(174),u=n(73),l=n(421),c=n(422);r.toCoord=u.toCoord,r.from=u.from,r.between=u.between,r.invert=u.invert,i.fromString=a.fromString,i.fromKey=a.fromKey,i.fromFrequency=a.fromFrequency,i.fromMIDI=a.fromMIDI;var h={note:i,chord:o,interval:r,scale:s,Note:a,Chord:l,Scale:c,Interval:u};n(423)(h),e=t.exports=h},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var n=e.split("/");if(2===n.length&&"9"!==n[1].trim()?(e=n[0],n=n[1].trim()):n=null,this.intervals=i(e).map(a.toCoord),this._voicing=this.intervals.slice(),n){var o,u,l=this.intervals;u=s.fromString(n+(t.octave()+1)),o=a.between(t,u),n=o.simple(),o=o.invert().direction("down"),this._voicing=[o];for(var c=0,h=l.length;h>c;c++)l[c].simple().equal(n)||this._voicing.push(l[c])}}var i=n(424),o=n(54),s=n(174),a=n(73);r.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,n=t.length;n>e;e++)this._voicing[e]=a.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new r(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new r(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new r(this.root.interval("m3","down"),"m"):new r(this.root.interval("m3","up"))},quality:function(){for(var t,e,n,r=this.intervals,i=0,o=r.length;o>i;i++)3===r[i].number()?t=r[i]:5===r[i].number()?e=r[i]:7===r[i].number()&&(n=r[i]);return t?(t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),n&&(n="down"===n.direction?n.invert():n,n=n.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===n?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===n?"half-diminished":"diminished":"minor":void 0):void 0},chordType:function(){var t,e,n,r,i,o=this.intervals.length;if(2===o)return"dyad";if(3===o){for(e={first:!1,third:!1,fifth:!1},r=0;o>r;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);i=e.first&&e.third&&e.fifth?"triad":"trichord"}else if(4===o){for(e={first:!1,third:!1,fifth:!1,seventh:!1},r=0;o>r;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);e.first&&e.third&&e.fifth&&e.seventh&&(i="tetrad")}return i||"unknown"},get:function(t){if("string"==typeof t&&t in o.stepNumber){var e,n,r=this.intervals;for(t=o.stepNumber[t],e=0,n=r.length;n>e;e++)if(r[e].number()===t)return this.root.interval(r[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new r(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=r},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);var n,i;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(n=e,e=s[e],!e)throw new Error("Invalid Scale")}else for(i in s)if(s.hasOwnProperty(i)&&s[i].toString()===e.toString()){n=i;break}this.name=n,this.tonic=t,this.scale=e}var i=n(54),o=n(73),s={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","A4","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"]};s.harmonicchromatic=s.chromatic,s.minor=s.aeolian,s.major=s.ionian,s.flamenco=s.doubleharmonic,r.prototype={notes:function(){for(var t=[],e=0,n=this.scale.length;n>e;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;return 8>t?["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic":void 0},get:function(t){return t="string"==typeof t&&t in i.stepNumber?i.stepNumber[t]:t,this.tonic.interval(this.scale[t-1])},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?o.toCoord(t):t,new r(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},t.exports=r},function(t,e,n){var r=n(54);t.exports=function(t){var e=t.Note,n=t.Chord,i=t.Scale;e.prototype.chord=function(t){return t=t in r.chordShort?r.chordShort[t]:t,new n(this,t)},e.prototype.scale=function(t){return new i(this,t)}}},function(t,e){var n={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){function e(t){for(var e=n[t],r=0,i=e.length;i>r;r++)u[r+1]=e[r];a=e.length}var r,i,o="quality",s=[],a=2,u=["P1","M3","P5","m7","M9","P11","M13"],l=!1;t=t.replace(/[,\s\(\)]/g,"");for(var c=0,h=t.length;h>c;c++){if(!(r=t[c]))return;if("quality"===o){var p=h>c+2?t.substr(c,3).toLowerCase():null,d=h>c+1?t.substr(c,2).toLowerCase():null;i=p in n?p:d in n?d:r in n?r:"",i&&e(i),("M"===i||"ma"===i||"maj"===i)&&(l=!0),c+=i.length-1,o="extension"}else if("extension"===o){if(r="1"===r&&t[c+1]?+t.substr(c,2):+r,isNaN(r)||6===r)6===r?(u[3]="M6",a=Math.max(3,a)):c-=1;else{if(a=(r-1)/2,a!==Math.round(a))return new Error("Invalid interval extension: "+r.toString(10));"o"===i||"dim"===i?u[3]="d7":l&&(u[3]="M7"),c+=r>=10?1:0}o="alterations"}else if("alterations"===o){var f=t.substr(c).split(/(#|b|add|maj|sus|M)/i),m=!1,v=!1;if(1===f.length)return new Error("Invalid alteration");if(0!==f[0].length)return new Error("Invalid token: '"+f[0]+"'");var y=!1;f.forEach(function(t,e,n){if(y||!t.length)return y=!1;var r=n[e+1],i=t.toLowerCase();if("M"===t||"maj"===i)"7"===r&&(y=!0),a=Math.max(3,a),u[3]="M7";else if("sus"===i){var o="P4";("2"===r||"4"===r)&&(y=!0,"2"===r&&(o="M2")),u[1]=o}else if("add"===i)"9"===r?s.push("M9"):"11"===r?s.push("P11"):"13"===r&&s.push("M13"),y=!0;else if("b"===i)m=!0;else if("#"===i)v=!0;else{var l,c,h=+t;if(isNaN(h)||String(h).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===h)return v?u[3]="A6":m?u[3]="m6":u[3]="M6",
void(a=Math.max(3,a));if(c=(h-1)/2,c>a&&(a=c),5>h||7===h||c!==Math.round(c))return new Error("Invalid interval alteration: "+h);l=u[c][0],v?"d"===l?l="m":"m"===l?l="M":("M"===l||"P"===l)&&(l="A"):m&&("A"===l?l="M":"M"===l?l="m":("m"===l||"P"===l)&&(l="d")),v=m=!1,u[c]=l+h}}),o="ended"}else if("ended"===o)break}return u.slice(0,a+1).concat(s)}},function(t,e,n){var r=n(427),i=n(426);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var n,o=e[2],s=e[1],a=e[4],u=o===o.toLowerCase();if(s){if(u)throw new Error("Invalid formatting - found commas before lowercase note");n=2-s.length}else if(a)if(a.match(/^'+$/)&&u)n=3+a.length;else{if(!a.match(/^,+$/)||u)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");n=2-a.length}else n=u?3:2;var l=i.interval(e[3].toLowerCase()),c=r(o.toLowerCase());return c[0]+=n,c[0]+=l[0]-r.A4[0],c[1]+=l[1]-r.A4[1],c}},function(t,e){var n={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return n[t]},t.exports.interval=function(t){var e=n[t];return[-4*e,7*e]}},function(t,e){var n={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in n?[n[t][0],n[t][1]]:null},t.exports.notes=n,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e,n){var r=n(430),i=n(429);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i;if(parser=t.match(e),parser&&t===parser[0]&&parser[3].length){var n=parser[1],o=+parser[3],s=parser[2].length?parser[2].toLowerCase():"",a=i.interval(s),u=r(n.toLowerCase());return u[0]+=o,u[0]+=a[0]-r.A4[0],u[1]+=a[1]-r.A4[1],u}}},function(t,e){var n={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return n[t]},t.exports.interval=function(t){var e=n[t];return[-4*e,7*e]}},function(t,e){var n={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in n?[n[t][0],n[t][1]]:null},t.exports.notes=n,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root){"use strict";function Main(t){Tone=t()}function Module(t){t(Tone)}var Tone;/**
		 *  Tone.js
		 *  @author Yotam Mann
		 *  @license http://opensource.org/licenses/MIT MIT License
		 *  @copyright 2014-2015 Yotam Mann
		 */
Main(function(){function t(t){return void 0===t}function e(t){return"function"==typeof t}var n;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");n=new AudioContext,e(AudioContext.prototype.createGain)||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),e(AudioContext.prototype.createDelay)||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),e(AudioContext.prototype.createPeriodicWave)||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),e(AudioBufferSourceNode.prototype.start)||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),e(AudioBufferSourceNode.prototype.stop)||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),e(OscillatorNode.prototype.start)||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),e(OscillatorNode.prototype.stop)||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),e(OscillatorNode.prototype.setPeriodicWave)||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,n,r){if(e.input)Array.isArray(e.input)?(t(r)&&(r=0),this.connect(e.input[r])):this.connect(e.input,n,r);else try{e instanceof AudioNode?this._nativeConnect(e,n,r):this._nativeConnect(e,n)}catch(i){throw new Error("error connecting to node: "+e)}};var r=function(e,n){t(e)||1===e?this.input=this.context.createGain():e>1&&(this.input=new Array(e)),t(n)||1===n?this.output=this.context.createGain():n>1&&(this.output=new Array(e))};r.prototype.set=function(e,n,i){if("object"==typeof e)i=n;else if("string"==typeof e){var o={};o[e]=n,e=o}for(var s in e){n=e[s];var a=this;if(-1!==s.indexOf(".")){for(var u=s.split("."),l=0;l<u.length-1;l++)a=a[u[l]];s=u[u.length-1]}var c=a[s];t(c)||(c instanceof r.Signal?c.value!==n&&(t(i)?c.value=n:c.rampTo(n,i)):c instanceof AudioParam?c.value!==n&&(c.value=n):c instanceof r?c.set(n):c!==n&&(a[s]=n))}return this},r.prototype.get=function(n){t(n)?n=this._collectDefaults(this.constructor):"string"==typeof n&&(n=[n]);for(var i={},o=0;o<n.length;o++){var s=n[o],a=this,u=i;if(-1!==s.indexOf(".")){for(var l=s.split("."),c=0;c<l.length-1;c++){var h=l[c];u[h]=u[h]||{},u=u[h],a=a[h]}s=l[l.length-1]}var p=a[s];"object"==typeof n[s]?u[s]=p.get():p instanceof r.Signal?u[s]=p.value:p instanceof AudioParam?u[s]=p.value:p instanceof r?u[s]=p.get():e(p)||t(p)||(u[s]=p)}return i},r.prototype._collectDefaults=function(e){var n=[];if(t(e.defaults)||(n=Object.keys(e.defaults)),!t(e._super))for(var r=this._collectDefaults(e._super),i=0;i<r.length;i++)-1===n.indexOf(r[i])&&n.push(r[i]);return n},r.prototype.setPreset=function(t){return!this.isUndef(this.preset)&&this.preset.hasOwnProperty(t)&&this.set(this.preset[t]),this},r.prototype.toString=function(){for(var t in r){var n=t[0].match(/^[A-Z]$/),i=r[t]===this.constructor;if(e(r[t])&&n&&i)return t}return"Tone"},r.context=n,r.prototype.context=r.context,r.prototype.bufferSize=2048,r.prototype.bufferTime=r.prototype.bufferSize/r.context.sampleRate,r.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this};var i=null;r.prototype.noGC=function(){return this.output.connect(i),this},AudioNode.prototype.noGC=function(){return this.connect(i),this},r.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},r.prototype.disconnect=function(t){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect(),this},r.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},r.prototype.connectParallel=function(){var t=arguments[0];if(arguments.length>1)for(var e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n)}return this},r.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},r.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=r.prototype.chain,AudioNode.prototype.fan=r.prototype.fan,r.prototype.defaultArg=function(e,n){if("object"==typeof e&&"object"==typeof n){var r={};for(var i in e)r[i]=this.defaultArg(e[i],e[i]);for(var o in n)r[o]=this.defaultArg(e[o],n[o]);return r}return t(e)?n:e},r.prototype.optionsObject=function(t,e,n){var r={};if(1===t.length&&"object"==typeof t[0])r=t[0];else for(var i=0;i<e.length;i++)r[e[i]]=t[i];return this.isUndef(n)?r:this.defaultArg(r,n)},r.prototype.isUndef=t,r.prototype.isFunction=e,r.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},r.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},r.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},r.prototype.dbToGain=function(t){return Math.pow(2,t/6)},r.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},r.prototype.now=function(){return this.context.currentTime},r.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},r.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},r.prototype.toSeconds=function(t,e){if(e=this.defaultArg(e,this.now()),"number"==typeof t)return t;if("string"==typeof t){var n=0;return"+"===t.charAt(0)&&(t=t.slice(1),n=e),parseFloat(t)+n}return e},r.prototype.isFrequency=function(){var t=new RegExp(/\d*\.?\d+hz$/i);return function(e){return t.test(e)}}(),r.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},r.prototype.secondsToFrequency=function(t){return 1/t},r.extend=function(e,n){function i(){}t(n)&&(n=r),i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e,e._super=n},r.Type={Default:"number",Time:"time",Frequency:"frequency",Gain:"gain",NormalRange:"normalrange",AudioRange:"audiorange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transporttime"},r.State={Started:"started",Stopped:"stopped",Paused:"paused"},r.noOp=function(){};var o=[];return r._initAudioContext=function(t){t(r.context),o.push(t)},r.setContext=function(t){r.prototype.context=t,r.context=t;for(var e=0;e<o.length;e++)o[e](t)},r.startMobile=function(){var t=r.context.createOscillator(),e=r.context.createGain();e.gain.value=0,t.connect(e),e.connect(r.context.destination);var n=r.context.currentTime;t.start(n),t.stop(n+1)},r._initAudioContext(function(t){r.prototype.bufferTime=r.prototype.bufferSize/t.sampleRate,i=t.createGain(),i.gain.value=0,i.connect(t.destination)}),r.version="r5",console.log("%c * Tone.js "+r.version+" * ","background: #000; color: #fff"),r}),Module(function(t){return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,r){return e.constructor===t.Signal?(e._value.cancelScheduledValues(0),e._value.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,r),this},t.SignalBase}),Module(function(t){return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;n>e;e++){var r=e/n*2-1;this._curve[e]=t(r,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){if(this._isSafari()){var e=t[0];t.unshift(e)}this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.WaveShaper.prototype._isSafari=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")},t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}),Module(function(t){return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.units=e.units,this.convert=e.convert,this.overridden=!1,this.output=this._scaler=this.context.createGain(),this.input=this._value=this._scaler.gain,e.value instanceof AudioParam?(this._scaler.connect(e.value),e.value.value=0):(this.isUndef(e.param)||(this._scaler.connect(e.param),e.param.value=0),this.value=e.value),t.Signal._constant.chain(this._scaler)},t.extend(t.Signal,t.SignalBase),t.Signal.defaults={value:0,param:void 0,units:t.Type.Default,convert:!0},Object.defineProperty(t.Signal.prototype,"value",{get:function(){return this._toUnits(this._value.value)},set:function(t){var e=this._fromUnits(t);this.cancelScheduledValues(0),this._value.value=e}}),t.Signal.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Signal.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Signal.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),this._value.setValueAtTime(t,this.toSeconds(e)),this},t.Signal.prototype.setCurrentValueNow=function(t){t=this.defaultArg(t,this.now());var e=this._value.value;return this.cancelScheduledValues(t),this._value.setValueAtTime(e,t),this},t.Signal.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._value.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Signal.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(1e-5,t),this._value.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Signal.prototype.exponentialRampToValueNow=function(t,e){var n=this.now(),r=this.value;return this.setValueAtTime(Math.max(r,1e-4),n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Signal.prototype.linearRampToValueNow=function(t,e){var n=this.now();return this.setCurrentValueNow(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Signal.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),n=Math.max(1e-5,n),this._value.setTargetAtTime(t,this.toSeconds(e),n),this},t.Signal.prototype.setValueCurveAtTime=function(t,e,n){for(var r=0;r<t.length;r++)t[r]=this._fromUnits(t[r]);return this._value.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Signal.prototype.cancelScheduledValues=function(t){return this._value.cancelScheduledValues(this.toSeconds(t)),this},t.Signal.prototype.rampTo=function(e,n){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM?this.exponentialRampToValueNow(e,n):this.linearRampToValueNow(e,n),this},t.Signal.prototype.dispose=function(){return t.prototype.dispose.call(this),this._value=null,this._scaler=null,this},t.Signal._generator=null,t.Signal._constant=null,t._initAudioContext(function(e){t.Signal._generator=e.createOscillator(),t.Signal._constant=new t.WaveShaper([1,1]),t.Signal._generator.connect(t.Signal._constant),t.Signal._generator.start(0),t.Signal._generator.noGC()}),t.Signal}),Module(function(t){return t.Pow=function(e){this._exp=this.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}),Module(function(t){return t.Envelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this._nextAttack=1/0,this._nextDecay=1/0,this._nextSustain=1/0,this._nextRelease=1/0,this._nextStandby=1/0,this._attackCurve=t.Envelope.Type.Linear,this._peakValue=1,this._minOutput=1e-4,this._sig=this.output=new t.Signal(0),this.attackCurve=e.attackCurve},t.extend(t.Envelope),t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear"},t.Envelope.prototype._timeMult=.25,Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this._sig.value}}),Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){return this._attackCurve},set:function(e){if(e!==t.Envelope.Type.Linear&&e!==t.Envelope.Type.Exponential)throw Error('attackCurve must be either "linear" or "exponential". Invalid type: ',e);this._attackCurve=e}}),t.Envelope.prototype._phaseAtTime=function(e){return this._nextRelease>e?this._nextAttack<=e&&this._nextDecay>e?t.Envelope.Phase.Attack:this._nextDecay<=e&&this._nextSustain>e?t.Envelope.Phase.Decay:this._nextSustain<=e&&this._nextRelease>e?t.Envelope.Phase.Sustain:t.Envelope.Phase.Standby:this._nextRelease<e&&this._nextStandby>e?t.Envelope.Phase.Release:t.Envelope.Phase.Standby},t.Envelope.prototype._exponentialApproach=function(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)},t.Envelope.prototype._linearInterpolate=function(t,e,n,r,i){return e+(r-e)*((i-t)/(n-t))},t.Envelope.prototype._exponentialInterpolate=function(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))},t.Envelope.prototype._valueAtTime=function(e){var n=this.toSeconds(this.attack),r=this.toSeconds(this.decay),i=this.toSeconds(this.release);switch(this._phaseAtTime(e)){case t.Envelope.Phase.Attack:return this._attackCurve===t.Envelope.Type.Linear?this._linearInterpolate(this._nextAttack,this._minOutput,this._nextAttack+n,this._peakValue,e):this._exponentialInterpolate(this._nextAttack,this._minOutput,this._nextAttack+n,this._peakValue,e);case t.Envelope.Phase.Decay:return this._exponentialApproach(this._nextDecay,this._peakValue,this.sustain*this._peakValue,r*this._timeMult,e);case t.Envelope.Phase.Release:return this._exponentialApproach(this._nextRelease,this._peakValue,this._minOutput,i*this._timeMult,e);case t.Envelope.Phase.Sustain:return this.sustain*this._peakValue;case t.Envelope.Phase.Standby:return this._minOutput}},t.Envelope.prototype.triggerAttack=function(e,n){e=this.toSeconds(e);var r=this.toSeconds(this.attack),i=this.toSeconds(this.decay),o=this._valueAtTime(e),s=o*r;this._nextAttack=e-s,this._nextDecay=this._nextAttack+r,this._nextSustain=this._nextDecay+i,this._nextRelease=1/0,this._peakValue=this.defaultArg(n,1);var a=this._peakValue,u=this.sustain*a;return this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(o,e),this._attackCurve===t.Envelope.Type.Linear?this._sig.linearRampToValueAtTime(a,this._nextDecay):this._sig.exponentialRampToValueAtTime(a,this._nextDecay),this._sig.setTargetAtTime(u,this._nextDecay,i*this._timeMult),this},t.Envelope.prototype.triggerRelease=function(e){e=this.toSeconds(e);var n=this._phaseAtTime(e),r=this.toSeconds(this.release),i=this._valueAtTime(e);return this._peakValue=i,this._nextRelease=e,this._nextStandby=this._nextRelease+r,this._sig.cancelScheduledValues(this._nextRelease),n===t.Envelope.Phase.Attack?(this._sig.setCurrentValueNow(),this.attackCurve===t.Envelope.Type.Linear?this._sig.linearRampToValueAtTime(this._peakValue,this._nextRelease):this._sig.exponentialRampToValueAtTime(this._peakValue,this._nextRelease)):this._sig.setValueAtTime(this._peakValue,this._nextRelease),this._sig.setTargetAtTime(this._minOutput,this._nextRelease,r*this._timeMult),this},t.Envelope.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this},t.Envelope.prototype.connect=t.Signal.prototype.connect,t.Envelope.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this},t.Envelope.Phase={Attack:"attack",Decay:"decay",Sustain:"sustain",Release:"release",Standby:"standby"},t.Envelope.Type={Linear:"linear",Exponential:"exponential"},t.Envelope}),Module(function(t){return t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments),this.input=this.output=this.context.createGain(),this._sig.connect(this.output.gain)},t.extend(t.AmplitudeEnvelope,t.Envelope),t.AmplitudeEnvelope}),Module(function(t){return t.Compressor=function(){var e=this.optionsObject(arguments,["threshold","ratio"],t.Compressor.defaults);this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=this._compressor.threshold,this.attack=new t.Signal(this._compressor.attack,t.Type.Time),this.release=new t.Signal(this._compressor.release,t.Type.Time),this.knee=this._compressor.knee,this.ratio=this._compressor.ratio,this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(e)},t.extend(t.Compressor),t.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},t.Compressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold=null,this.ratio=null,this.knee=null,this},t.Compressor}),Module(function(t){return t.Add=function(e){t.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._value=this.input[1]=new t.Signal(e),this._value.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.disconnect(),this._sum=null,this._value.dispose(),this._value=null,this},t.Add}),Module(function(t){return t.Multiply=function(e){t.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._value=this.input[1]=this.output.gain,this._value.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.disconnect(),this._mult=null,this._value=null,this},t.Multiply}),Module(function(t){return t.Negate=function(){this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}),Module(function(t){return t.Subtract=function(e){t.call(this,2,0),this._sum=this.input[0]=this.output=this.context.createGain(),this._neg=new t.Negate,this._value=this.input[1]=new t.Signal(e),this._value.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._value.dispose(),this._value=null,this},t.Subtract}),Module(function(t){return t.GreaterThanZero=function(){this._thresh=this.output=new t.WaveShaper(function(t){return 0>=t?0:1}),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}),Module(function(t){return t.EqualZero=function(){this._scale=this.input=new t.Multiply(1e4),this._thresh=new t.WaveShaper(function(t){return 0===t?1:0},128),this._gtz=this.output=new t.GreaterThanZero,this._scale.chain(this._thresh,this._gtz)},t.extend(t.EqualZero,t.SignalBase),t.EqualZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.EqualZero}),Module(function(t){return t.Equal=function(e){t.call(this,2,0),this._sub=this.input[0]=new t.Subtract(e),this._equals=this.output=new t.EqualZero,this._sub.connect(this._equals),this.input[1]=this._sub.input[1]},t.extend(t.Equal,t.SignalBase),Object.defineProperty(t.Equal.prototype,"value",{get:function(){return this._sub.value},set:function(t){this._sub.value=t}}),t.Equal.prototype.dispose=function(){return t.prototype.dispose.call(this),this._equals.dispose(),this._equals=null,this._sub.dispose(),this._sub=null,this},t.Equal}),Module(function(t){t.Select=function(n){n=this.defaultArg(n,2),t.call(this,n,1),this.gate=new t.Signal(0),this._readOnly("gate");for(var r=0;n>r;r++){var i=new e(r);this.input[r]=i,this.gate.connect(i.selecter),i.connect(this.output)}},t.extend(t.Select,t.SignalBase),t.Select.prototype.select=function(t,e){return t=Math.floor(t),this.gate.setValueAtTime(t,this.toSeconds(e)),this},t.Select.prototype.dispose=function(){this._writable("gate"),this.gate.dispose(),this.gate=null;for(var e=0;e<this.input.length;e++)this.input[e].dispose(),this.input[e]=null;return t.prototype.dispose.call(this),this};var e=function(e){this.selecter=new t.Equal(e),this.gate=this.input=this.output=this.context.createGain(),this.selecter.connect(this.gate.gain)};return t.extend(e),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.selecter.dispose(),this.gate.disconnect(),this.selecter=null,this.gate=null},t.Select}),Module(function(t){return t.IfThenElse=function(){t.call(this,3,0),this._selector=this.output=new t.Select(2),this["if"]=this.input[0]=this._selector.gate,this.then=this.input[1]=this._selector.input[1],this["else"]=this.input[2]=this._selector.input[0]},t.extend(t.IfThenElse,t.SignalBase),t.IfThenElse.prototype.dispose=function(){return t.prototype.dispose.call(this),this._selector.dispose(),this._selector=null,this["if"]=null,this.then=null,this["else"]=null,this},t.IfThenElse}),Module(function(t){return t.OR=function(e){e=this.defaultArg(e,2),t.call(this,e,0),this._sum=this.context.createGain(),this._gtz=this.output=new t.GreaterThanZero;for(var n=0;e>n;n++)this.input[n]=this._sum;this._sum.connect(this._gtz)},t.extend(t.OR,t.SignalBase),t.OR.prototype.dispose=function(){return t.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this._sum.disconnect(),this._sum=null,this},t.OR}),Module(function(t){return t.AND=function(e){e=this.defaultArg(e,2),t.call(this,e,0),this._equals=this.output=new t.Equal(e);for(var n=0;e>n;n++)this.input[n]=this._equals},t.extend(t.AND,t.SignalBase),t.AND.prototype.dispose=function(){return t.prototype.dispose.call(this),this._equals.dispose(),this._equals=null,this},t.AND}),Module(function(t){return t.NOT=t.EqualZero,t.NOT}),Module(function(t){return t.GreaterThan=function(e){t.call(this,2,0),this._value=this.input[0]=new t.Subtract(e),this.input[1]=this._value.input[1],this._gtz=this.output=new t.GreaterThanZero,this._value.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._value.dispose(),this._value=null,this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}),Module(function(t){return t.LessThan=function(e){t.call(this,2,0),this._neg=this.input[0]=new t.Negate,this._gt=this.output=new t.GreaterThan,this._rhNeg=new t.Negate,this._value=this.input[1]=new t.Signal(e),this._neg.connect(this._gt),this._value.connect(this._rhNeg),this._rhNeg.connect(this._gt,0,1)},t.extend(t.LessThan,t.Signal),t.LessThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._gt.dispose(),this._gt=null,this._rhNeg.dispose(),this._rhNeg=null,this._value.dispose(),this._value=null,this},t.LessThan}),Module(function(t){return t.Abs=function(){t.call(this,1,0),this._ltz=new t.LessThan(0),this._switch=this.output=new t.Select(2),this._negate=new t.Negate,this.input.connect(this._switch,0,0),this.input.connect(this._negate),this._negate.connect(this._switch,0,1),this.input.chain(this._ltz,this._switch.gate)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.prototype.dispose.call(this),this._switch.dispose(),this._switch=null,this._ltz.dispose(),this._ltz=null,this._negate.dispose(),this._negate=null,this},t.Abs}),Module(function(t){return t.Max=function(e){t.call(this,2,0),this.input[0]=this.context.createGain(),this._value=this.input[1]=new t.Signal(e),this._ifThenElse=this.output=new t.IfThenElse,this._gt=new t.GreaterThan,this.input[0].chain(this._gt,this._ifThenElse["if"]),this.input[0].connect(this._ifThenElse.then),this._value.connect(this._ifThenElse["else"]),this._value.connect(this._gt,0,1)},t.extend(t.Max,t.Signal),t.Max.prototype.dispose=function(){return t.prototype.dispose.call(this),this._value.dispose(),this._ifThenElse.dispose(),this._gt.dispose(),this._value=null,this._ifThenElse=null,this._gt=null,this},t.Max}),Module(function(t){return t.Min=function(e){t.call(this,2,0),this.input[0]=this.context.createGain(),this._ifThenElse=this.output=new t.IfThenElse,this._lt=new t.LessThan,this._value=this.input[1]=new t.Signal(e),this.input[0].chain(this._lt,this._ifThenElse["if"]),this.input[0].connect(this._ifThenElse.then),this._value.connect(this._ifThenElse["else"]),this._value.connect(this._lt,0,1)},t.extend(t.Min,t.Signal),t.Min.prototype.dispose=function(){return t.prototype.dispose.call(this),this._value.dispose(),this._ifThenElse.dispose(),this._lt.dispose(),this._value=null,this._ifThenElse=null,this._lt=null,this},t.Min}),Module(function(t){return t.Modulo=function(e){t.call(this,1,1),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}),Module(function(t){function e(t,e,n){var r=new t;return n._eval(e[0]).connect(r,0,0),n._eval(e[1]).connect(r,0,1),r}function n(t,e,n){var r=new t;return n._eval(e[0]).connect(r,0,0),r}function r(t){return t?parseFloat(t):void 0}function i(t){return t&&t.args?parseFloat(t.args):void 0}return t.Expr=function(){var t=this._replacements(Array.prototype.slice.call(arguments)),e=this._parseInputs(t);this._nodes=[],this.input=new Array(e);for(var n=0;e>n;n++)this.input[n]=this.context.createGain();var r,i=this._parseTree(t);try{r=this._eval(i)}catch(o){throw this._disposeNodes(),new Error("Could evaluate expression: "+t)}this.output=r},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(e){var n=new t.Signal(r(e));return n}},input:{regexp:/^\$\d/,method:function(t,e){return e.input[r(t.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,t.Abs)},min:{regexp:/^min/,method:e.bind(this,t.Min)},max:{regexp:/^max/,method:e.bind(this,t.Max)},"if":{regexp:/^if/,method:function(e,n){var r=new t.IfThenElse;return n._eval(e[0]).connect(r["if"]),n._eval(e[1]).connect(r.then),n._eval(e[2]).connect(r["else"]),r}},gt0:{regexp:/^gt0/,method:n.bind(this,t.GreaterThanZero)},eq0:{regexp:/^eq0/,method:n.bind(this,t.EqualZero)},mod:{regexp:/^mod/,method:function(e,n){var r=i(e[1]),o=new t.Modulo(r);return n._eval(e[0]).connect(o),o}},pow:{regexp:/^pow/,method:function(e,n){var r=i(e[1]),o=new t.Pow(r);return n._eval(e[0]).connect(o),o}}},binary:{"+":{regexp:/^\+/,precedence:1,method:e.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(r,i){return 1===r.length?n(t.Negate,r,i):e(t.Subtract,r,i)}},"*":{regexp:/^\*/,precedence:0,method:e.bind(this,t.Multiply)},">":{regexp:/^\>/,precedence:2,method:e.bind(this,t.GreaterThan)},"<":{regexp:/^</,precedence:2,method:e.bind(this,t.LessThan)},"==":{regexp:/^==/,precedence:3,method:e.bind(this,t.Equal)},"&&":{regexp:/^&&/,precedence:4,method:e.bind(this,t.AND)},"||":{regexp:/^\|\|/,precedence:5,method:e.bind(this,t.OR)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,t.Negate)},"!":{regexp:/^\!/,method:n.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(t){var e=t.match(/\$\d/g),n=0;if(null!==e)for(var r=0;r<e.length;r++){var i=parseInt(e[r].substr(1))+1;n=Math.max(n,i)}return n},t.Expr.prototype._replacements=function(t){for(var e=t.shift(),n=0;n<t.length;n++)e=e.replace(/\%/i,t[n]);return e},t.Expr.prototype._tokenize=function(e){function n(e){for(var n in t.Expr._Expressions){var r=t.Expr._Expressions[n];for(var i in r){var o=r[i],s=o.regexp,a=e.match(s);if(null!==a)return{type:n,value:a[0],method:o.method}}}throw new SyntaxError("Unexpected token "+e)}for(var r=-1,i=[];e.length>0;){e=e.trim();var o=n(e);i.push(o),e=e.substr(o.value.length)}return{next:function(){return i[++r]},peek:function(){return i[r+1]}}},t.Expr.prototype._parseTree=function(e){function n(t,e){return!c(t)&&"glue"===t.type&&t.value===e}function r(e,n,r){var i=!1,o=t.Expr._Expressions[n];if(!c(e))for(var s in o){var a=o[s];if(a.regexp.test(e.value)){if(c(r))return!0;if(a.precedence===r)return!0}}return i}function i(t){c(t)&&(t=5);var e;e=0>t?o():i(t-1);for(var n=l.peek();r(n,"binary",t);)n=l.next(),e={operator:n.value,method:n.method,args:[e,i(t)]},n=l.peek();return e}function o(){var t,e;return t=l.peek(),r(t,"unary")?(t=l.next(),e=o(),{operator:t.value,method:t.method,args:[e]}):s()}function s(){var t,e;if(t=l.peek(),c(t))throw new SyntaxError("Unexpected termination of expression");if("func"===t.type)return t=l.next(),a(t);if("value"===t.type)return t=l.next(),{method:t.method,args:t.value};if(n(t,"(")){if(l.next(),e=i(),t=l.next(),!n(t,")"))throw new SyntaxError("Expected )");return e}throw new SyntaxError("Parse error, cannot process token "+t.value)}function a(t){var e,r=[];if(e=l.next(),!n(e,"("))throw new SyntaxError('Expected ( in a function call "'+t.value+'"');if(e=l.peek(),n(e,")")||(r=u()),e=l.next(),!n(e,")"))throw new SyntaxError('Expected ) in a function call "'+t.value+'"');return{method:t.method,args:r,name:name}}function u(){for(var t,e,r=[];;){if(e=i(),c(e))break;if(r.push(e),t=l.peek(),!n(t,","))break;l.next()}return r}var l=this._tokenize(e),c=this.isUndef.bind(this);return i()},t.Expr.prototype._eval=function(t){if(!this.isUndef(t)){var e=t.method(t.args,this);return this._nodes.push(e),e}},t.Expr.prototype._disposeNodes=function(){
for(var t=0;t<this._nodes.length;t++){var e=this._nodes[t];this.isFunction(e.dispose)?e.dispose():this.isFunction(e.disconnect)&&e.disconnect(),e=null,this._nodes[t]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeNodes()},t.Expr}),Module(function(t){return t.EqualPowerGain=function(){this._eqPower=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)<.001?0:this.equalPowerScale(t)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}),Module(function(t){return t.CrossFade=function(e){t.call(this,2,1),this.a=this.input[0]=this.context.createGain(),this.b=this.input[1]=this.context.createGain(),this.fade=new t.Signal(this.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade),t.CrossFade.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.disconnect(),this.a=null,this.b.disconnect(),this.b=null,this},t.CrossFade}),Module(function(t){return t.Filter=function(){t.call(this);var e=this.optionsObject(arguments,["frequency","type","rolloff"],t.Filter.defaults);this._filters=[],this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(0,t.Type.Cents),this.gain=new t.Signal({value:e.gain,units:t.Type.Decibels,convert:!1}),this.Q=new t.Signal(e.Q),this._type=e.type,this._rolloff=e.rolloff,this.rolloff=e.rolloff,this._readOnly(["detune","frequency","gain","Q"])},t.extend(t.Filter),t.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(t.Filter.prototype,"type",{get:function(){return this._type},set:function(t){var e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];if(-1===e.indexOf(t))throw new TypeError("Tone.Filter does not have filter type "+t);this._type=t;for(var n=0;n<this._filters.length;n++)this._filters[n].type=t}}),Object.defineProperty(t.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){var e=[-12,-24,-48],n=e.indexOf(t);if(-1===n)throw new RangeError("Filter rolloff can only be -12, -24, or -48");n++,this._rolloff=t,this.input.disconnect();for(var r=0;r<this._filters.length;r++)this._filters[r].disconnect(),this._filters[r]=null;this._filters=new Array(n);for(var i=0;n>i;i++){var o=this.context.createBiquadFilter();o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}var s=[this.input].concat(this._filters).concat([this.output]);this.connectSeries.apply(this,s)}}),t.Filter.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0;e<this._filters.length;e++)this._filters[e].disconnect(),this._filters[e]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},t.Filter}),Module(function(t){return t.MultibandSplit=function(){var e=this.optionsObject(arguments,["lowFrequency","highFrequency"],t.MultibandSplit.defaults);this.input=this.context.createGain(),this.output=new Array(3),this.low=this.output[0]=new t.Filter(0,"lowpass"),this._lowMidFilter=new t.Filter(0,"highpass"),this.mid=this.output[1]=new t.Filter(0,"lowpass"),this.high=this.output[2]=new t.Filter(0,"highpass"),this.lowFrequency=new t.Signal(e.lowFrequency,t.Type.Frequency),this.highFrequency=new t.Signal(e.highFrequency,t.Type.Frequency),this.Q=new t.Signal(e.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandSplit),t.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},t.MultibandSplit.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},t.MultibandSplit}),Module(function(t){return t.EQ3=function(){var e=this.optionsObject(arguments,["low","mid","high"],t.EQ3.defaults);this.output=this.context.createGain(),this._multibandSplit=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this._lowGain=this.context.createGain(),this._midGain=this.context.createGain(),this._highGain=this.context.createGain(),this.low=new t.Signal(this._lowGain.gain,t.Type.Decibels),this.mid=new t.Signal(this._midGain.gain,t.Type.Decibels),this.high=new t.Signal(this._highGain.gain,t.Type.Decibels),this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this.low.value=e.low,this.mid.value=e.mid,this.high.value=e.high,this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},t.extend(t.EQ3),t.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},t.EQ3.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.disconnect(),this._lowGain=null,this._midGain.disconnect(),this._midGain=null,this._highGain.disconnect(),this._highGain=null,this.low.dispose(),this.low=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.Q=null,this},t.EQ3}),Module(function(t){return t.Scale=function(e,n){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}),Module(function(t){return t.ScaleExp=function(e,n,r){this._scale=this.output=new t.Scale(e,n),this._exp=this.input=new t.Pow(this.defaultArg(r,2)),this._exp.connect(this._scale)},t.extend(t.ScaleExp,t.SignalBase),Object.defineProperty(t.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(t.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),t.ScaleExp.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaleExp}),Module(function(t){return t.FeedbackCombFilter=function(){t.call(this);var e=this.optionsObject(arguments,["delayTime","resonance"],t.FeedbackCombFilter.defaults);this.resonance=new t.Signal(e.resonance,t.Type.NormalRange),this._delay=this.input=this.output=this.context.createDelay(1),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this._feedback=this.context.createGain(),this._delay.chain(this._feedback,this._delay),this.resonance.connect(this._feedback.gain),this.delayTime.connect(this._delay.delayTime),this._readOnly(["resonance","delayTime"])},t.extend(t.FeedbackCombFilter),t.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},t.FeedbackCombFilter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.disconnect(),this._delay=null,this.delayTime.dispose(),this.delayTime=null,this.resonance.dispose(),this.resonance=null,this._feedback.disconnect(),this._feedback=null,this},t.FeedbackCombFilter}),Module(function(t){return t.Follower=function(){t.call(this);var e=this.optionsObject(arguments,["attack","release"],t.Follower.defaults);this._abs=new t.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=-100,this._frequencyValues=new t.WaveShaper,this._sub=new t.Subtract,this._delay=this.context.createDelay(),this._delay.delayTime.value=this.bufferTime,this._mult=new t.Multiply(1e4),this._attack=e.attack,this._release=e.release,this.input.chain(this._abs,this._filter,this.output),this._abs.connect(this._sub,0,1),this._filter.chain(this._delay,this._sub),this._sub.chain(this._mult,this._frequencyValues,this._filter.frequency),this._setAttackRelease(this._attack,this._release)},t.extend(t.Follower),t.Follower.defaults={attack:.05,release:.5},t.Follower.prototype._setAttackRelease=function(t,e){var n=this.bufferTime;t=this.secondsToFrequency(this.toSeconds(t)),e=this.secondsToFrequency(this.toSeconds(e)),t=Math.max(t,n),e=Math.max(e,n),this._frequencyValues.setMap(function(n){return 0>=n?t:e})},Object.defineProperty(t.Follower.prototype,"attack",{get:function(){return this._attack},set:function(t){this._attack=t,this._setAttackRelease(this._attack,this._release)}}),Object.defineProperty(t.Follower.prototype,"release",{get:function(){return this._release},set:function(t){this._release=t,this._setAttackRelease(this._attack,this._release)}}),t.Follower.prototype.connect=t.Signal.prototype.connect,t.Follower.prototype.dispose=function(){return t.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._frequencyValues.disconnect(),this._frequencyValues=null,this._delay.disconnect(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this._mult.dispose(),this._mult=null,this._curve=null,this},t.Follower}),Module(function(t){return t.Gate=function(){t.call(this);var e=this.optionsObject(arguments,["threshold","attack","release"],t.Gate.defaults);this._follower=new t.Follower(e.attack,e.release),this._gt=new t.GreaterThan(this.dbToGain(e.threshold)),this.input.connect(this.output),this.input.chain(this._gt,this._follower,this.output.gain)},t.extend(t.Gate),t.Gate.defaults={attack:.1,release:.1,threshold:-40},Object.defineProperty(t.Gate.prototype,"threshold",{get:function(){return this.gainToDb(this._gt.value)},set:function(t){this._gt.value=this.dbToGain(t)}}),Object.defineProperty(t.Gate.prototype,"attack",{get:function(){return this._follower.attack},set:function(t){this._follower.attack=t}}),Object.defineProperty(t.Gate.prototype,"release",{get:function(){return this._follower.release},set:function(t){this._follower.release=t}}),t.Gate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},t.Gate}),Module(function(t){return t.Clock=function(e,n){this._oscillator=null,this._jsNode=this.context.createScriptProcessor(this.bufferSize,1,1),this._jsNode.onaudioprocess=this._processBuffer.bind(this),this.frequency=new t.Signal(e,t.Type.Frequency),this._upTick=!1,this.tick=n,this.onended=t.noOp,this._jsNode.noGC()},t.extend(t.Clock),t.Clock.prototype.start=function(t){if(!this._oscillator){this._oscillator=this.context.createOscillator(),this._oscillator.type="square",this._oscillator.connect(this._jsNode),this.frequency.connect(this._oscillator.frequency),this._upTick=!1;var e=this.toSeconds(t);this._oscillator.start(e)}return this},t.Clock.prototype.stop=function(t){if(this._oscillator){var e=this.now(),n=this.toSeconds(t,e);this._oscillator.stop(n),this._oscillator=null,t?setTimeout(this.onended,1e3*(n-e)):this.onended()}return this},t.Clock.prototype._processBuffer=function(t){for(var e=this.defaultArg(t.playbackTime,this.now()),n=this._jsNode.bufferSize,r=t.inputBuffer.getChannelData(0),i=this._upTick,o=this,s=0;n>s;s++){var a=r[s];a>0&&!i?(i=!0,setTimeout(function(){var t=e+o.samplesToSeconds(s+2*n);return function(){o.tick&&o.tick(t)}}(),0)):0>a&&i&&(i=!1)}this._upTick=i},t.Clock.prototype.dispose=function(){return this._jsNode.disconnect(),this.frequency.dispose(),this.frequency=null,this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._jsNode.onaudioprocess=t.noOp,this._jsNode=null,this.tick=null,this.onended=t.noOp,this},t.Clock}),Module(function(Tone){Tone.Transport=function(){this._clock=new Tone.Clock(0,this._processTick.bind(this)),this._clock.onended=this._onended.bind(this),this.loop=!1,this.bpm=new Tone.Signal(120,Tone.Type.BPM),this._bpmMult=new Tone.Multiply(1/60*tatum),this.state=Tone.State.Stopped,this.bpm.chain(this._bpmMult,this._clock.frequency)},Tone.extend(Tone.Transport),Tone.Transport.defaults={bpm:120,swing:0,swingSubdivision:"16n",timeSignature:4,loopStart:0,loopEnd:"4m"};var tatum=12,timelineTicks=0,transportTicks=0,swingSubdivision="16n",swingTatum=3,swingAmount=0,transportTimeSignature=4,loopStart=0,loopEnd=4*tatum,intervals=[],timeouts=[],transportTimeline=[],timelineProgress=0,SyncedSources=[],SyncedSignals=[];Tone.Transport.prototype._processTick=function(t){this.state===Tone.State.Started&&(swingAmount>0&&timelineTicks%tatum!==0&&timelineTicks%swingTatum===0&&(t+=this._ticksToSeconds(swingTatum)*swingAmount),processIntervals(t),processTimeouts(t),processTimeline(t),transportTicks+=1,timelineTicks+=1,this.loop&&timelineTicks===loopEnd&&this._setTicks(loopStart))},Tone.Transport.prototype._setTicks=function(t){timelineTicks=t;for(var e=0;e<transportTimeline.length;e++){var n=transportTimeline[e];if(n.callbackTick()>=t){timelineProgress=e;break}}};var processIntervals=function(t){for(var e=0,n=intervals.length;n>e;e++){var r=intervals[e];r.testInterval(transportTicks)&&r.doCallback(t)}},processTimeouts=function(t){for(var e=0,n=0,r=timeouts.length;r>n;n++){var i=timeouts[n],o=i.callbackTick();if(transportTicks>=o)i.doCallback(t),e++;else if(o>transportTicks)break}timeouts.splice(0,e)},processTimeline=function(t){for(var e=timelineProgress,n=transportTimeline.length;n>e;e++){var r=transportTimeline[e],i=r.callbackTick();if(i===timelineTicks)timelineProgress=e,r.doCallback(t);else if(i>timelineTicks)break}};Tone.Transport.prototype.setInterval=function(t,e,n){var r=this._toTicks(e),i=new TimelineEvent(t,n,r,transportTicks);return intervals.push(i),i.id},Tone.Transport.prototype.clearInterval=function(t){for(var e=0;e<intervals.length;e++){var n=intervals[e];if(n.id===t)return intervals.splice(e,1),!0}return!1},Tone.Transport.prototype.clearIntervals=function(){var t=intervals.length>0;return intervals=[],t},Tone.Transport.prototype.setTimeout=function(t,e,n){for(var r=this._toTicks(e),i=new TimelineEvent(t,n,r+transportTicks,0),o=0,s=timeouts.length;s>o;o++){var a=timeouts[o];if(a.callbackTick()>i.callbackTick())return timeouts.splice(o,0,i),i.id}return timeouts.push(i),i.id},Tone.Transport.prototype.clearTimeout=function(t){for(var e=0;e<timeouts.length;e++){var n=timeouts[e];if(n.id===t)return timeouts.splice(e,1),!0}return!1},Tone.Transport.prototype.clearTimeouts=function(){var t=timeouts.length>0;return timeouts=[],t},Tone.Transport.prototype.setTimeline=function(t,e,n){for(var r=this._toTicks(e),i=new TimelineEvent(t,n,r,0),o=timelineProgress,s=transportTimeline.length;s>o;o++){var a=transportTimeline[o];if(a.callbackTick()>i.callbackTick())return transportTimeline.splice(o,0,i),i.id}return transportTimeline.push(i),i.id},Tone.Transport.prototype.clearTimeline=function(t){for(var e=0;e<transportTimeline.length;e++){var n=transportTimeline[e];if(n.id===t)return transportTimeline.splice(e,1),!0}return!1},Tone.Transport.prototype.clearTimelines=function(){timelineProgress=0;var t=transportTimeline.length>0;return transportTimeline=[],t},Tone.Transport.prototype._toTicks=function(t){var e=this.toSeconds(t),n=this.notationToSeconds("4n"),r=e/n,i=r*tatum;return Math.round(i)},Tone.Transport.prototype._ticksToSeconds=function(t,e,n){t=Math.floor(t);var r=this.notationToSeconds("4n",e,n);return r*t/tatum},Tone.Transport.prototype.nextBeat=function(t){t=this.defaultArg(t,"4n");var e=this._toTicks(t),n=transportTicks%e,r=n;return n>0&&(r=e-n),this._ticksToSeconds(r)},Tone.Transport.prototype.start=function(t,e){if(this.state===Tone.State.Stopped||this.state===Tone.State.Paused){this.isUndef(e)||this._setTicks(this._toTicks(e)),this.state=Tone.State.Started;var n=this.toSeconds(t);this._clock.start(n);for(var r=0;r<SyncedSources.length;r++){var i=SyncedSources[r].source,o=SyncedSources[r].delay;i.start(n+o)}}return this},Tone.Transport.prototype.stop=function(t){if(this.state===Tone.State.Started||this.state===Tone.State.Paused){var e=this.toSeconds(t);this._clock.stop(e);for(var n=0;n<SyncedSources.length;n++){var r=SyncedSources[n].source;r.stop(e)}}else this._onended();return this},Tone.Transport.prototype._onended=function(){transportTicks=0,this._setTicks(0),this.clearTimeouts(),this.state=Tone.State.Stopped},Tone.Transport.prototype.pause=function(t){if(this.state===Tone.State.Started){this.state=Tone.State.Paused;var e=this.toSeconds(t);this._clock.stop(e);for(var n=0;n<SyncedSources.length;n++){var r=SyncedSources[n].source;r.pause(e)}}return this},Object.defineProperty(Tone.Transport.prototype,"timeSignature",{get:function(){return transportTimeSignature},set:function(t){transportTimeSignature=t}}),Object.defineProperty(Tone.Transport.prototype,"loopStart",{get:function(){return this._ticksToSeconds(loopStart)},set:function(t){loopStart=this._toTicks(t)}}),Object.defineProperty(Tone.Transport.prototype,"loopEnd",{get:function(){return this._ticksToSeconds(loopEnd)},set:function(t){loopEnd=this._toTicks(t)}}),Tone.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(Tone.Transport.prototype,"swing",{get:function(){return 2*swingAmount},set:function(t){swingAmount=.5*t}}),Object.defineProperty(Tone.Transport.prototype,"swingSubdivision",{get:function(){return swingSubdivision},set:function(t){swingSubdivision=t,swingTatum=this._toTicks(t)}}),Object.defineProperty(Tone.Transport.prototype,"position",{get:function(){var t=timelineTicks/tatum,e=Math.floor(t/transportTimeSignature),n=Math.floor(t%1*4);t=Math.floor(t)%transportTimeSignature;var r=[e,t,n];return r.join(":")},set:function(t){var e=this._toTicks(t);this._setTicks(e)}}),Tone.Transport.prototype.syncSource=function(t,e){return SyncedSources.push({source:t,delay:this.toSeconds(this.defaultArg(e,0))}),this},Tone.Transport.prototype.unsyncSource=function(t){for(var e=0;e<SyncedSources.length;e++)SyncedSources[e].source===t&&SyncedSources.splice(e,1);return this},Tone.Transport.prototype.syncSignal=function(t,e){e||(e=0!==t._value.value?t._value.value/this.bpm.value:0);var n=this.context.createGain();return n.gain.value=e,this.bpm.chain(n,t._value),SyncedSignals.push({ratio:n,signal:t,initial:t._value.value}),t._value.value=0,this},Tone.Transport.prototype.unsyncSignal=function(t){for(var e=0;e<SyncedSignals.length;e++){var n=SyncedSignals[e];n.signal===t&&(n.ratio.disconnect(),n.signal._value.value=n.initial,SyncedSignals.splice(e,1))}return this},Tone.Transport.prototype.dispose=function(){return this._clock.dispose(),this._clock=null,this.bpm.dispose(),this.bpm=null,this._bpmMult.dispose(),this._bpmMult=null,this};var TimelineEventIDCounter=0,TimelineEvent=function(t,e,n,r){this.startTicks=r,this.tickTime=n,this.callback=t,this.context=e,this.id=TimelineEventIDCounter++};TimelineEvent.prototype.doCallback=function(t){this.callback.call(this.context,t)},TimelineEvent.prototype.callbackTick=function(){return this.startTicks+this.tickTime},TimelineEvent.prototype.testInterval=function(t){return(t-this.startTicks)%this.tickTime===0},Tone.prototype.isNotation=function(){var t=new RegExp(/[0-9]+[mnt]$/i);return function(e){return t.test(e)}}(),Tone.prototype.isTransportTime=function(){var t=new RegExp(/^\d+(\.\d+)?:\d+(\.\d+)?(:\d+(\.\d+)?)?$/i);return function(e){return t.test(e)}}(),Tone.prototype.notationToSeconds=function(t,e,n){e=this.defaultArg(e,Tone.Transport.bpm.value),n=this.defaultArg(n,transportTimeSignature);var r=60/e,i=parseInt(t,10),o=0;0===i&&(o=0);var s=t.slice(-1);return o="t"===s?4/i*2/3:"n"===s?4/i:"m"===s?i*n:0,r*o},Tone.prototype.transportTimeToSeconds=function(t,e,n){e=this.defaultArg(e,Tone.Transport.bpm.value),n=this.defaultArg(n,transportTimeSignature);var r=0,i=0,o=0,s=t.split(":");2===s.length?(r=parseFloat(s[0]),i=parseFloat(s[1])):1===s.length?i=parseFloat(s[0]):3===s.length&&(r=parseFloat(s[0]),i=parseFloat(s[1]),o=parseFloat(s[2]));var a=r*n+i+o/4;return a*this.notationToSeconds("4n")},Tone.prototype.toTransportTime=function(t,e,n){var r=this.toSeconds(t,e,n);e=this.defaultArg(e,Tone.Transport.bpm.value),n=this.defaultArg(n,transportTimeSignature);var i=this.notationToSeconds("4n"),o=r/i,s=Math.floor(o/n),a=Math.floor(o%1*4);o=Math.floor(o)%n;var u=[s,o,a];return u.join(":")},Tone.prototype.toFrequency=function(t,e){return this.isFrequency(t)?parseFloat(t):this.isNotation(t)||this.isTransportTime(t)?this.secondsToFrequency(this.toSeconds(t,e)):t},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),"number"==typeof time)return time;if("string"==typeof time){var plusTime=0;"+"===time.charAt(0)&&(plusTime=now,time=time.slice(1));var components=time.split(/[\(\)\-\+\/\*]/);if(components.length>1){for(var originalTime=time,i=0;i<components.length;i++){var symb=components[i].trim();if(""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}}try{time=eval(time)}catch(e){throw new EvalError("problem evaluating Tone.Type.Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):parseFloat(time);return time+plusTime}return now};var TransportConstructor=Tone.Transport;return Tone._initAudioContext(function(){if("function"==typeof Tone.Transport)Tone.Transport=new Tone.Transport;else{Tone.Transport.stop();var t=Tone.Transport.bpm.value;Tone.Transport._clock.dispose(),TransportConstructor.call(Tone.Transport),Tone.Transport.bpm.value=t}}),Tone.Transport}),Module(function(t){t.Master=function(){t.call(this),this._unmutedVolume=1,this._muted=!1,this.volume=new t.Signal(this.output.gain,t.Type.Decibels),this.input.chain(this.output,this.context.destination)},t.extend(t.Master),t.Master.defaults={volume:0,mute:!1},Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._muted},set:function(t){!this._muted&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-(1/0)):this._muted&&!t&&(this.volume.value=this._unmutedVolume),this._muted=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.prototype.toMaster=function(){return this.connect(t.Master),this},AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this};var e=t.Master;return t._initAudioContext(function(){t.prototype.isUndef(t.Master)?(e.prototype.dispose.call(t.Master),e.call(t.Master)):t.Master=new e}),t.Master}),Module(function(t){return t.Source=function(e){t.call(this,0,1),e=this.defaultArg(e,t.Source.defaults),this.onended=e.onended,this._nextStart=1/0,this._nextStop=1/0,this.volume=new t.Signal({param:this.output.gain,value:e.volume,units:t.Type.Decibels}),this._readOnly("volume"),this._timeout=-1,this.output.channelCount=2,this.output.channelCountMode="explicit"},t.extend(t.Source),t.Source.defaults={onended:t.noOp,volume:0},Object.defineProperty(t.Source.prototype,"state",{get:function(){return this._stateAtTime(this.now())}}),t.Source.prototype._stateAtTime=function(e){return e=this.toSeconds(e),this._nextStart<=e&&this._nextStop>e?t.State.Started:this._nextStop<=e?t.State.Stopped:t.State.Stopped},t.Source.prototype.start=function(e){return e=this.toSeconds(e),(this._stateAtTime(e)!==t.State.Started||this.retrigger)&&(this._nextStart=e,this._nextStop=1/0,this._start.apply(this,arguments)),this},t.Source.prototype.stop=function(e){var n=this.now();if(e=this.toSeconds(e,n),this._stateAtTime(e)===t.State.Started){this._nextStop=this.toSeconds(e),clearTimeout(this._timeout);var r=e-n;r>0?this._timeout=setTimeout(this.onended,1e3*r+20):this.onended(),this._stop.apply(this,arguments)}return this},t.Source.prototype.pause=function(t){return this.stop(t),this},t.Source.prototype.sync=function(e){return t.Transport.syncSource(this,e),this},t.Source.prototype.unsync=function(){return t.Transport.unsyncSource(this),this},t.Source.prototype.dispose=function(){t.prototype.dispose.call(this),this.stop(),clearTimeout(this._timeout),this.onended=t.noOp,this._writable("volume"),this.volume.dispose(),this.volume=null},t.Source}),Module(function(t){return t.Oscillator=function(){var e=this.optionsObject(arguments,["frequency","type"],t.Oscillator.defaults);t.Source.call(this,e),this._oscillator=null,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._wave=null,this._phase=e.phase,this._type=null,this.type=e.type,this.phase=this._phase,this._readOnly(["frequency","detune"])},t.extend(t.Oscillator,t.Source),t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0},t.Oscillator.prototype._start=function(t){this._oscillator=this.context.createOscillator(),this._oscillator.setPeriodicWave(this._wave),this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(this.toSeconds(t))},t.Oscillator.prototype._stop=function(t){return this._oscillator&&(this._oscillator.stop(this.toSeconds(t)),this._oscillator=null),this},t.Oscillator.prototype.syncFrequency=function(){return t.Transport.syncSignal(this.frequency),this},t.Oscillator.prototype.unsyncFrequency=function(){return t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=t,n=4096,r=n/2,i=new Float32Array(r),o=new Float32Array(r),s=1,a=/(sine|triangle|square|sawtooth)(\d+)$/.exec(t);a&&(s=parseInt(a[2]),t=a[1],s=Math.max(s,2),r=s);for(var u=this._phase,l=1;r>l;++l){var c,h=2/(l*Math.PI);switch(t){case"sine":c=s>=l?1:0;break;case"square":c=1&l?2*h:0;break;case"sawtooth":c=h*(1&l?1:-1);break;case"triangle":c=1&l?2*h*h*(l-1>>1&1?-1:1):0;break;default:throw new TypeError("invalid oscillator type: "+t)}0!==c?(i[l]=-c*Math.sin(u*l),o[l]=c*Math.cos(u*l)):(i[l]=0,o[l]=0)}var p=this.context.createPeriodicWave(i,o);this._wave=p,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=e}}),Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),t.Oscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this},t.Oscillator}),Module(function(t){return t.AudioToGain=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}),Module(function(t){return t.LFO=function(){var e=this.optionsObject(arguments,["frequency","min","max"],t.LFO.defaults);this.oscillator=new t.Oscillator({frequency:e.frequency,type:e.type,phase:e.phase+90}),this.frequency=this.oscillator.frequency,this.amplitude=this.oscillator.volume,this.amplitude.units=t.Type.NormalRange,this.amplitude.value=e.amplitude,this._a2g=new t.AudioToGain,this._scaler=this.output=new t.Scale(e.min,e.max),this._units=t.Type.Default,this.oscillator.chain(this._a2g,this._scaler),this._readOnly(["amplitude","frequency","oscillator"])},t.extend(t.LFO,t.Oscillator),t.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1},t.LFO.prototype.start=function(t){return this.oscillator.start(t),this},t.LFO.prototype.stop=function(t){return this.oscillator.stop(t),this},t.LFO.prototype.sync=function(t){return this.oscillator.sync(t),this.oscillator.syncFrequency(),this},t.LFO.prototype.unsync=function(){return this.oscillator.unsync(),this.oscillator.unsyncFrequency(),this},Object.defineProperty(t.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(t.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(t.LFO.prototype,"type",{get:function(){return this.oscillator.type},set:function(t){this.oscillator.type=t}}),Object.defineProperty(t.LFO.prototype,"phase",{get:function(){return this.oscillator.phase-90},set:function(t){this.oscillator.phase=t+90}}),Object.defineProperty(t.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}}),t.LFO.prototype.connect=function(e){return e.constructor===t.Signal&&(this.convert=e.convert,this.units=e.units),t.Signal.prototype.connect.apply(this,arguments),this},t.LFO.prototype._fromUnits=t.Signal.prototype._fromUnits,t.LFO.prototype._toUnits=t.Signal.prototype._toUnits,t.LFO.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["amplitude","frequency","oscillator"]),this.oscillator.dispose(),this.oscillator=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},t.LFO}),Module(function(t){return t.Limiter=function(e){this._compressor=this.input=this.output=new t.Compressor({attack:.001,decay:.001,threshold:e}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},t.extend(t.Limiter),t.Limiter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},t.Limiter}),Module(function(t){return t.LowpassCombFilter=function(){t.call(this);var e=this.optionsObject(arguments,["delayTime","resonance","dampening"],t.LowpassCombFilter.defaults);this._delay=this.input=this.context.createDelay(1),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this._lowpass=this.output=this.context.createBiquadFilter(),
this._lowpass.Q.value=0,this._lowpass.type="lowpass",this.dampening=new t.Signal(this._lowpass.frequency,t.Type.Frequency),this.dampening.value=e.dampening,this._feedback=this.context.createGain(),this.resonance=new t.Signal(e.resonance,t.Type.NormalRange),this._delay.chain(this._lowpass,this._feedback,this._delay),this.delayTime.connect(this._delay.delayTime),this.resonance.connect(this._feedback.gain),this.dampening.connect(this._lowpass.frequency),this._readOnly(["dampening","resonance","delayTime"])},t.extend(t.LowpassCombFilter),t.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},t.LowpassCombFilter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this.dampening.dispose(),this.dampening=null,this.resonance.dispose(),this.resonance=null,this._delay.disconnect(),this._delay=null,this._lowpass.disconnect(),this._lowpass=null,this._feedback.disconnect(),this._feedback=null,this.delayTime.dispose(),this.delayTime=null,this},t.LowpassCombFilter}),Module(function(t){return t.Merge=function(){t.call(this,2,0),this.left=this.input[0]=this.context.createGain(),this.right=this.input[1]=this.context.createGain(),this._merger=this.output=this.context.createChannelMerger(2),this.left.connect(this._merger,0,0),this.right.connect(this._merger,0,1)},t.extend(t.Merge),t.Merge.prototype.dispose=function(){return t.prototype.dispose.call(this),this.left.disconnect(),this.left=null,this.right.disconnect(),this.right=null,this._merger.disconnect(),this._merger=null,this},t.Merge}),Module(function(t){return t.Meter=function(e,n,r){t.call(this),this._channels=this.defaultArg(e,1),this._smoothing=this.defaultArg(n,.8),this._clipMemory=1e3*this.defaultArg(r,.5),this._volume=new Array(this._channels),this._values=new Array(this._channels);for(var i=0;i<this._channels;i++)this._volume[i]=0,this._values[i]=0;this._lastClip=0,this._jsNode=this.context.createScriptProcessor(this.bufferSize,this._channels,1),this._jsNode.onaudioprocess=this._onprocess.bind(this),this._jsNode.noGC(),this.input.connect(this.output),this.input.connect(this._jsNode)},t.extend(t.Meter),t.Meter.prototype._onprocess=function(t){for(var e=this._jsNode.bufferSize,n=this._smoothing,r=0;r<this._channels;r++){for(var i,o=t.inputBuffer.getChannelData(r),s=0,a=0,u=!1,l=0;e>l;l++)i=o[l],!u&&i>.95&&(u=!0,this._lastClip=Date.now()),a+=i,s+=i*i;var c=a/e,h=Math.sqrt(s/e);this._volume[r]=Math.max(h,this._volume[r]*n),this._values[r]=c}},t.Meter.prototype.getLevel=function(t){t=this.defaultArg(t,0);var e=this._volume[t];return 1e-5>e?0:e},t.Meter.prototype.getValue=function(t){return t=this.defaultArg(t,0),this._values[t]},t.Meter.prototype.getDb=function(t){return this.gainToDb(this.getLevel(t))},t.Meter.prototype.isClipped=function(){return Date.now()-this._lastClip<this._clipMemory},t.Meter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._jsNode.disconnect(),this._jsNode.onaudioprocess=null,this._volume=null,this._values=null,this},t.Meter}),Module(function(t){return t.Split=function(){t.call(this,0,2),this._splitter=this.input=this.context.createChannelSplitter(2),this.left=this.output[0]=this.context.createGain(),this.right=this.output[1]=this.context.createGain(),this._splitter.connect(this.left,0,0),this._splitter.connect(this.right,1,0)},t.extend(t.Split),t.Split.prototype.dispose=function(){return t.prototype.dispose.call(this),this._splitter.disconnect(),this.left.disconnect(),this.right.disconnect(),this.left=null,this.right=null,this._splitter=null,this},t.Split}),Module(function(t){t.MidSideSplit=function(){t.call(this,0,2),this._split=this.input=new t.Split,this.mid=this.output[0]=new t.Expr("($0 + $1) * $2"),this.side=this.output[1]=new t.Expr("($0 - $1) * $2"),this._split.connect(this.mid,0,0),this._split.connect(this.mid,1,1),this._split.connect(this.side,0,0),this._split.connect(this.side,1,1),e.connect(this.mid,0,2),e.connect(this.side,0,2)},t.extend(t.MidSideSplit);var e=null;return t._initAudioContext(function(){e=new t.Signal(1/Math.sqrt(2))}),t.MidSideSplit.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._split.dispose(),this._split=null,this},t.MidSideSplit}),Module(function(t){t.MidSideMerge=function(){t.call(this,2,0),this.mid=this.input[0]=this.context.createGain(),this._left=new t.Expr("($0 + $1) * $2"),this.side=this.input[1]=this.context.createGain(),this._right=new t.Expr("($0 - $1) * $2"),this._merge=this.output=new t.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._merge,0,0),this._right.connect(this._merge,0,1),e.connect(this._left,0,2),e.connect(this._right,0,2)},t.extend(t.MidSideMerge);var e=null;return t._initAudioContext(function(){e=new t.Signal(1/Math.sqrt(2))}),t.MidSideMerge.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mid.disconnect(),this.mid=null,this.side.disconnect(),this.side=null,this._left.dispose(),this._left=null,this._right.dispose(),this._right=null,this._merge.dispose(),this._merge=null,this},t.MidSideMerge}),Module(function(t){return t.MidSideCompressor=function(e){e=this.defaultArg(e,t.MidSideCompressor.defaults),this._midSideSplit=this.input=new t.MidSideSplit,this._midSideMerge=this.output=new t.MidSideMerge,this.mid=new t.Compressor(e.mid),this.side=new t.Compressor(e.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},t.extend(t.MidSideCompressor),t.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},t.MidSideCompressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},t.MidSideCompressor}),Module(function(t){return t.Mono=function(){t.call(this,1,0),this._merge=this.output=new t.Merge,this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1),this.input.gain.value=this.dbToGain(-10)},t.extend(t.Mono),t.Mono.prototype.dispose=function(){return t.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},t.Mono}),Module(function(t){return t.MultibandCompressor=function(e){e=this.defaultArg(arguments,t.MultibandCompressor.defaults),this._splitter=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=this.context.createGain(),this.low=new t.Compressor(e.low),this.mid=new t.Compressor(e.mid),this.high=new t.Compressor(e.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandCompressor),t.MultibandCompressor.defaults={low:t.Compressor.defaults,mid:t.Compressor.defaults,high:t.Compressor.defaults,lowFrequency:250,highFrequency:2e3},t.MultibandCompressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},t.MultibandCompressor}),Module(function(t){return t.GainToAudio=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return 2*Math.abs(t)-1})},t.extend(t.GainToAudio,t.SignalBase),t.GainToAudio.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.GainToAudio}),Module(function(t){return t.Panner=function(e){t.call(this),this._hasStereoPanner=this.isFunction(this.context.createStereoPanner),this._hasStereoPanner?(this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=new t.Signal(0,t.Type.NormalRange),this._scalePan=new t.GainToAudio,this.pan.chain(this._scalePan,this._panner.pan)):(this._crossFade=new t.CrossFade,this._merger=this.output=new t.Merge,this._splitter=this.input=new t.Split,this.pan=this._crossFade.fade,this._splitter.connect(this._crossFade,0,0),this._splitter.connect(this._crossFade,1,1),this._crossFade.a.connect(this._merger,0,0),this._crossFade.b.connect(this._merger,0,1)),this.pan.value=this.defaultArg(e,.5),this._readOnly("pan")},t.extend(t.Panner),t.Panner.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("pan"),this._hasStereoPanner?(this._panner.disconnect(),this._panner=null,this.pan.dispose(),this.pan=null,this._scalePan.dispose(),this._scalePan=null):(this._crossFade.dispose(),this._crossFade=null,this._splitter.dispose(),this._splitter=null,this._merger.dispose(),this._merger=null,this.pan=null),this},t.Panner}),Module(function(t){return t.Volume=function(e){this.output=this.input=this.context.createGain(),this.volume=new t.Signal(this.output.gain,t.Type.Decibels),this.volume.value=this.defaultArg(e,0),this._readOnly("volume")},t.extend(t.Volume),t.Volume.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}),Module(function(t){return t.PanVol=function(e,n){this._panner=this.input=new t.Panner(e),this.pan=this._panner.pan,this._volume=this.output=new t.Volume(n),this.volume=this._volume.volume,this._panner.connect(this._volume),this._readOnly(["pan","volume"])},t.extend(t.PanVol),t.PanVol.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this._volume.dispose(),this._volume=null,this.pan=null,this.volume=null,this},t.PanVol}),Module(function(t){return t.ScaledEnvelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);t.Envelope.call(this,e),e=this.defaultArg(e,t.ScaledEnvelope.defaults),this._exp=this.output=new t.Pow(e.exponent),this._scale=this.output=new t.Scale(e.min,e.max),this._sig.chain(this._exp,this._scale)},t.extend(t.ScaledEnvelope,t.Envelope),t.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(t.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.ScaledEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaledEnvelope}),Module(function(t){return t.Buffer=function(){var e=this.optionsObject(arguments,["url","onload"],t.Buffer.defaults);this._buffer=null,this._reversed=e.reverse,this.url=void 0,this.loaded=!1,this.onload=e.onload.bind(this,this),e.url instanceof AudioBuffer?(this._buffer.set(e.url),this.onload(this)):"string"==typeof e.url&&(this.url=e.url,t.Buffer._addToQueue(e.url,this))},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,onload:t.noOp,reverse:!1},t.Buffer.prototype.set=function(e){return e instanceof t.Buffer?this._buffer=e.get():this._buffer=e,this.loaded=!0,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,n){return this.url=e,this.onload=this.defaultArg(n,this.onload),t.Buffer._addToQueue(e,this),this},t.Buffer.prototype.dispose=function(){return t.prototype.dispose.call(this),t.Buffer._removeFromQueue(this),this._buffer=null,this.onload=t.Buffer.defaults.onload,this},Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this._buffer.numberOfChannels;t++)Array.prototype.reverse.call(this._buffer.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Buffer._queue=[],t.Buffer._currentDownloads=[],t.Buffer._totalDownloads=0,t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS=6,t.Buffer._addToQueue=function(e,n){t.Buffer._queue.push({url:e,Buffer:n,progress:0,xhr:null}),this._totalDownloads++,t.Buffer._next()},t.Buffer._removeFromQueue=function(e){var n;for(n=0;n<t.Buffer._queue.length;n++){var r=t.Buffer._queue[n];r.Buffer===e&&t.Buffer._queue.splice(n,1)}for(n=0;n<t.Buffer._currentDownloads.length;n++){var i=t.Buffer._currentDownloads[n];i.Buffer===e&&(t.Buffer._currentDownloads.splice(n,1),i.xhr.abort(),i.xhr.onprogress=null,i.xhr.onload=null,i.xhr.onerror=null)}},t.Buffer._next=function(){if(t.Buffer._queue.length>0){if(t.Buffer._currentDownloads.length<t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS){var e=t.Buffer._queue.shift();t.Buffer._currentDownloads.push(e),e.xhr=t.Buffer.load(e.url,function(n){var r=t.Buffer._currentDownloads.indexOf(e);t.Buffer._currentDownloads.splice(r,1),e.Buffer.set(n),e.Buffer._reversed&&e.Buffer._reverse(),e.Buffer.onload(e.Buffer),t.Buffer._onprogress(),t.Buffer._next()}),e.xhr.onprogress=function(n){e.progress=n.loaded/n.total,t.Buffer._onprogress()},e.xhr.onerror=t.Buffer.onerror}}else 0===t.Buffer._currentDownloads.length&&(t.Buffer.onload(),t.Buffer._totalDownloads=0)},t.Buffer._onprogress=function(){var e=0,n=t.Buffer._currentDownloads.length,r=0;if(n>0){for(var i=0;n>i;i++){var o=t.Buffer._currentDownloads[i];e+=o.progress}r=e}var s=n-r,a=t.Buffer._totalDownloads-t.Buffer._queue.length-s;t.Buffer.onprogress(a/t.Buffer._totalDownloads)},t.Buffer.load=function(e,n){var r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){t.context.decodeAudioData(r.response,function(t){if(!t)throw new Error("could not decode audio data:"+e);n(t)})},r.send(),r},t.Buffer.onload=t.noOp,t.Buffer.onprogress=t.noOp,t.Buffer.onerror=t.noOp,t.Buffer}),Module(function(t){var e={};return t.prototype.send=function(t,n){e.hasOwnProperty(t)||(e[t]=this.context.createGain());var r=this.context.createGain();return r.gain.value=this.dbToGain(this.defaultArg(n,1)),this.output.chain(r,e[t]),r},t.prototype.receive=function(t,n){return e.hasOwnProperty(t)||(e[t]=this.context.createGain()),this.isUndef(n)&&(n=this.input),e[t].connect(n),this},t}),Module(function(t){function e(t,e,r){if(n.hasOwnProperty(t))for(var i=n[t],o=0,s=i.length;s>o;o++){var a=i[o];Array.isArray(r)?a.apply(window,[e].concat(r)):a(e,r)}}t.Note=function(e,n,r){this.value=r,this._channel=e,this._timelineID=t.Transport.setTimeline(this._trigger.bind(this),n)},t.Note.prototype._trigger=function(t){e(this._channel,t,this.value)},t.Note.prototype.dispose=function(){return t.Transport.clearTimeline(this._timelineID),this.value=null,this};var n={};t.Note.route=function(t,e){n.hasOwnProperty(t)?n[t].push(e):n[t]=[e]},t.Note.unroute=function(t,e){if(n.hasOwnProperty(t)){var r=n[t],i=r.indexOf(e);-1!==i&&n[t].splice(i,1)}},t.Note.parseScore=function(e){var n=[];for(var r in e){var i=e[r];if("tempo"===r)t.Transport.bpm.value=i;else if("timeSignature"===r)t.Transport.timeSignature=i[0]/(i[1]/4);else{if(!Array.isArray(i))throw new TypeError("score parts must be Arrays");for(var o=0;o<i.length;o++){var s,a=i[o];if(Array.isArray(a)){var u=a[0],l=a.slice(1);s=new t.Note(r,u,l)}else s=new t.Note(r,a);n.push(s)}}}return n};var r={c:0,"c#":1,db:1,d:2,"d#":3,eb:3,e:4,f:5,"f#":6,gb:6,g:7,"g#":8,ab:8,a:9,"a#":10,bb:10,b:11},i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=261.6255653005986;return t.prototype.noteToFrequency=function(t){var e=t.split(/(\d+)/);if(3===e.length){var n=r[e[0].toLowerCase()],i=e[1],s=n+12*parseInt(i,10);return Math.pow(2,(s-48)/12)*o}return 0},t.prototype.isNote=function(){var t=new RegExp(/[a-g]{1}([b#]{1}|[b#]{0})[0-9]+$/i);return function(e){return"string"==typeof e&&(e=e.toLowerCase()),t.test(e)}}(),t.prototype._overwrittenToFrequency=t.prototype.toFrequency,t.prototype.toFrequency=function(t,e){return this.isNote(t)&&(t=this.noteToFrequency(t)),this._overwrittenToFrequency(t,e)},t.prototype.frequencyToNote=function(t){var e=Math.log(t/o)/Math.LN2,n=Math.round(12*e)+48,r=Math.floor(n/12),s=i[n%12];return s+r.toString()},t.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},t.prototype.midiToNote=function(t){var e=Math.floor(t/12)-2,n=t%12;return i[n]+e},t.prototype.noteToMidi=function(t){var e=t.split(/(\d+)/);if(3===e.length){var n=r[e[0].toLowerCase()],i=e[1];return n+12*(parseInt(i,10)+2)}return 0},t.Note}),Module(function(t){return t.PulseOscillator=function(){var e=this.optionsObject(arguments,["frequency","width"],t.Oscillator.defaults);t.Source.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._widthGate=this.context.createGain(),this._sawtooth=new t.Oscillator({frequency:e.frequency,detune:e.detune,type:"sawtooth",phase:e.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new t.WaveShaper(function(t){return 0>t?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},t.extend(t.PulseOscillator,t.Oscillator),t.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},t.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},t.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},Object.defineProperty(t.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(t.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),t.PulseOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.disconnect(),this._widthGate=null,this._widthGate=null,this._thresh.disconnect(),this._thresh=null,this.frequency=null,this.detune=null,this},t.PulseOscillator}),Module(function(t){return t.PWMOscillator=function(){var e=this.optionsObject(arguments,["frequency","modulationFrequency"],t.PWMOscillator.defaults);t.Source.call(this,e),this._pulse=new t.PulseOscillator(e.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new t.Oscillator({frequency:e.frequency,detune:e.detune}),this._scale=new t.Multiply(1.01),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},t.extend(t.PWMOscillator,t.Oscillator),t.PWMOscillator.defaults={frequency:440,detune:0,modulationFrequency:.4},t.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},t.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},Object.defineProperty(t.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(t.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),t.PWMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},t.PWMOscillator}),Module(function(t){t.OmniOscillator=function(){var e=this.optionsObject(arguments,["frequency","type"],t.OmniOscillator.defaults);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=e.type,this._readOnly(["frequency","detune"])},t.extend(t.OmniOscillator,t.Oscillator),t.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",width:.4,modulationFrequency:.4};var e={PulseOscillator:"PulseOscillator",PWMOscillator:"PWMOscillator",Oscillator:"Oscillator"};return t.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},t.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},Object.defineProperty(t.OmniOscillator.prototype,"type",{get:function(){return this._oscillator.type},set:function(n){if(0===n.indexOf("sine")||0===n.indexOf("square")||0===n.indexOf("triangle")||0===n.indexOf("sawtooth"))this._sourceType!==e.Oscillator&&(this._sourceType=e.Oscillator,this._createNewOscillator(t.Oscillator)),this._oscillator.type=n;else if("pwm"===n)this._sourceType!==e.PWMOscillator&&(this._sourceType=e.PWMOscillator,this._createNewOscillator(t.PWMOscillator));else{if("pulse"!==n)throw new TypeError("Tone.OmniOscillator does not support type "+n);this._sourceType!==e.PulseOscillator&&(this._sourceType=e.PulseOscillator,this._createNewOscillator(t.PulseOscillator))}}}),t.OmniOscillator.prototype._createNewOscillator=function(e){var n=this.now()+this.bufferTime;if(null!==this._oscillator){var r=this._oscillator;r.stop(n),r.onended=function(){r.dispose(),r=null}}this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===t.State.Started&&this._oscillator.start(n)},Object.defineProperty(t.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}}),Object.defineProperty(t.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===e.PulseOscillator?this._oscillator.width:void 0}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===e.PWMOscillator?this._oscillator.modulationFrequency:void 0}}),t.OmniOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},t.OmniOscillator}),Module(function(t){return t.Instrument=function(e){e=this.defaultArg(e,t.Instrument.defaults),this.output=this.context.createGain(),this.volume=new t.Signal({param:this.output.gain,units:t.Type.Decibels,value:e.volume}),this._readOnly(["volume"])},t.extend(t.Instrument),t.Instrument.defaults={volume:0},t.Instrument.prototype.triggerAttack=t.noOp,t.Instrument.prototype.triggerRelease=t.noOp,t.Instrument.prototype.triggerAttackRelease=function(t,e,n,r){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,r),this.triggerRelease(n+e),this},t.Instrument.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["volume"]),this.volume.dispose(),this.volume=null,this},t.Instrument}),Module(function(t){return t.Monophonic=function(e){e=this.defaultArg(e,t.Monophonic.defaults),t.Instrument.call(this,e),this.portamento=e.portamento},t.extend(t.Monophonic,t.Instrument),t.Monophonic.defaults={portamento:0},t.Monophonic.prototype.triggerAttack=function(t,e,n){return e=this.toSeconds(e),this._triggerEnvelopeAttack(e,n),this.setNote(t,e),this},t.Monophonic.prototype.triggerRelease=function(t){return this._triggerEnvelopeRelease(t),this},t.Monophonic.prototype._triggerEnvelopeAttack=function(){},t.Monophonic.prototype._triggerEnvelopeRelease=function(){},t.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0){var n=this.frequency.value;this.frequency.setValueAtTime(n,e);var r=this.toSeconds(this.portamento);this.frequency.exponentialRampToValueAtTime(t,e+r)}else this.frequency.setValueAtTime(t,e);return this},t.Monophonic}),Module(function(t){return t.MonoSynth=function(e){e=this.defaultArg(e,t.MonoSynth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new t.Filter(e.filter),this.filterEnvelope=new t.ScaledEnvelope(e.filterEnvelope),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.oscillator.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},t.extend(t.MonoSynth,t.Monophonic),t.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,min:20,max:4e3,exponent:2}},t.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this},t.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this},t.MonoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},t.MonoSynth}),Module(function(t){return t.AMSynth=function(e){e=this.defaultArg(e,t.AMSynth.defaults),t.Monophonic.call(this,e),this.carrier=new t.MonoSynth(e.carrier),this.carrier.volume.value=-10,this.modulator=new t.MonoSynth(e.modulator),this.modulator.volume.value=-10,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationScale=new t.AudioToGain,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.modulator.chain(this._modulationScale,this._modulationNode.gain),this.carrier.chain(this._modulationNode,this.output),this._readOnly(["carrier","modulator","frequency","harmonicity"])},t.extend(t.AMSynth,t.Monophonic),t.AMSynth.defaults={harmonicity:3,carrier:{volume:-10,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,min:2e4,max:2e4},filter:{Q:6,type:"lowpass",rolloff:-24}},modulator:{volume:-10,oscillator:{type:"square"},envelope:{attack:2,decay:0,sustain:1,release:.5},filterEnvelope:{attack:4,decay:.2,sustain:.5,release:.5,min:20,max:1500},filter:{Q:6,type:"lowpass",rolloff:-24}}},t.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.carrier.envelope.triggerAttack(t,e),this.modulator.envelope.triggerAttack(t),this.carrier.filterEnvelope.triggerAttack(t),this.modulator.filterEnvelope.triggerAttack(t),this},t.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this.carrier.triggerRelease(t),this.modulator.triggerRelease(t),this},t.AMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.disconnect(),this._modulationNode=null,this},t.AMSynth}),Module(function(t){return t.DrumSynth=function(e){e=this.defaultArg(e,t.DrumSynth.defaults),t.Instrument.call(this,e),this.oscillator=new t.Oscillator(e.oscillator).start(),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.octaves=e.octaves,this.pitchDecay=e.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},t.extend(t.DrumSynth,t.Instrument),t.DrumSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},t.DrumSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e),t=this.toFrequency(t);var r=t*this.octaves;return this.oscillator.frequency.setValueAtTime(r,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,n),this},t.DrumSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.DrumSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},t.DrumSynth}),Module(function(t){return t.DuoSynth=function(e){e=this.defaultArg(e,t.DuoSynth.defaults),t.Monophonic.call(this,e),this.voice0=new t.MonoSynth(e.voice0),this.voice0.volume.value=-10,this.voice1=new t.MonoSynth(e.voice1),this.voice1.volume.value=-10,this._vibrato=new t.LFO(e.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=this.context.createGain(),this.vibratoAmount=new t.Signal(this._vibratoGain.gain,t.Type.Gain),this.vibratoAmount.value=e.vibratoAmount,this._vibratoDelay=this.toSeconds(e.vibratoDelay),this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},t.extend(t.DuoSynth,t.Monophonic),t.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,vibratoDelay:1,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},t.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0.envelope.triggerAttack(t,e),this.voice1.envelope.triggerAttack(t,e),this.voice0.filterEnvelope.triggerAttack(t),this.voice1.filterEnvelope.triggerAttack(t),this},t.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0.triggerRelease(t),this.voice1.triggerRelease(t),this},t.DuoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibrato.dispose(),this._vibrato=null,this._vibratoGain.disconnect(),this._vibratoGain=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},t.DuoSynth}),Module(function(t){return t.FMSynth=function(e){e=this.defaultArg(e,t.FMSynth.defaults),t.Monophonic.call(this,e),this.carrier=new t.MonoSynth(e.carrier),
this.carrier.volume.value=-10,this.modulator=new t.MonoSynth(e.modulator),this.modulator.volume.value=-10,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.modulator.connect(this._modulationNode.gain),this._modulationNode.gain.value=0,this._modulationNode.connect(this.carrier.frequency),this.carrier.connect(this.output),this._readOnly(["carrier","modulator","frequency","harmonicity","modulationIndex"])},t.extend(t.FMSynth,t.Monophonic),t.FMSynth.defaults={harmonicity:3,modulationIndex:10,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:0,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,min:2e4,max:2e4}},modulator:{volume:-10,portamento:0,oscillator:{type:"triangle"},envelope:{attack:.01,decay:0,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,min:2e4,max:2e4}}},t.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.carrier.envelope.triggerAttack(t,e),this.modulator.envelope.triggerAttack(t),this.carrier.filterEnvelope.triggerAttack(t),this.modulator.filterEnvelope.triggerAttack(t),this},t.FMSynth.prototype._triggerEnvelopeRelease=function(t){return this.carrier.triggerRelease(t),this.modulator.triggerRelease(t),this},t.FMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity","modulationIndex"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.disconnect(),this._modulationNode=null,this},t.FMSynth}),Module(function(t){t.Noise=function(){var e=this.optionsObject(arguments,["type"],t.Noise.defaults);t.Source.call(this,e),this._source=null,this._buffer=null,this.type=e.type},t.extend(t.Noise,t.Source),t.Noise.defaults={type:"white"},Object.defineProperty(t.Noise.prototype,"type",{get:function(){return this._buffer===r?"white":this._buffer===n?"brown":this._buffer===e?"pink":void 0},set:function(i){if(this.type!==i){switch(i){case"white":this._buffer=r;break;case"pink":this._buffer=e;break;case"brown":this._buffer=n;break;default:this._buffer=r}if(this.state===t.State.Started){var o=this.now()+this.bufferTime;this._source.onended=void 0,this._stop(o),this._start(o)}}}}),t.Noise.prototype._start=function(t){this._source=this.context.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this.connectSeries(this._source,this.output),this._source.start(this.toSeconds(t)),this._source.onended=this.onended},t.Noise.prototype._stop=function(t){this._source&&this._source.stop(this.toSeconds(t))},t.Noise.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var e=null,n=null,r=null;return t._initAudioContext(function(t){var i=t.sampleRate,o=4*i;e=function(){for(var e=t.createBuffer(2,o,i),n=0;n<e.numberOfChannels;n++){var r,s,a,u,l,c,h,p=e.getChannelData(n);r=s=a=u=l=c=h=0;for(var d=0;o>d;d++){var f=2*Math.random()-1;r=.99886*r+.0555179*f,s=.99332*s+.0750759*f,a=.969*a+.153852*f,u=.8665*u+.3104856*f,l=.55*l+.5329522*f,c=-.7616*c-.016898*f,p[d]=r+s+a+u+l+c+h+.5362*f,p[d]*=.11,h=.115926*f}}return e}(),n=function(){for(var e=t.createBuffer(2,o,i),n=0;n<e.numberOfChannels;n++)for(var r=e.getChannelData(n),s=0,a=0;o>a;a++){var u=2*Math.random()-1;r[a]=(s+.02*u)/1.02,s=r[a],r[a]*=3.5}return e}(),r=function(){for(var e=t.createBuffer(2,o,i),n=0;n<e.numberOfChannels;n++)for(var r=e.getChannelData(n),s=0;o>s;s++)r[s]=2*Math.random()-1;return e}()}),t.Noise}),Module(function(t){return t.NoiseSynth=function(e){e=this.defaultArg(e,t.NoiseSynth.defaults),t.Instrument.call(this,e),this.noise=new t.Noise,this.filter=new t.Filter(e.filter),this.filterEnvelope=new t.ScaledEnvelope(e.filterEnvelope),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.noise.chain(this.filter,this.envelope,this.output),this.noise.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["noise","filter","filterEnvelope","envelope"])},t.extend(t.NoiseSynth,t.Instrument),t.NoiseSynth.defaults={noise:{type:"white"},filter:{Q:6,type:"highpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:0},filterEnvelope:{attack:.06,decay:.2,sustain:0,release:2,min:20,max:4e3,exponent:2}},t.NoiseSynth.prototype.triggerAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this},t.NoiseSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this},t.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},t.NoiseSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["noise","filter","filterEnvelope","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this},t.NoiseSynth}),Module(function(t){return t.PluckSynth=function(e){e=this.defaultArg(e,t.PluckSynth.defaults),t.Instrument.call(this,e),this._noise=new t.Noise("pink"),this.attackNoise=1,this._lfcf=new t.LowpassCombFilter({resonance:e.resonance,dampening:e.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},t.extend(t.PluckSynth,t.Instrument),t.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.9},t.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var n=1/t;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this},t.PluckSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},t.PluckSynth}),Module(function(t){return t.PolySynth=function(){t.Instrument.call(this);var e=this.optionsObject(arguments,["polyphony","voice"],t.PolySynth.defaults);this.voices=new Array(e.polyphony),this._freeVoices=[],this._activeVoices={};for(var n=0;n<e.polyphony;n++){var r=new e.voice(arguments[2],arguments[3]);this.voices[n]=r,r.connect(this.output)}this._freeVoices=this.voices.slice(0)},t.extend(t.PolySynth,t.Instrument),t.PolySynth.defaults={polyphony:4,voice:t.MonoSynth},t.PolySynth.prototype.triggerAttack=function(t,e,n){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r],o=JSON.stringify(i);if(this._activeVoices[o])this._activeVoices[o].triggerAttack(i,e,n);else if(this._freeVoices.length>0){var s=this._freeVoices.shift();s.triggerAttack(i,e,n),this._activeVoices[o]=s}}return this},t.PolySynth.prototype.triggerAttackRelease=function(t,e,n,r){return n=this.toSeconds(n),this.triggerAttack(t,n,r),this.triggerRelease(t,n+this.toSeconds(e)),this},t.PolySynth.prototype.triggerRelease=function(t,e){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=JSON.stringify(t[n]),i=this._activeVoices[r];i&&(i.triggerRelease(e),this._freeVoices.push(i),delete this._activeVoices[r],i=null)}return this},t.PolySynth.prototype.set=function(t,e,n){for(var r=0;r<this.voices.length;r++)this.voices[r].set(t,e,n);return this},t.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},t.PolySynth.prototype.setPreset=function(t){for(var e=0;e<this.voices.length;e++)this.voices[e].setPreset(t);return this},t.PolySynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this.voices.length;e++)this.voices[e].dispose(),this.voices[e]=null;return this.voices=null,this._activeVoices=null,this._freeVoices=null,this},t.PolySynth}),Module(function(t){return t.Player=function(){var e=this.optionsObject(arguments,["url","onload"],t.Player.defaults);t.Source.call(this,e),this._source=null,this.autostart=e.autostart,this._buffer=new t.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.retrigger=e.retrigger},t.extend(t.Player,t.Source),t.Player.defaults={onload:t.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,retrigger:!1,reverse:!1},t.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e)),this},t.Player.prototype._onload=function(t){t(this),this.autostart&&this.start()},t.Player.prototype._start=function(t,e,n){if(!this._buffer.loaded)throw Error("tried to start Player before the buffer was loaded");return e=this._loop?this.defaultArg(e,this._loopStart):this.defaultArg(e,0),e=this.toSeconds(e),n=this.defaultArg(n,this._buffer.duration-e),t=this.toSeconds(t),n=this.toSeconds(n),this._source=this.context.createBufferSource(),this._source.buffer=this._buffer.get(),this._loop?(this._source.loop=this._loop,this._source.loopStart=this.toSeconds(this._loopStart),this._source.loopEnd=this.toSeconds(this._loopEnd),n=65536):this._nextStop=t+n,this._source.playbackRate.value=this._playbackRate,this._source.onended=this.onended,this._source.connect(this.output),this._source.start(t,e,n),this},t.Player.prototype._stop=function(t){return this._source&&(this._source.stop(this.toSeconds(t)),this._source=null),this},t.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._source&&(this._source.loopStart=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._source&&(this._source.loopEnd=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._source&&(this._source.loop=t)}}),Object.defineProperty(t.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),Object.defineProperty(t.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),t.Player.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer.dispose(),this._buffer=null,this},t.Player}),Module(function(t){return t.Sampler=function(e,n){n=this.defaultArg(n,t.Sampler.defaults),t.Instrument.call(this,n),this.player=new t.Player(n.player),this.player.retrigger=!0,this._buffers={},this.envelope=new t.AmplitudeEnvelope(n.envelope),this.filterEnvelope=new t.ScaledEnvelope(n.filterEnvelope),this._sample=n.sample,this._pitch=n.pitch,this.filter=new t.Filter(n.filter),this._loadBuffers(e),this.pitch=n.pitch,this.player.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["player","filterEnvelope","envelope","filter"])},t.extend(t.Sampler,t.Instrument),t.Sampler.defaults={sample:0,pitch:0,player:{loop:!1},envelope:{attack:.001,decay:0,sustain:1,release:.1},filterEnvelope:{attack:.001,decay:.001,sustain:1,release:.5,min:20,max:2e4,exponent:2},filter:{type:"lowpass"}},t.Sampler.prototype._loadBuffers=function(e){if("string"==typeof e)this._buffers[0]=new t.Buffer(e,function(){this.sample="0"}.bind(this));else{e=this._flattenUrls(e);for(var n in e){this._sample=n;var r=e[n];this._buffers[n]=new t.Buffer(r)}}},t.Sampler.prototype._flattenUrls=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var r=this._flattenUrls(t[n]);for(var i in r)r.hasOwnProperty(i)&&(e[n+"."+i]=r[i])}else e[n]=t[n];return e},t.Sampler.prototype.triggerAttack=function(t,e,n){return e=this.toSeconds(e),t&&(this.sample=t),this.player.start(e),this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this},t.Sampler.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.filterEnvelope.triggerRelease(t),this.envelope.triggerRelease(t),this.player.stop(this.toSeconds(this.envelope.release)+t),this},Object.defineProperty(t.Sampler.prototype,"sample",{get:function(){return this._sample},set:function(t){if(!this._buffers.hasOwnProperty(t))throw new Error("Sampler does not have a sample named "+t);this._sample=t,this.player.buffer=this._buffers[t]}}),Object.defineProperty(t.Sampler.prototype,"reverse",{get:function(){for(var t in this._buffers)return this._buffers[t].reverse},set:function(t){for(var e in this._buffers)this._buffers[e].reverse=t}}),Object.defineProperty(t.Sampler.prototype,"pitch",{get:function(){return this._pitch},set:function(t){this._pitch=t,this.player.playbackRate=this.intervalToFrequencyRatio(t)}}),t.Sampler.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this),this._writable(["player","filterEnvelope","envelope","filter"]),this.player.dispose(),this.filterEnvelope.dispose(),this.envelope.dispose(),this.filter.dispose(),this.player=null,this.filterEnvelope=null,this.envelope=null,this.filter=null;for(var e in this._buffers)this._buffers[e].dispose(),this._buffers[e]=null;return this._buffers=null,this},t.Sampler}),Module(function(t){return t.SimpleSynth=function(e){e=this.defaultArg(e,t.SimpleSynth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.envelope,this.output),this.oscillator.start(),this._readOnly(["oscillator","frequency","detune","envelope"])},t.extend(t.SimpleSynth,t.Monophonic),t.SimpleSynth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},t.SimpleSynth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this},t.SimpleSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this},t.SimpleSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},t.SimpleSynth}),Module(function(t){return t.SimpleAM=function(e){e=this.defaultArg(e,t.SimpleAM.defaults),t.Monophonic.call(this,e),this.carrier=new t.SimpleSynth(e.carrier),this.modulator=new t.SimpleSynth(e.modulator),this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationScale=new t.AudioToGain,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.modulator.chain(this._modulationScale,this._modulationNode.gain),this.carrier.chain(this._modulationNode,this.output),this._readOnly(["carrier","modulator","frequency","harmonicity"])},t.extend(t.SimpleAM,t.Monophonic),t.SimpleAM.defaults={harmonicity:3,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5}},modulator:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.5,decay:.1,sustain:1,release:.5}}},t.SimpleAM.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.carrier.envelope.triggerAttack(t,e),this.modulator.envelope.triggerAttack(t),this},t.SimpleAM.prototype._triggerEnvelopeRelease=function(t){return this.carrier.triggerRelease(t),this.modulator.triggerRelease(t),this},t.SimpleAM.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.disconnect(),this._modulationNode=null,this},t.SimpleAM}),Module(function(t){return t.SimpleFM=function(e){e=this.defaultArg(e,t.SimpleFM.defaults),t.Monophonic.call(this,e),this.carrier=new t.SimpleSynth(e.carrier),this.carrier.volume.value=-10,this.modulator=new t.SimpleSynth(e.modulator),this.modulator.volume.value=-10,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.modulator.connect(this._modulationNode.gain),this._modulationNode.gain.value=0,this._modulationNode.connect(this.carrier.frequency),this.carrier.connect(this.output),this._readOnly(["carrier","modulator","frequency","harmonicity","modulationIndex"])},t.extend(t.SimpleFM,t.Monophonic),t.SimpleFM.defaults={harmonicity:3,modulationIndex:10,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:0,sustain:1,release:.5}},modulator:{volume:-10,portamento:0,oscillator:{type:"triangle"},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},t.SimpleFM.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.carrier.envelope.triggerAttack(t,e),this.modulator.envelope.triggerAttack(t),this},t.SimpleFM.prototype._triggerEnvelopeRelease=function(t){return this.carrier.triggerRelease(t),this.modulator.triggerRelease(t),this},t.SimpleFM.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity","modulationIndex"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.disconnect(),this._modulationNode=null,this},t.SimpleFM}),Module(function(t){return t.Effect=function(){t.call(this);var e=this.optionsObject(arguments,["wet"],t.Effect.defaults);this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this.effectSend=this.context.createGain(),this.effectReturn=this.context.createGain(),this.input.connect(this._dryWet.a),this.input.connect(this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.Effect),t.Effect.defaults={wet:1},t.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},t.Effect.prototype.dispose=function(){return t.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.disconnect(),this.effectSend=null,this.effectReturn.disconnect(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},t.Effect}),Module(function(t){return t.AutoFilter=function(){var e=this.optionsObject(arguments,["frequency","min","max"],t.AutoFilter.defaults);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:e.min,max:e.max}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new t.Filter(e.filter),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=e.type,this._readOnly(["frequency","depth"])},t.extend(t.AutoFilter,t.Effect),t.AutoFilter.defaults={frequency:1,type:"sine",depth:1,min:200,max:1200,filter:{type:"lowpass",rolloff:-12,Q:1}},t.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},t.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(t.AutoFilter.prototype,"min",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=t}}),Object.defineProperty(t.AutoFilter.prototype,"max",{get:function(){return this._lfo.max},set:function(t){this._lfo.max=t}}),t.AutoFilter.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},t.AutoFilter}),Module(function(t){return t.AutoPanner=function(){var e=this.optionsObject(arguments,["frequency"],t.AutoPanner.defaults);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:0,max:1,phase:90}),this.depth=this._lfo.amplitude,this._panner=new t.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=e.type,this._readOnly(["depth","frequency"])},t.extend(t.AutoPanner,t.Effect),t.AutoPanner.defaults={frequency:1,type:"sine",depth:1},t.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},t.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.AutoPanner.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},t.AutoPanner}),Module(function(t){return t.AutoWah=function(){var e=this.optionsObject(arguments,["baseFrequency","octaves","sensitivity"],t.AutoWah.defaults);t.Effect.call(this,e),this.follower=new t.Follower(e.follower),this._sweepRange=new t.ScaleExp(0,1,.5),this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this._inputBoost=this.context.createGain(),this._bandpass=new t.Filter({rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new t.Filter(0,"peaking"),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,this._readOnly(["gain","Q"])},t.extend(t.AutoWah,t.Effect),t.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(t.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"sensitivity",{get:function(){return this.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/this.dbToGain(t)}}),t.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},t.AutoWah.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.disconnect(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},t.AutoWah}),Module(function(t){return t.BitCrusher=function(){var e=this.optionsObject(arguments,["bits"],t.BitCrusher.defaults);t.Effect.call(this,e);var n=1/Math.pow(2,e.bits-1);this._subtract=new t.Subtract,this._modulo=new t.Modulo(n),this._bits=e.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},t.extend(t.BitCrusher,t.Effect),t.BitCrusher.defaults={bits:4},Object.defineProperty(t.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),t.BitCrusher.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},t.BitCrusher}),Module(function(t){return t.Chebyshev=function(){var e=this.optionsObject(arguments,["order"],t.Chebyshev.defaults);t.Effect.call(this),this._shaper=new t.WaveShaper(4096),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample},t.extend(t.Chebyshev,t.Effect),t.Chebyshev.defaults={order:1,oversample:"none"},t.Chebyshev.prototype._getCoefficient=function(t,e,n){return n.hasOwnProperty(e)?n[e]:(0===e?n[e]=0:1===e?n[e]=t:n[e]=2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n),n[e])},Object.defineProperty(t.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),n=e.length,r=0;n>r;++r){var i=2*r/n-1;0===i?e[r]=0:e[r]=this._getCoefficient(i,t,{})}this._shaper.curve=e}}),Object.defineProperty(t.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Chebyshev.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Chebyshev}),Module(function(t){return t.StereoEffect=function(){t.call(this);var e=this.optionsObject(arguments,["wet"],t.Effect.defaults);this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this._split=new t.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new t.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,this.input.connect(this._split),this.input.connect(this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.StereoEffect,t.Effect),t.StereoEffect.prototype.dispose=function(){return t.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},t.StereoEffect}),Module(function(t){return t.FeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"]);e=this.defaultArg(e,t.FeedbackEffect.defaults),t.Effect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackGain=this.context.createGain(),this.effectReturn.chain(this._feedbackGain,this.effectSend),this.feedback.connect(this._feedbackGain.gain),this._readOnly(["feedback"])},t.extend(t.FeedbackEffect,t.Effect),t.FeedbackEffect.defaults={feedback:.125},t.FeedbackEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackGain.disconnect(),this._feedbackGain=null,this},t.FeedbackEffect}),Module(function(t){return t.StereoXFeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"],t.FeedbackEffect.defaults);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackLR=this.context.createGain(),this._feedbackRL=this.context.createGain(),this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},t.extend(t.StereoXFeedbackEffect,t.FeedbackEffect),t.StereoXFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.disconnect(),this._feedbackLR=null,this._feedbackRL.disconnect(),this._feedbackRL=null,this},t.StereoXFeedbackEffect}),Module(function(t){return t.Chorus=function(){var e=this.optionsObject(arguments,["frequency","delayTime","depth"],t.Chorus.defaults);t.StereoXFeedbackEffect.call(this,e),this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new t.LFO(e.rate,0,1),this._lfoR=new t.LFO(e.rate,0,1),this._lfoR.phase=180,this._delayNodeL=this.context.createDelay(),this._delayNodeR=this.context.createDelay(),this.frequency=this._lfoL.frequency,this.connectSeries(this.effectSendL,this._delayNodeL,this.effectReturnL),this.connectSeries(this.effectSendR,this._delayNodeR,this.effectReturnR),this.input.connect(this.output),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=e.frequency,this.type=e.type,this._readOnly(["frequency"])},t.extend(t.Chorus,t.StereoXFeedbackEffect),t.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,feedback:.1,type:"sine"},Object.defineProperty(t.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(t.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(t.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),t.Chorus.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.disconnect(),this._delayNodeL=null,this._delayNodeR.disconnect(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},t.Chorus}),Module(function(t){return t.Convolver=function(){var e=this.optionsObject(arguments,["url"],t.Convolver.defaults);t.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new t.Buffer(e.url,function(t){this.buffer=t,e.onload()}.bind(this)),this.connectEffect(this._convolver)},t.extend(t.Convolver,t.Effect),t.Convolver.defaults={url:"",onload:t.noOp},Object.defineProperty(t.Convolver.prototype,"buffer",{get:function(){return this._buffer.get()},set:function(t){this._buffer.set(t),this._convolver.buffer=this._buffer.get()}}),t.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this)),this},t.Convolver.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this._buffer.dispose(),
this._buffer=null,this},t.Convolver}),Module(function(t){return t.Distortion=function(){var e=this.optionsObject(arguments,["distortion"],t.Distortion.defaults);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample},t.extend(t.Distortion,t.Effect),t.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(t.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,n=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(t.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Distortion.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Distortion}),Module(function(t){return t.FeedbackDelay=function(){var e=this.optionsObject(arguments,["delayTime","feedback"],t.FeedbackDelay.defaults);t.FeedbackEffect.call(this,e),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this._delayNode=this.context.createDelay(4),this.connectEffect(this._delayNode),this.delayTime.connect(this._delayNode.delayTime),this._readOnly(["delayTime"])},t.extend(t.FeedbackDelay,t.FeedbackEffect),t.FeedbackDelay.defaults={delayTime:.25},t.FeedbackDelay.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this.delayTime.dispose(),this._delayNode.disconnect(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},t.FeedbackDelay}),Module(function(t){var e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],n=[225,556,441,341];return t.Freeverb=function(){var r=this.optionsObject(arguments,["roomSize","dampening"],t.Freeverb.defaults);t.StereoEffect.call(this,r),this.roomSize=new t.Signal(r.roomSize,t.Type.NormalRange),this.dampening=new t.Signal(r.dampening,t.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var i=0;i<n.length;i++){var o=this.context.createBiquadFilter();o.type="allpass",o.frequency.value=n[i],this._allpassFiltersL.push(o)}for(var s=0;s<n.length;s++){var a=this.context.createBiquadFilter();a.type="allpass",a.frequency.value=n[s],this._allpassFiltersR.push(a)}for(var u=0;u<e.length;u++){var l=new t.LowpassCombFilter(e[u]);u<e.length/2?this.effectSendL.chain(l,this._allpassFiltersL[0]):this.effectSendR.chain(l,this._allpassFiltersR[0]),this.roomSize.connect(l.resonance),this.dampening.connect(l.dampening),this._combFilters.push(l)}this.connectSeries.apply(this,this._allpassFiltersL),this.connectSeries.apply(this,this._allpassFiltersR),this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL),this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR),this._readOnly(["roomSize","dampening"])},t.extend(t.Freeverb,t.StereoEffect),t.Freeverb.defaults={roomSize:.7,dampening:3e3},t.Freeverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFiltersL.length;e++)this._allpassFiltersL[e].disconnect(),this._allpassFiltersL[e]=null;this._allpassFiltersL=null;for(var n=0;n<this._allpassFiltersR.length;n++)this._allpassFiltersR[n].disconnect(),this._allpassFiltersR[n]=null;this._allpassFiltersR=null;for(var r=0;r<this._combFilters.length;r++)this._combFilters[r].dispose(),this._combFilters[r]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},t.Freeverb}),Module(function(t){var e=[.06748,.06404,.08212,.09004],n=[.773,.802,.753,.733],r=[347,113,37];return t.JCReverb=function(){var i=this.optionsObject(arguments,["roomSize"],t.JCReverb.defaults);t.StereoEffect.call(this,i),this.roomSize=new t.Signal(i.roomSize,t.Type.NormalRange),this._scaleRoomSize=new t.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var o=0;o<r.length;o++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=r[o],this._allpassFilters.push(s)}for(var a=0;a<e.length;a++){var u=new t.FeedbackCombFilter(e[a],.1);this._scaleRoomSize.connect(u.resonance),u.resonance.value=n[a],this._allpassFilters[this._allpassFilters.length-1].connect(u),a<e.length/2?u.connect(this.effectReturnL):u.connect(this.effectReturnR),this._feedbackCombFilters.push(u)}this.roomSize.connect(this._scaleRoomSize),this.connectSeries.apply(this,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},t.extend(t.JCReverb,t.StereoEffect),t.JCReverb.defaults={roomSize:.5},t.JCReverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFilters.length;e++)this._allpassFilters[e].disconnect(),this._allpassFilters[e]=null;this._allpassFilters=null;for(var n=0;n<this._feedbackCombFilters.length;n++)this._feedbackCombFilters[n].dispose(),this._feedbackCombFilters[n]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},t.JCReverb}),Module(function(t){return t.MidSideEffect=function(){t.Effect.call(this),this._midSideSplit=new t.MidSideSplit,this._midSideMerge=new t.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},t.extend(t.MidSideEffect,t.Effect),t.MidSideEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},t.MidSideEffect}),Module(function(t){return t.Phaser=function(){var e=this.optionsObject(arguments,["frequency","depth","baseFrequency"],t.Phaser.defaults);t.StereoEffect.call(this,e),this._lfoL=new t.LFO(e.frequency,0,1),this._lfoR=new t.LFO(e.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=e.baseFrequency,this._depth=e.depth,this.Q=new t.Signal(e.Q,t.Type.Positive),this._filtersL=this._makeFilters(e.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(e.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),this._filtersL[e.stages-1].connect(this.effectReturnL),this._filtersR[e.stages-1].connect(this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.depth=e.depth,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},t.extend(t.Phaser,t.StereoEffect),t.Phaser.defaults={frequency:.5,depth:10,stages:10,Q:10,baseFrequency:350},t.Phaser.prototype._makeFilters=function(t,e,n){for(var r=new Array(t),i=0;t>i;i++){var o=this.context.createBiquadFilter();o.type="allpass",n.connect(o.Q),e.connect(o.frequency),r[i]=o}return this.connectSeries.apply(this,r),r},Object.defineProperty(t.Phaser.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._baseFrequency+this._baseFrequency*t;this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(t.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.depth=this._depth}}),t.Phaser.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var e=0;e<this._filtersL.length;e++)this._filtersL[e].disconnect(),this._filtersL[e]=null;this._filtersL=null;for(var n=0;n<this._filtersR.length;n++)this._filtersR[n].disconnect(),this._filtersR[n]=null;return this._filtersR=null,this.frequency=null,this},t.Phaser}),Module(function(t){return t.PingPongDelay=function(){var e=this.optionsObject(arguments,["delayTime","feedback"],t.PingPongDelay.defaults);t.StereoXFeedbackEffect.call(this,e),this._leftDelay=this.context.createDelay(e.maxDelayTime),this._rightDelay=this.context.createDelay(e.maxDelayTime),this._rightPreDelay=this.context.createDelay(e.maxDelayTime),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},t.extend(t.PingPongDelay,t.StereoXFeedbackEffect),t.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},t.PingPongDelay.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.disconnect(),this._leftDelay=null,this._rightDelay.disconnect(),this._rightDelay=null,this._rightPreDelay.disconnect(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},t.PingPongDelay}),Module(function(t){return t.StereoFeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"],t.FeedbackEffect.defaults);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackL=this.context.createGain(),this._feedbackR=this.context.createGain(),this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},t.extend(t.StereoFeedbackEffect,t.FeedbackEffect),t.StereoFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.disconnect(),this._feedbackL=null,this._feedbackR.disconnect(),this._feedbackR=null,this},t.StereoFeedbackEffect}),Module(function(t){return t.StereoWidener=function(){var e=this.optionsObject(arguments,["width"],t.StereoWidener.defaults);t.MidSideEffect.call(this,e),this.width=new t.Signal(.5,t.Type.NormalRange),this._midMult=new t.Expr("$0 * ($1 * (1 - $2))"),this._sideMult=new t.Expr("$0 * ($1 * $2)"),this._two=new t.Signal(2),this._two.connect(this._midMult,0,1),this.width.connect(this._midMult,0,2),this._two.connect(this._sideMult,0,1),this.width.connect(this._sideMult,0,2),this.midSend.chain(this._midMult,this.midReturn),this.sideSend.chain(this._sideMult,this.sideReturn),this._readOnly(["width"])},t.extend(t.StereoWidener,t.MidSideEffect),t.StereoWidener.defaults={width:.5},t.StereoWidener.prototype.dispose=function(){return t.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._two.dispose(),this._two=null,this},t.StereoWidener}),Module(function(t){return t.Tremolo=function(){var e=this.optionsObject(arguments,["frequency","depth"],t.Tremolo.defaults);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:1,max:0}),this._amplitude=this.context.createGain(),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this._readOnly(["frequency","depth"]),this.connectEffect(this._amplitude),this._lfo.connect(this._amplitude.gain),this.type=e.type},t.extend(t.Tremolo,t.Effect),t.Tremolo.defaults={frequency:10,type:"sine",depth:.5},t.Tremolo.prototype.start=function(t){return this._lfo.start(t),this},t.Tremolo.prototype.stop=function(t){return this._lfo.stop(t),this},t.Tremolo.prototype.sync=function(t){return this._lfo.sync(t),this},t.Tremolo.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.Tremolo.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.Tremolo.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfo.dispose(),this._lfo=null,this._amplitude.disconnect(),this._amplitude=null,this.frequency=null,this.depth=null,this},t.Tremolo}),Module(function(t){return t.Clip=function(e,n){if(e>n){var r=e;e=n,n=r}this.min=this.input=new t.Min(n),this._readOnly("min"),this.max=this.output=new t.Max(e),this._readOnly("max"),this.min.connect(this.max)},t.extend(t.Clip,t.SignalBase),t.Clip.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("min"),this.min.dispose(),this.min=null,this._writable("max"),this.max.dispose(),this.max=null,this},t.Clip}),Module(function(t){return t.Normalize=function(e,n){this._inputMin=this.defaultArg(e,0),this._inputMax=this.defaultArg(n,1),this._sub=this.input=new t.Add(0),this._div=this.output=new t.Multiply(1),this._sub.connect(this._div),this._setRange()},t.extend(t.Normalize,t.SignalBase),Object.defineProperty(t.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(t.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),t.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},t.Normalize.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},t.Normalize}),Module(function(t){t.Route=function(n){n=this.defaultArg(n,2),t.call(this,1,n),this.gate=new t.Signal(0),this._readOnly("gate");for(var r=0;n>r;r++){var i=new e(r);this.output[r]=i,this.gate.connect(i.selecter),this.input.connect(i)}},t.extend(t.Route,t.SignalBase),t.Route.prototype.select=function(t,e){return t=Math.floor(t),this.gate.setValueAtTime(t,this.toSeconds(e)),this},t.Route.prototype.dispose=function(){this._writable("gate"),this.gate.dispose(),this.gate=null;for(var e=0;e<this.output.length;e++)this.output[e].dispose(),this.output[e]=null;return t.prototype.dispose.call(this),this};var e=function(e){this.selecter=new t.Equal(e),this.gate=this.input=this.output=this.context.createGain(),this.selecter.connect(this.gate.gain)};return t.extend(e),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.selecter.dispose(),this.selecter=null,this.gate.disconnect(),this.gate=null},t.Route}),Module(function(t){return t.Switch=function(e){e=this.defaultArg(e,!1),t.call(this),this.gate=new t.Signal(0),this._readOnly("gate"),this._thresh=new t.GreaterThan(.5),this.input.connect(this.output),this.gate.chain(this._thresh,this.output.gain),e&&this.open()},t.extend(t.Switch,t.SignalBase),t.Switch.prototype.open=function(t){return this.gate.setValueAtTime(1,this.toSeconds(t)),this},t.Switch.prototype.close=function(t){return this.gate.setValueAtTime(0,this.toSeconds(t)),this},t.Switch.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("gate"),this.gate.dispose(),this.gate=null,this._thresh.dispose(),this._thresh=null,this},t.Switch}),Module(function(t){return t.Microphone=function(e){t.Source.call(this),this._mediaStream=null,this._stream=null,this._constraints={audio:!0};var n=this;MediaStreamTrack.getSources(function(t){e<t.length&&(n.constraints.audio={optional:[{sourceId:t[e].id}]})})},t.extend(t.Microphone,t.Source),t.Microphone.prototype._start=function(){navigator.getUserMedia(this._constraints,this._onStream.bind(this),this._onStreamError.bind(this))},t.Microphone.prototype._stop=function(){return this._stream.stop(),this},t.Microphone.prototype._onStream=function(t){this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),this._mediaStream.connect(this.output)},t.Microphone.prototype._onStreamError=function(t){console.error(t)},t.Microphone.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._mediaStream&&(this._mediaStream.disconnect(),this._mediaStream=null),this._stream=null,this._constraints=null,this},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,t.Microphone}),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return Tone}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this)}]);